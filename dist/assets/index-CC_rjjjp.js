function bj(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(s,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function xf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wj(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}),n}var ld={exports:{}},_o={},cd={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function jj(){if(Op)return Fe;Op=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function b(E){return E===null||typeof E!="object"?null:(E=x&&E[x]||E["@@iterator"],typeof E=="function"?E:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function j(E,z,X){this.props=E,this.context=z,this.refs=k,this.updater=X||y}j.prototype.isReactComponent={},j.prototype.setState=function(E,z){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,z,"setState")},j.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function M(){}M.prototype=j.prototype;function _(E,z,X){this.props=E,this.context=z,this.refs=k,this.updater=X||y}var L=_.prototype=new M;L.constructor=_,N(L,j.prototype),L.isPureReactComponent=!0;var S=Array.isArray,P=Object.prototype.hasOwnProperty,R={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function F(E,z,X){var se,H={},me=null,te=null;if(z!=null)for(se in z.ref!==void 0&&(te=z.ref),z.key!==void 0&&(me=""+z.key),z)P.call(z,se)&&!O.hasOwnProperty(se)&&(H[se]=z[se]);var le=arguments.length-2;if(le===1)H.children=X;else if(1<le){for(var xe=Array(le),ce=0;ce<le;ce++)xe[ce]=arguments[ce+2];H.children=xe}if(E&&E.defaultProps)for(se in le=E.defaultProps,le)H[se]===void 0&&(H[se]=le[se]);return{$$typeof:t,type:E,key:me,ref:te,props:H,_owner:R.current}}function W(E,z){return{$$typeof:t,type:E.type,key:z,ref:E.ref,props:E.props,_owner:E._owner}}function A(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function Q(E){var z={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(X){return z[X]})}var J=/\/+/g;function re(E,z){return typeof E=="object"&&E!==null&&E.key!=null?Q(""+E.key):z.toString(36)}function ee(E,z,X,se,H){var me=typeof E;(me==="undefined"||me==="boolean")&&(E=null);var te=!1;if(E===null)te=!0;else switch(me){case"string":case"number":te=!0;break;case"object":switch(E.$$typeof){case t:case e:te=!0}}if(te)return te=E,H=H(te),E=se===""?"."+re(te,0):se,S(H)?(X="",E!=null&&(X=E.replace(J,"$&/")+"/"),ee(H,z,X,"",function(ce){return ce})):H!=null&&(A(H)&&(H=W(H,X+(!H.key||te&&te.key===H.key?"":(""+H.key).replace(J,"$&/")+"/")+E)),z.push(H)),1;if(te=0,se=se===""?".":se+":",S(E))for(var le=0;le<E.length;le++){me=E[le];var xe=se+re(me,le);te+=ee(me,z,X,xe,H)}else if(xe=b(E),typeof xe=="function")for(E=xe.call(E),le=0;!(me=E.next()).done;)me=me.value,xe=se+re(me,le++),te+=ee(me,z,X,xe,H);else if(me==="object")throw z=String(E),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return te}function T(E,z,X){if(E==null)return E;var se=[],H=0;return ee(E,se,"","",function(me){return z.call(X,me,H++)}),se}function q(E){if(E._status===-1){var z=E._result;z=z(),z.then(function(X){(E._status===0||E._status===-1)&&(E._status=1,E._result=X)},function(X){(E._status===0||E._status===-1)&&(E._status=2,E._result=X)}),E._status===-1&&(E._status=0,E._result=z)}if(E._status===1)return E._result.default;throw E._result}var K={current:null},U={transition:null},D={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:U,ReactCurrentOwner:R};function V(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:T,forEach:function(E,z,X){T(E,function(){z.apply(this,arguments)},X)},count:function(E){var z=0;return T(E,function(){z++}),z},toArray:function(E){return T(E,function(z){return z})||[]},only:function(E){if(!A(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Fe.Component=j,Fe.Fragment=n,Fe.Profiler=i,Fe.PureComponent=_,Fe.StrictMode=s,Fe.Suspense=f,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,Fe.act=V,Fe.cloneElement=function(E,z,X){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var se=N({},E.props),H=E.key,me=E.ref,te=E._owner;if(z!=null){if(z.ref!==void 0&&(me=z.ref,te=R.current),z.key!==void 0&&(H=""+z.key),E.type&&E.type.defaultProps)var le=E.type.defaultProps;for(xe in z)P.call(z,xe)&&!O.hasOwnProperty(xe)&&(se[xe]=z[xe]===void 0&&le!==void 0?le[xe]:z[xe])}var xe=arguments.length-2;if(xe===1)se.children=X;else if(1<xe){le=Array(xe);for(var ce=0;ce<xe;ce++)le[ce]=arguments[ce+2];se.children=le}return{$$typeof:t,type:E.type,key:H,ref:me,props:se,_owner:te}},Fe.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:l,_context:E},E.Consumer=E},Fe.createElement=F,Fe.createFactory=function(E){var z=F.bind(null,E);return z.type=E,z},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(E){return{$$typeof:d,render:E}},Fe.isValidElement=A,Fe.lazy=function(E){return{$$typeof:g,_payload:{_status:-1,_result:E},_init:q}},Fe.memo=function(E,z){return{$$typeof:p,type:E,compare:z===void 0?null:z}},Fe.startTransition=function(E){var z=U.transition;U.transition={};try{E()}finally{U.transition=z}},Fe.unstable_act=V,Fe.useCallback=function(E,z){return K.current.useCallback(E,z)},Fe.useContext=function(E){return K.current.useContext(E)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(E){return K.current.useDeferredValue(E)},Fe.useEffect=function(E,z){return K.current.useEffect(E,z)},Fe.useId=function(){return K.current.useId()},Fe.useImperativeHandle=function(E,z,X){return K.current.useImperativeHandle(E,z,X)},Fe.useInsertionEffect=function(E,z){return K.current.useInsertionEffect(E,z)},Fe.useLayoutEffect=function(E,z){return K.current.useLayoutEffect(E,z)},Fe.useMemo=function(E,z){return K.current.useMemo(E,z)},Fe.useReducer=function(E,z,X){return K.current.useReducer(E,z,X)},Fe.useRef=function(E){return K.current.useRef(E)},Fe.useState=function(E){return K.current.useState(E)},Fe.useSyncExternalStore=function(E,z,X){return K.current.useSyncExternalStore(E,z,X)},Fe.useTransition=function(){return K.current.useTransition()},Fe.version="18.3.1",Fe}var Rp;function fc(){return Rp||(Rp=1,cd.exports=jj()),cd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function kj(){if(Ip)return _o;Ip=1;var t=fc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var g,x={},b=null,y=null;p!==void 0&&(b=""+p),f.key!==void 0&&(b=""+f.key),f.ref!==void 0&&(y=f.ref);for(g in f)s.call(f,g)&&!l.hasOwnProperty(g)&&(x[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)x[g]===void 0&&(x[g]=f[g]);return{$$typeof:e,type:d,key:b,ref:y,props:x,_owner:i.current}}return _o.Fragment=n,_o.jsx=u,_o.jsxs=u,_o}var Dp;function Nj(){return Dp||(Dp=1,ld.exports=kj()),ld.exports}var a=Nj(),h=fc();const ge=xf(h),yf=bj({__proto__:null,default:ge},[h]);var kl={},ud={exports:{}},cn={},dd={exports:{}},fd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function Sj(){return Ap||(Ap=1,function(t){function e(U,D){var V=U.length;U.push(D);e:for(;0<V;){var E=V-1>>>1,z=U[E];if(0<i(z,D))U[E]=D,U[V]=z,V=E;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var D=U[0],V=U.pop();if(V!==D){U[0]=V;e:for(var E=0,z=U.length,X=z>>>1;E<X;){var se=2*(E+1)-1,H=U[se],me=se+1,te=U[me];if(0>i(H,V))me<z&&0>i(te,H)?(U[E]=te,U[me]=V,E=me):(U[E]=H,U[se]=V,E=se);else if(me<z&&0>i(te,V))U[E]=te,U[me]=V,E=me;else break e}}return D}function i(U,D){var V=U.sortIndex-D.sortIndex;return V!==0?V:U.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,x=null,b=3,y=!1,N=!1,k=!1,j=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(U){for(var D=n(p);D!==null;){if(D.callback===null)s(p);else if(D.startTime<=U)s(p),D.sortIndex=D.expirationTime,e(f,D);else break;D=n(p)}}function S(U){if(k=!1,L(U),!N)if(n(f)!==null)N=!0,q(P);else{var D=n(p);D!==null&&K(S,D.startTime-U)}}function P(U,D){N=!1,k&&(k=!1,M(F),F=-1),y=!0;var V=b;try{for(L(D),x=n(f);x!==null&&(!(x.expirationTime>D)||U&&!Q());){var E=x.callback;if(typeof E=="function"){x.callback=null,b=x.priorityLevel;var z=E(x.expirationTime<=D);D=t.unstable_now(),typeof z=="function"?x.callback=z:x===n(f)&&s(f),L(D)}else s(f);x=n(f)}if(x!==null)var X=!0;else{var se=n(p);se!==null&&K(S,se.startTime-D),X=!1}return X}finally{x=null,b=V,y=!1}}var R=!1,O=null,F=-1,W=5,A=-1;function Q(){return!(t.unstable_now()-A<W)}function J(){if(O!==null){var U=t.unstable_now();A=U;var D=!0;try{D=O(!0,U)}finally{D?re():(R=!1,O=null)}}else R=!1}var re;if(typeof _=="function")re=function(){_(J)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,T=ee.port2;ee.port1.onmessage=J,re=function(){T.postMessage(null)}}else re=function(){j(J,0)};function q(U){O=U,R||(R=!0,re())}function K(U,D){F=j(function(){U(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){N||y||(N=!0,q(P))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(U){switch(b){case 1:case 2:case 3:var D=3;break;default:D=b}var V=b;b=D;try{return U()}finally{b=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,D){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var V=b;b=U;try{return D()}finally{b=V}},t.unstable_scheduleCallback=function(U,D,V){var E=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?E+V:E):V=E,U){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=V+z,U={id:g++,callback:D,priorityLevel:U,startTime:V,expirationTime:z,sortIndex:-1},V>E?(U.sortIndex=V,e(p,U),n(f)===null&&U===n(p)&&(k?(M(F),F=-1):k=!0,K(S,V-E))):(U.sortIndex=z,e(f,U),N||y||(N=!0,q(P))),U},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(U){var D=b;return function(){var V=b;b=D;try{return U.apply(this,arguments)}finally{b=V}}}}(fd)),fd}var zp;function Cj(){return zp||(zp=1,dd.exports=Sj()),dd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function Ej(){if($p)return cn;$p=1;var t=fc(),e=Cj();function n(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function l(r,o){u(r,o),u(r+"Capture",o)}function u(r,o){for(i[r]=o,r=0;r<o.length;r++)s.add(o[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},x={};function b(r){return f.call(x,r)?!0:f.call(g,r)?!1:p.test(r)?x[r]=!0:(g[r]=!0,!1)}function y(r,o,c,m){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function N(r,o,c,m){if(o===null||typeof o>"u"||y(r,o,c,m))return!0;if(m)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function k(r,o,c,m,v,w,C){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=v,this.mustUseProperty=c,this.propertyName=r,this.type=o,this.sanitizeURL=w,this.removeEmptyString=C}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];j[o]=new k(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function _(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(M,_);j[o]=new k(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(M,_);j[o]=new k(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(M,_);j[o]=new k(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function L(r,o,c,m){var v=j.hasOwnProperty(o)?j[o]:null;(v!==null?v.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(N(o,c,v,m)&&(c=null),m||v===null?b(o)&&(c===null?r.removeAttribute(o):r.setAttribute(o,""+c)):v.mustUseProperty?r[v.propertyName]=c===null?v.type===3?!1:"":c:(o=v.attributeName,m=v.attributeNamespace,c===null?r.removeAttribute(o):(v=v.type,c=v===3||v===4&&c===!0?"":""+c,m?r.setAttributeNS(m,o,c):r.setAttribute(o,c))))}var S=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),R=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),Q=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),U=Symbol.iterator;function D(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var V=Object.assign,E;function z(r){if(E===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);E=o&&o[1]||""}return`
`+E+r}var X=!1;function se(r,o){if(!r||X)return"";X=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var m=Y}Reflect.construct(r,[],o)}else{try{o.call()}catch(Y){m=Y}r.call(o.prototype)}else{try{throw Error()}catch(Y){m=Y}r()}}catch(Y){if(Y&&m&&typeof Y.stack=="string"){for(var v=Y.stack.split(`
`),w=m.stack.split(`
`),C=v.length-1,I=w.length-1;1<=C&&0<=I&&v[C]!==w[I];)I--;for(;1<=C&&0<=I;C--,I--)if(v[C]!==w[I]){if(C!==1||I!==1)do if(C--,I--,0>I||v[C]!==w[I]){var $=`
`+v[C].replace(" at new "," at ");return r.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",r.displayName)),$}while(1<=C&&0<=I);break}}}finally{X=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?z(r):""}function H(r){switch(r.tag){case 5:return z(r.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return r=se(r.type,!1),r;case 11:return r=se(r.type.render,!1),r;case 1:return r=se(r.type,!0),r;default:return""}}function me(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case R:return"Portal";case W:return"Profiler";case F:return"StrictMode";case re:return"Suspense";case ee:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Q:return(r.displayName||"Context")+".Consumer";case A:return(r._context.displayName||"Context")+".Provider";case J:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case T:return o=r.displayName||null,o!==null?o:me(r.type)||"Memo";case q:o=r._payload,r=r._init;try{return me(r(o))}catch{}}return null}function te(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(o);case 8:return o===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function le(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function xe(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ce(r){var o=xe(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),m=""+r[o];if(!r.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,w=c.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return v.call(this)},set:function(C){m=""+C,w.call(this,C)}}),Object.defineProperty(r,o,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(C){m=""+C},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function oe(r){r._valueTracker||(r._valueTracker=ce(r))}function Ee(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return r&&(m=xe(r)?r.checked?"true":"false":r.value),r=m,r!==c?(o.setValue(r),!0):!1}function Ue(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ye(r,o){var c=o.checked;return V({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function De(r,o){var c=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;c=le(o.value!=null?o.value:c),r._wrapperState={initialChecked:m,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function bt(r,o){o=o.checked,o!=null&&L(r,"checked",o,!1)}function mt(r,o){bt(r,o);var c=le(o.value),m=o.type;if(c!=null)m==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(m==="submit"||m==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?dt(r,o.type,c):o.hasOwnProperty("defaultValue")&&dt(r,o.type,le(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function kt(r,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,c||o===r.value||(r.value=o),r.defaultValue=o}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function dt(r,o,c){(o!=="number"||Ue(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var Nt=Array.isArray;function Ne(r,o,c,m){if(r=r.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<r.length;c++)v=o.hasOwnProperty("$"+r[c].value),r[c].selected!==v&&(r[c].selected=v),v&&m&&(r[c].defaultSelected=!0)}else{for(c=""+le(c),o=null,v=0;v<r.length;v++){if(r[v].value===c){r[v].selected=!0,m&&(r[v].defaultSelected=!0);return}o!==null||r[v].disabled||(o=r[v])}o!==null&&(o.selected=!0)}}function nt(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return V({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function we(r,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(Nt(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}r._wrapperState={initialValue:le(c)}}function Re(r,o){var c=le(o.value),m=le(o.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),o.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),m!=null&&(r.defaultValue=""+m)}function tt(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function Be(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?Be(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ae,he=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,m,v){MSApp.execUnsafeLocalFunction(function(){return r(o,c,m,v)})}:r}(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(ae=ae||document.createElement("div"),ae.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ae.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function Oe(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var rt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lt=["Webkit","ms","Moz","O"];Object.keys(rt).forEach(function(r){Lt.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),rt[o]=rt[r]})});function Ut(r,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||rt.hasOwnProperty(r)&&rt[r]?(""+o).trim():o+"px"}function Bt(r,o){r=r.style;for(var c in o)if(o.hasOwnProperty(c)){var m=c.indexOf("--")===0,v=Ut(c,o[c],m);c==="float"&&(c="cssFloat"),m?r.setProperty(c,v):r[c]=v}}var Sn=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function en(r,o){if(o){if(Sn[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function hn(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mn=null;function On(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var hr=null,Rn=null,pn=null;function qt(r){if(r=ho(r)){if(typeof hr!="function")throw Error(n(280));var o=r.stateNode;o&&(o=zi(o),hr(r.stateNode,r.type,o))}}function ws(r){Rn?pn?pn.push(r):pn=[r]:Rn=r}function Me(){if(Rn){var r=Rn,o=pn;if(pn=Rn=null,qt(r),o)for(r=0;r<o.length;r++)qt(o[r])}}function Ke(r,o){return r(o)}function Xe(){}var Rt=!1;function Gt(r,o,c){if(Rt)return r(o,c);Rt=!0;try{return Ke(r,o,c)}finally{Rt=!1,(Rn!==null||pn!==null)&&(Xe(),Me())}}function St(r,o){var c=r.stateNode;if(c===null)return null;var m=zi(c);if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var _e=!1;if(d)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){_e=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch{_e=!1}function Xn(r,o,c,m,v,w,C,I,$){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(c,Y)}catch(de){this.onError(de)}}var Ga=!1,gi=null,vi=!1,Ec=null,Ew={onError:function(r){Ga=!0,gi=r}};function _w(r,o,c,m,v,w,C,I,$){Ga=!1,gi=null,Xn.apply(Ew,arguments)}function Lw(r,o,c,m,v,w,C,I,$){if(_w.apply(this,arguments),Ga){if(Ga){var Y=gi;Ga=!1,gi=null}else throw Error(n(198));vi||(vi=!0,Ec=Y)}}function js(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function nh(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function rh(r){if(js(r)!==r)throw Error(n(188))}function Pw(r){var o=r.alternate;if(!o){if(o=js(r),o===null)throw Error(n(188));return o!==r?null:r}for(var c=r,m=o;;){var v=c.return;if(v===null)break;var w=v.alternate;if(w===null){if(m=v.return,m!==null){c=m;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===c)return rh(v),r;if(w===m)return rh(v),o;w=w.sibling}throw Error(n(188))}if(c.return!==m.return)c=v,m=w;else{for(var C=!1,I=v.child;I;){if(I===c){C=!0,c=v,m=w;break}if(I===m){C=!0,m=v,c=w;break}I=I.sibling}if(!C){for(I=w.child;I;){if(I===c){C=!0,c=w,m=v;break}if(I===m){C=!0,m=w,c=v;break}I=I.sibling}if(!C)throw Error(n(189))}}if(c.alternate!==m)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?r:o}function sh(r){return r=Pw(r),r!==null?ah(r):null}function ah(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=ah(r);if(o!==null)return o;r=r.sibling}return null}var oh=e.unstable_scheduleCallback,ih=e.unstable_cancelCallback,Mw=e.unstable_shouldYield,Tw=e.unstable_requestPaint,wt=e.unstable_now,Ow=e.unstable_getCurrentPriorityLevel,_c=e.unstable_ImmediatePriority,lh=e.unstable_UserBlockingPriority,xi=e.unstable_NormalPriority,Rw=e.unstable_LowPriority,ch=e.unstable_IdlePriority,yi=null,Qn=null;function Iw(r){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(yi,r,void 0,(r.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:zw,Dw=Math.log,Aw=Math.LN2;function zw(r){return r>>>=0,r===0?32:31-(Dw(r)/Aw|0)|0}var bi=64,wi=4194304;function Ka(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ji(r,o){var c=r.pendingLanes;if(c===0)return 0;var m=0,v=r.suspendedLanes,w=r.pingedLanes,C=c&268435455;if(C!==0){var I=C&~v;I!==0?m=Ka(I):(w&=C,w!==0&&(m=Ka(w)))}else C=c&~v,C!==0?m=Ka(C):w!==0&&(m=Ka(w));if(m===0)return 0;if(o!==0&&o!==m&&(o&v)===0&&(v=m&-m,w=o&-o,v>=w||v===16&&(w&4194240)!==0))return o;if((m&4)!==0&&(m|=c&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=m;0<o;)c=31-In(o),v=1<<c,m|=r[c],o&=~v;return m}function $w(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uw(r,o){for(var c=r.suspendedLanes,m=r.pingedLanes,v=r.expirationTimes,w=r.pendingLanes;0<w;){var C=31-In(w),I=1<<C,$=v[C];$===-1?((I&c)===0||(I&m)!==0)&&(v[C]=$w(I,o)):$<=o&&(r.expiredLanes|=I),w&=~I}}function Lc(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function uh(){var r=bi;return bi<<=1,(bi&4194240)===0&&(bi=64),r}function Pc(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function Za(r,o,c){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-In(o),r[o]=c}function Bw(r,o){var c=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var m=r.eventTimes;for(r=r.expirationTimes;0<c;){var v=31-In(c),w=1<<v;o[v]=0,m[v]=-1,r[v]=-1,c&=~w}}function Mc(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var m=31-In(c),v=1<<m;v&o|r[m]&o&&(r[m]|=o),c&=~v}}var st=0;function dh(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var fh,Tc,hh,mh,ph,Oc=!1,ki=[],Or=null,Rr=null,Ir=null,Ja=new Map,Ya=new Map,Dr=[],Fw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gh(r,o){switch(r){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Ja.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ya.delete(o.pointerId)}}function Xa(r,o,c,m,v,w){return r===null||r.nativeEvent!==w?(r={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:w,targetContainers:[v]},o!==null&&(o=ho(o),o!==null&&Tc(o)),r):(r.eventSystemFlags|=m,o=r.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),r)}function Ww(r,o,c,m,v){switch(o){case"focusin":return Or=Xa(Or,r,o,c,m,v),!0;case"dragenter":return Rr=Xa(Rr,r,o,c,m,v),!0;case"mouseover":return Ir=Xa(Ir,r,o,c,m,v),!0;case"pointerover":var w=v.pointerId;return Ja.set(w,Xa(Ja.get(w)||null,r,o,c,m,v)),!0;case"gotpointercapture":return w=v.pointerId,Ya.set(w,Xa(Ya.get(w)||null,r,o,c,m,v)),!0}return!1}function vh(r){var o=ks(r.target);if(o!==null){var c=js(o);if(c!==null){if(o=c.tag,o===13){if(o=nh(c),o!==null){r.blockedOn=o,ph(r.priority,function(){hh(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ni(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=Ic(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var m=new c.constructor(c.type,c);mn=m,c.target.dispatchEvent(m),mn=null}else return o=ho(c),o!==null&&Tc(o),r.blockedOn=c,!1;o.shift()}return!0}function xh(r,o,c){Ni(r)&&c.delete(o)}function Vw(){Oc=!1,Or!==null&&Ni(Or)&&(Or=null),Rr!==null&&Ni(Rr)&&(Rr=null),Ir!==null&&Ni(Ir)&&(Ir=null),Ja.forEach(xh),Ya.forEach(xh)}function Qa(r,o){r.blockedOn===o&&(r.blockedOn=null,Oc||(Oc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vw)))}function eo(r){function o(v){return Qa(v,r)}if(0<ki.length){Qa(ki[0],r);for(var c=1;c<ki.length;c++){var m=ki[c];m.blockedOn===r&&(m.blockedOn=null)}}for(Or!==null&&Qa(Or,r),Rr!==null&&Qa(Rr,r),Ir!==null&&Qa(Ir,r),Ja.forEach(o),Ya.forEach(o),c=0;c<Dr.length;c++)m=Dr[c],m.blockedOn===r&&(m.blockedOn=null);for(;0<Dr.length&&(c=Dr[0],c.blockedOn===null);)vh(c),c.blockedOn===null&&Dr.shift()}var Zs=S.ReactCurrentBatchConfig,Si=!0;function Hw(r,o,c,m){var v=st,w=Zs.transition;Zs.transition=null;try{st=1,Rc(r,o,c,m)}finally{st=v,Zs.transition=w}}function qw(r,o,c,m){var v=st,w=Zs.transition;Zs.transition=null;try{st=4,Rc(r,o,c,m)}finally{st=v,Zs.transition=w}}function Rc(r,o,c,m){if(Si){var v=Ic(r,o,c,m);if(v===null)Xc(r,o,m,Ci,c),gh(r,m);else if(Ww(v,r,o,c,m))m.stopPropagation();else if(gh(r,m),o&4&&-1<Fw.indexOf(r)){for(;v!==null;){var w=ho(v);if(w!==null&&fh(w),w=Ic(r,o,c,m),w===null&&Xc(r,o,m,Ci,c),w===v)break;v=w}v!==null&&m.stopPropagation()}else Xc(r,o,m,null,c)}}var Ci=null;function Ic(r,o,c,m){if(Ci=null,r=On(m),r=ks(r),r!==null)if(o=js(r),o===null)r=null;else if(c=o.tag,c===13){if(r=nh(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return Ci=r,null}function yh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ow()){case _c:return 1;case lh:return 4;case xi:case Rw:return 16;case ch:return 536870912;default:return 16}default:return 16}}var Ar=null,Dc=null,Ei=null;function bh(){if(Ei)return Ei;var r,o=Dc,c=o.length,m,v="value"in Ar?Ar.value:Ar.textContent,w=v.length;for(r=0;r<c&&o[r]===v[r];r++);var C=c-r;for(m=1;m<=C&&o[c-m]===v[w-m];m++);return Ei=v.slice(r,1<m?1-m:void 0)}function _i(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Li(){return!0}function wh(){return!1}function gn(r){function o(c,m,v,w,C){this._reactName=c,this._targetInst=v,this.type=m,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(c=r[I],this[I]=c?c(w):w[I]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Li:wh,this.isPropagationStopped=wh,this}return V(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),o}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ac=gn(Js),to=V({},Js,{view:0,detail:0}),Gw=gn(to),zc,$c,no,Pi=V({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==no&&(no&&r.type==="mousemove"?(zc=r.screenX-no.screenX,$c=r.screenY-no.screenY):$c=zc=0,no=r),zc)},movementY:function(r){return"movementY"in r?r.movementY:$c}}),jh=gn(Pi),Kw=V({},Pi,{dataTransfer:0}),Zw=gn(Kw),Jw=V({},to,{relatedTarget:0}),Uc=gn(Jw),Yw=V({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),Xw=gn(Yw),Qw=V({},Js,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),e1=gn(Qw),t1=V({},Js,{data:0}),kh=gn(t1),n1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a1(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=s1[r])?!!o[r]:!1}function Bc(){return a1}var o1=V({},to,{key:function(r){if(r.key){var o=n1[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=_i(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?r1[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(r){return r.type==="keypress"?_i(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?_i(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),i1=gn(o1),l1=V({},Pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nh=gn(l1),c1=V({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),u1=gn(c1),d1=V({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),f1=gn(d1),h1=V({},Pi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),m1=gn(h1),p1=[9,13,27,32],Fc=d&&"CompositionEvent"in window,ro=null;d&&"documentMode"in document&&(ro=document.documentMode);var g1=d&&"TextEvent"in window&&!ro,Sh=d&&(!Fc||ro&&8<ro&&11>=ro),Ch=" ",Eh=!1;function _h(r,o){switch(r){case"keyup":return p1.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ys=!1;function v1(r,o){switch(r){case"compositionend":return Lh(o);case"keypress":return o.which!==32?null:(Eh=!0,Ch);case"textInput":return r=o.data,r===Ch&&Eh?null:r;default:return null}}function x1(r,o){if(Ys)return r==="compositionend"||!Fc&&_h(r,o)?(r=bh(),Ei=Dc=Ar=null,Ys=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Sh&&o.locale!=="ko"?null:o.data;default:return null}}var y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ph(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!y1[r.type]:o==="textarea"}function Mh(r,o,c,m){ws(m),o=Ii(o,"onChange"),0<o.length&&(c=new Ac("onChange","change",null,c,m),r.push({event:c,listeners:o}))}var so=null,ao=null;function b1(r){Zh(r,0)}function Mi(r){var o=na(r);if(Ee(o))return r}function w1(r,o){if(r==="change")return o}var Th=!1;if(d){var Wc;if(d){var Vc="oninput"in document;if(!Vc){var Oh=document.createElement("div");Oh.setAttribute("oninput","return;"),Vc=typeof Oh.oninput=="function"}Wc=Vc}else Wc=!1;Th=Wc&&(!document.documentMode||9<document.documentMode)}function Rh(){so&&(so.detachEvent("onpropertychange",Ih),ao=so=null)}function Ih(r){if(r.propertyName==="value"&&Mi(ao)){var o=[];Mh(o,ao,r,On(r)),Gt(b1,o)}}function j1(r,o,c){r==="focusin"?(Rh(),so=o,ao=c,so.attachEvent("onpropertychange",Ih)):r==="focusout"&&Rh()}function k1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Mi(ao)}function N1(r,o){if(r==="click")return Mi(o)}function S1(r,o){if(r==="input"||r==="change")return Mi(o)}function C1(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Dn=typeof Object.is=="function"?Object.is:C1;function oo(r,o){if(Dn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var v=c[m];if(!f.call(o,v)||!Dn(r[v],o[v]))return!1}return!0}function Dh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ah(r,o){var c=Dh(r);r=0;for(var m;c;){if(c.nodeType===3){if(m=r+c.textContent.length,r<=o&&m>=o)return{node:c,offset:o-r};r=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Dh(c)}}function zh(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?zh(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function $h(){for(var r=window,o=Ue();o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=Ue(r.document)}return o}function Hc(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function E1(r){var o=$h(),c=r.focusedElem,m=r.selectionRange;if(o!==c&&c&&c.ownerDocument&&zh(c.ownerDocument.documentElement,c)){if(m!==null&&Hc(c)){if(o=m.start,r=m.end,r===void 0&&(r=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(r,c.value.length);else if(r=(o=c.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var v=c.textContent.length,w=Math.min(m.start,v);m=m.end===void 0?w:Math.min(m.end,v),!r.extend&&w>m&&(v=m,m=w,w=v),v=Ah(c,w);var C=Ah(c,m);v&&C&&(r.rangeCount!==1||r.anchorNode!==v.node||r.anchorOffset!==v.offset||r.focusNode!==C.node||r.focusOffset!==C.offset)&&(o=o.createRange(),o.setStart(v.node,v.offset),r.removeAllRanges(),w>m?(r.addRange(o),r.extend(C.node,C.offset)):(o.setEnd(C.node,C.offset),r.addRange(o)))}}for(o=[],r=c;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)r=o[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var _1=d&&"documentMode"in document&&11>=document.documentMode,Xs=null,qc=null,io=null,Gc=!1;function Uh(r,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Gc||Xs==null||Xs!==Ue(m)||(m=Xs,"selectionStart"in m&&Hc(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),io&&oo(io,m)||(io=m,m=Ii(qc,"onSelect"),0<m.length&&(o=new Ac("onSelect","select",null,o,c),r.push({event:o,listeners:m}),o.target=Xs)))}function Ti(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var Qs={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionend:Ti("Transition","TransitionEnd")},Kc={},Bh={};d&&(Bh=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function Oi(r){if(Kc[r])return Kc[r];if(!Qs[r])return r;var o=Qs[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in Bh)return Kc[r]=o[c];return r}var Fh=Oi("animationend"),Wh=Oi("animationiteration"),Vh=Oi("animationstart"),Hh=Oi("transitionend"),qh=new Map,Gh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(r,o){qh.set(r,o),l(o,[r])}for(var Zc=0;Zc<Gh.length;Zc++){var Jc=Gh[Zc],L1=Jc.toLowerCase(),P1=Jc[0].toUpperCase()+Jc.slice(1);zr(L1,"on"+P1)}zr(Fh,"onAnimationEnd"),zr(Wh,"onAnimationIteration"),zr(Vh,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(Hh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M1=new Set("cancel close invalid load scroll toggle".split(" ").concat(lo));function Kh(r,o,c){var m=r.type||"unknown-event";r.currentTarget=c,Lw(m,o,void 0,r),r.currentTarget=null}function Zh(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var m=r[c],v=m.event;m=m.listeners;e:{var w=void 0;if(o)for(var C=m.length-1;0<=C;C--){var I=m[C],$=I.instance,Y=I.currentTarget;if(I=I.listener,$!==w&&v.isPropagationStopped())break e;Kh(v,I,Y),w=$}else for(C=0;C<m.length;C++){if(I=m[C],$=I.instance,Y=I.currentTarget,I=I.listener,$!==w&&v.isPropagationStopped())break e;Kh(v,I,Y),w=$}}}if(vi)throw r=Ec,vi=!1,Ec=null,r}function lt(r,o){var c=o[su];c===void 0&&(c=o[su]=new Set);var m=r+"__bubble";c.has(m)||(Jh(o,r,2,!1),c.add(m))}function Yc(r,o,c){var m=0;o&&(m|=4),Jh(c,r,m,o)}var Ri="_reactListening"+Math.random().toString(36).slice(2);function co(r){if(!r[Ri]){r[Ri]=!0,s.forEach(function(c){c!=="selectionchange"&&(M1.has(c)||Yc(c,!1,r),Yc(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Ri]||(o[Ri]=!0,Yc("selectionchange",!1,o))}}function Jh(r,o,c,m){switch(yh(o)){case 1:var v=Hw;break;case 4:v=qw;break;default:v=Rc}c=v.bind(null,o,c,r),v=void 0,!_e||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?r.addEventListener(o,c,{capture:!0,passive:v}):r.addEventListener(o,c,!0):v!==void 0?r.addEventListener(o,c,{passive:v}):r.addEventListener(o,c,!1)}function Xc(r,o,c,m,v){var w=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var C=m.tag;if(C===3||C===4){var I=m.stateNode.containerInfo;if(I===v||I.nodeType===8&&I.parentNode===v)break;if(C===4)for(C=m.return;C!==null;){var $=C.tag;if(($===3||$===4)&&($=C.stateNode.containerInfo,$===v||$.nodeType===8&&$.parentNode===v))return;C=C.return}for(;I!==null;){if(C=ks(I),C===null)return;if($=C.tag,$===5||$===6){m=w=C;continue e}I=I.parentNode}}m=m.return}Gt(function(){var Y=w,de=On(c),fe=[];e:{var ue=qh.get(r);if(ue!==void 0){var ye=Ac,je=r;switch(r){case"keypress":if(_i(c)===0)break e;case"keydown":case"keyup":ye=i1;break;case"focusin":je="focus",ye=Uc;break;case"focusout":je="blur",ye=Uc;break;case"beforeblur":case"afterblur":ye=Uc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Zw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=u1;break;case Fh:case Wh:case Vh:ye=Xw;break;case Hh:ye=f1;break;case"scroll":ye=Gw;break;case"wheel":ye=m1;break;case"copy":case"cut":case"paste":ye=e1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Nh}var ke=(o&4)!==0,jt=!ke&&r==="scroll",G=ke?ue!==null?ue+"Capture":null:ue;ke=[];for(var B=Y,Z;B!==null;){Z=B;var pe=Z.stateNode;if(Z.tag===5&&pe!==null&&(Z=pe,G!==null&&(pe=St(B,G),pe!=null&&ke.push(uo(B,pe,Z)))),jt)break;B=B.return}0<ke.length&&(ue=new ye(ue,je,null,c,de),fe.push({event:ue,listeners:ke}))}}if((o&7)===0){e:{if(ue=r==="mouseover"||r==="pointerover",ye=r==="mouseout"||r==="pointerout",ue&&c!==mn&&(je=c.relatedTarget||c.fromElement)&&(ks(je)||je[mr]))break e;if((ye||ue)&&(ue=de.window===de?de:(ue=de.ownerDocument)?ue.defaultView||ue.parentWindow:window,ye?(je=c.relatedTarget||c.toElement,ye=Y,je=je?ks(je):null,je!==null&&(jt=js(je),je!==jt||je.tag!==5&&je.tag!==6)&&(je=null)):(ye=null,je=Y),ye!==je)){if(ke=jh,pe="onMouseLeave",G="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(ke=Nh,pe="onPointerLeave",G="onPointerEnter",B="pointer"),jt=ye==null?ue:na(ye),Z=je==null?ue:na(je),ue=new ke(pe,B+"leave",ye,c,de),ue.target=jt,ue.relatedTarget=Z,pe=null,ks(de)===Y&&(ke=new ke(G,B+"enter",je,c,de),ke.target=Z,ke.relatedTarget=jt,pe=ke),jt=pe,ye&&je)t:{for(ke=ye,G=je,B=0,Z=ke;Z;Z=ea(Z))B++;for(Z=0,pe=G;pe;pe=ea(pe))Z++;for(;0<B-Z;)ke=ea(ke),B--;for(;0<Z-B;)G=ea(G),Z--;for(;B--;){if(ke===G||G!==null&&ke===G.alternate)break t;ke=ea(ke),G=ea(G)}ke=null}else ke=null;ye!==null&&Yh(fe,ue,ye,ke,!1),je!==null&&jt!==null&&Yh(fe,jt,je,ke,!0)}}e:{if(ue=Y?na(Y):window,ye=ue.nodeName&&ue.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ue.type==="file")var Se=w1;else if(Ph(ue))if(Th)Se=S1;else{Se=k1;var Le=j1}else(ye=ue.nodeName)&&ye.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Se=N1);if(Se&&(Se=Se(r,Y))){Mh(fe,Se,c,de);break e}Le&&Le(r,ue,Y),r==="focusout"&&(Le=ue._wrapperState)&&Le.controlled&&ue.type==="number"&&dt(ue,"number",ue.value)}switch(Le=Y?na(Y):window,r){case"focusin":(Ph(Le)||Le.contentEditable==="true")&&(Xs=Le,qc=Y,io=null);break;case"focusout":io=qc=Xs=null;break;case"mousedown":Gc=!0;break;case"contextmenu":case"mouseup":case"dragend":Gc=!1,Uh(fe,c,de);break;case"selectionchange":if(_1)break;case"keydown":case"keyup":Uh(fe,c,de)}var Pe;if(Fc)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Ys?_h(r,c)&&(Ie="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Ie="onCompositionStart");Ie&&(Sh&&c.locale!=="ko"&&(Ys||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Ys&&(Pe=bh()):(Ar=de,Dc="value"in Ar?Ar.value:Ar.textContent,Ys=!0)),Le=Ii(Y,Ie),0<Le.length&&(Ie=new kh(Ie,r,null,c,de),fe.push({event:Ie,listeners:Le}),Pe?Ie.data=Pe:(Pe=Lh(c),Pe!==null&&(Ie.data=Pe)))),(Pe=g1?v1(r,c):x1(r,c))&&(Y=Ii(Y,"onBeforeInput"),0<Y.length&&(de=new kh("onBeforeInput","beforeinput",null,c,de),fe.push({event:de,listeners:Y}),de.data=Pe))}Zh(fe,o)})}function uo(r,o,c){return{instance:r,listener:o,currentTarget:c}}function Ii(r,o){for(var c=o+"Capture",m=[];r!==null;){var v=r,w=v.stateNode;v.tag===5&&w!==null&&(v=w,w=St(r,c),w!=null&&m.unshift(uo(r,w,v)),w=St(r,o),w!=null&&m.push(uo(r,w,v))),r=r.return}return m}function ea(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Yh(r,o,c,m,v){for(var w=o._reactName,C=[];c!==null&&c!==m;){var I=c,$=I.alternate,Y=I.stateNode;if($!==null&&$===m)break;I.tag===5&&Y!==null&&(I=Y,v?($=St(c,w),$!=null&&C.unshift(uo(c,$,I))):v||($=St(c,w),$!=null&&C.push(uo(c,$,I)))),c=c.return}C.length!==0&&r.push({event:o,listeners:C})}var T1=/\r\n?/g,O1=/\u0000|\uFFFD/g;function Xh(r){return(typeof r=="string"?r:""+r).replace(T1,`
`).replace(O1,"")}function Di(r,o,c){if(o=Xh(o),Xh(r)!==o&&c)throw Error(n(425))}function Ai(){}var Qc=null,eu=null;function tu(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var nu=typeof setTimeout=="function"?setTimeout:void 0,R1=typeof clearTimeout=="function"?clearTimeout:void 0,Qh=typeof Promise=="function"?Promise:void 0,I1=typeof queueMicrotask=="function"?queueMicrotask:typeof Qh<"u"?function(r){return Qh.resolve(null).then(r).catch(D1)}:nu;function D1(r){setTimeout(function(){throw r})}function ru(r,o){var c=o,m=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(m===0){r.removeChild(v),eo(o);return}m--}else c!=="$"&&c!=="$?"&&c!=="$!"||m++;c=v}while(c);eo(o)}function $r(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function em(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return r;o--}else c==="/$"&&o++}r=r.previousSibling}return null}var ta=Math.random().toString(36).slice(2),er="__reactFiber$"+ta,fo="__reactProps$"+ta,mr="__reactContainer$"+ta,su="__reactEvents$"+ta,A1="__reactListeners$"+ta,z1="__reactHandles$"+ta;function ks(r){var o=r[er];if(o)return o;for(var c=r.parentNode;c;){if(o=c[mr]||c[er]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=em(r);r!==null;){if(c=r[er])return c;r=em(r)}return o}r=c,c=r.parentNode}return null}function ho(r){return r=r[er]||r[mr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function na(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function zi(r){return r[fo]||null}var au=[],ra=-1;function Ur(r){return{current:r}}function ct(r){0>ra||(r.current=au[ra],au[ra]=null,ra--)}function ot(r,o){ra++,au[ra]=r.current,r.current=o}var Br={},Kt=Ur(Br),rn=Ur(!1),Ns=Br;function sa(r,o){var c=r.type.contextTypes;if(!c)return Br;var m=r.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var v={},w;for(w in c)v[w]=o[w];return m&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=v),v}function sn(r){return r=r.childContextTypes,r!=null}function $i(){ct(rn),ct(Kt)}function tm(r,o,c){if(Kt.current!==Br)throw Error(n(168));ot(Kt,o),ot(rn,c)}function nm(r,o,c){var m=r.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return c;m=m.getChildContext();for(var v in m)if(!(v in o))throw Error(n(108,te(r)||"Unknown",v));return V({},c,m)}function Ui(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Br,Ns=Kt.current,ot(Kt,r),ot(rn,rn.current),!0}function rm(r,o,c){var m=r.stateNode;if(!m)throw Error(n(169));c?(r=nm(r,o,Ns),m.__reactInternalMemoizedMergedChildContext=r,ct(rn),ct(Kt),ot(Kt,r)):ct(rn),ot(rn,c)}var pr=null,Bi=!1,ou=!1;function sm(r){pr===null?pr=[r]:pr.push(r)}function $1(r){Bi=!0,sm(r)}function Fr(){if(!ou&&pr!==null){ou=!0;var r=0,o=st;try{var c=pr;for(st=1;r<c.length;r++){var m=c[r];do m=m(!0);while(m!==null)}pr=null,Bi=!1}catch(v){throw pr!==null&&(pr=pr.slice(r+1)),oh(_c,Fr),v}finally{st=o,ou=!1}}return null}var aa=[],oa=0,Fi=null,Wi=0,Cn=[],En=0,Ss=null,gr=1,vr="";function Cs(r,o){aa[oa++]=Wi,aa[oa++]=Fi,Fi=r,Wi=o}function am(r,o,c){Cn[En++]=gr,Cn[En++]=vr,Cn[En++]=Ss,Ss=r;var m=gr;r=vr;var v=32-In(m)-1;m&=~(1<<v),c+=1;var w=32-In(o)+v;if(30<w){var C=v-v%5;w=(m&(1<<C)-1).toString(32),m>>=C,v-=C,gr=1<<32-In(o)+v|c<<v|m,vr=w+r}else gr=1<<w|c<<v|m,vr=r}function iu(r){r.return!==null&&(Cs(r,1),am(r,1,0))}function lu(r){for(;r===Fi;)Fi=aa[--oa],aa[oa]=null,Wi=aa[--oa],aa[oa]=null;for(;r===Ss;)Ss=Cn[--En],Cn[En]=null,vr=Cn[--En],Cn[En]=null,gr=Cn[--En],Cn[En]=null}var vn=null,xn=null,ft=!1,An=null;function om(r,o){var c=Mn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=r,o=r.deletions,o===null?(r.deletions=[c],r.flags|=16):o.push(c)}function im(r,o){switch(r.tag){case 5:var c=r.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,vn=r,xn=$r(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,vn=r,xn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Ss!==null?{id:gr,overflow:vr}:null,r.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Mn(18,null,null,0),c.stateNode=o,c.return=r,r.child=c,vn=r,xn=null,!0):!1;default:return!1}}function cu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function uu(r){if(ft){var o=xn;if(o){var c=o;if(!im(r,o)){if(cu(r))throw Error(n(418));o=$r(c.nextSibling);var m=vn;o&&im(r,o)?om(m,c):(r.flags=r.flags&-4097|2,ft=!1,vn=r)}}else{if(cu(r))throw Error(n(418));r.flags=r.flags&-4097|2,ft=!1,vn=r}}}function lm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;vn=r}function Vi(r){if(r!==vn)return!1;if(!ft)return lm(r),ft=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!tu(r.type,r.memoizedProps)),o&&(o=xn)){if(cu(r))throw cm(),Error(n(418));for(;o;)om(r,o),o=$r(o.nextSibling)}if(lm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(o===0){xn=$r(r.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}r=r.nextSibling}xn=null}}else xn=vn?$r(r.stateNode.nextSibling):null;return!0}function cm(){for(var r=xn;r;)r=$r(r.nextSibling)}function ia(){xn=vn=null,ft=!1}function du(r){An===null?An=[r]:An.push(r)}var U1=S.ReactCurrentBatchConfig;function mo(r,o,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var m=c.stateNode}if(!m)throw Error(n(147,r));var v=m,w=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(C){var I=v.refs;C===null?delete I[w]:I[w]=C},o._stringRef=w,o)}if(typeof r!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,r))}return r}function Hi(r,o){throw r=Object.prototype.toString.call(o),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function um(r){var o=r._init;return o(r._payload)}function dm(r){function o(G,B){if(r){var Z=G.deletions;Z===null?(G.deletions=[B],G.flags|=16):Z.push(B)}}function c(G,B){if(!r)return null;for(;B!==null;)o(G,B),B=B.sibling;return null}function m(G,B){for(G=new Map;B!==null;)B.key!==null?G.set(B.key,B):G.set(B.index,B),B=B.sibling;return G}function v(G,B){return G=Jr(G,B),G.index=0,G.sibling=null,G}function w(G,B,Z){return G.index=Z,r?(Z=G.alternate,Z!==null?(Z=Z.index,Z<B?(G.flags|=2,B):Z):(G.flags|=2,B)):(G.flags|=1048576,B)}function C(G){return r&&G.alternate===null&&(G.flags|=2),G}function I(G,B,Z,pe){return B===null||B.tag!==6?(B=nd(Z,G.mode,pe),B.return=G,B):(B=v(B,Z),B.return=G,B)}function $(G,B,Z,pe){var Se=Z.type;return Se===O?de(G,B,Z.props.children,pe,Z.key):B!==null&&(B.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===q&&um(Se)===B.type)?(pe=v(B,Z.props),pe.ref=mo(G,B,Z),pe.return=G,pe):(pe=pl(Z.type,Z.key,Z.props,null,G.mode,pe),pe.ref=mo(G,B,Z),pe.return=G,pe)}function Y(G,B,Z,pe){return B===null||B.tag!==4||B.stateNode.containerInfo!==Z.containerInfo||B.stateNode.implementation!==Z.implementation?(B=rd(Z,G.mode,pe),B.return=G,B):(B=v(B,Z.children||[]),B.return=G,B)}function de(G,B,Z,pe,Se){return B===null||B.tag!==7?(B=Rs(Z,G.mode,pe,Se),B.return=G,B):(B=v(B,Z),B.return=G,B)}function fe(G,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number")return B=nd(""+B,G.mode,Z),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case P:return Z=pl(B.type,B.key,B.props,null,G.mode,Z),Z.ref=mo(G,null,B),Z.return=G,Z;case R:return B=rd(B,G.mode,Z),B.return=G,B;case q:var pe=B._init;return fe(G,pe(B._payload),Z)}if(Nt(B)||D(B))return B=Rs(B,G.mode,Z,null),B.return=G,B;Hi(G,B)}return null}function ue(G,B,Z,pe){var Se=B!==null?B.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Se!==null?null:I(G,B,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case P:return Z.key===Se?$(G,B,Z,pe):null;case R:return Z.key===Se?Y(G,B,Z,pe):null;case q:return Se=Z._init,ue(G,B,Se(Z._payload),pe)}if(Nt(Z)||D(Z))return Se!==null?null:de(G,B,Z,pe,null);Hi(G,Z)}return null}function ye(G,B,Z,pe,Se){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return G=G.get(Z)||null,I(B,G,""+pe,Se);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case P:return G=G.get(pe.key===null?Z:pe.key)||null,$(B,G,pe,Se);case R:return G=G.get(pe.key===null?Z:pe.key)||null,Y(B,G,pe,Se);case q:var Le=pe._init;return ye(G,B,Z,Le(pe._payload),Se)}if(Nt(pe)||D(pe))return G=G.get(Z)||null,de(B,G,pe,Se,null);Hi(B,pe)}return null}function je(G,B,Z,pe){for(var Se=null,Le=null,Pe=B,Ie=B=0,At=null;Pe!==null&&Ie<Z.length;Ie++){Pe.index>Ie?(At=Pe,Pe=null):At=Pe.sibling;var Qe=ue(G,Pe,Z[Ie],pe);if(Qe===null){Pe===null&&(Pe=At);break}r&&Pe&&Qe.alternate===null&&o(G,Pe),B=w(Qe,B,Ie),Le===null?Se=Qe:Le.sibling=Qe,Le=Qe,Pe=At}if(Ie===Z.length)return c(G,Pe),ft&&Cs(G,Ie),Se;if(Pe===null){for(;Ie<Z.length;Ie++)Pe=fe(G,Z[Ie],pe),Pe!==null&&(B=w(Pe,B,Ie),Le===null?Se=Pe:Le.sibling=Pe,Le=Pe);return ft&&Cs(G,Ie),Se}for(Pe=m(G,Pe);Ie<Z.length;Ie++)At=ye(Pe,G,Ie,Z[Ie],pe),At!==null&&(r&&At.alternate!==null&&Pe.delete(At.key===null?Ie:At.key),B=w(At,B,Ie),Le===null?Se=At:Le.sibling=At,Le=At);return r&&Pe.forEach(function(Yr){return o(G,Yr)}),ft&&Cs(G,Ie),Se}function ke(G,B,Z,pe){var Se=D(Z);if(typeof Se!="function")throw Error(n(150));if(Z=Se.call(Z),Z==null)throw Error(n(151));for(var Le=Se=null,Pe=B,Ie=B=0,At=null,Qe=Z.next();Pe!==null&&!Qe.done;Ie++,Qe=Z.next()){Pe.index>Ie?(At=Pe,Pe=null):At=Pe.sibling;var Yr=ue(G,Pe,Qe.value,pe);if(Yr===null){Pe===null&&(Pe=At);break}r&&Pe&&Yr.alternate===null&&o(G,Pe),B=w(Yr,B,Ie),Le===null?Se=Yr:Le.sibling=Yr,Le=Yr,Pe=At}if(Qe.done)return c(G,Pe),ft&&Cs(G,Ie),Se;if(Pe===null){for(;!Qe.done;Ie++,Qe=Z.next())Qe=fe(G,Qe.value,pe),Qe!==null&&(B=w(Qe,B,Ie),Le===null?Se=Qe:Le.sibling=Qe,Le=Qe);return ft&&Cs(G,Ie),Se}for(Pe=m(G,Pe);!Qe.done;Ie++,Qe=Z.next())Qe=ye(Pe,G,Ie,Qe.value,pe),Qe!==null&&(r&&Qe.alternate!==null&&Pe.delete(Qe.key===null?Ie:Qe.key),B=w(Qe,B,Ie),Le===null?Se=Qe:Le.sibling=Qe,Le=Qe);return r&&Pe.forEach(function(yj){return o(G,yj)}),ft&&Cs(G,Ie),Se}function jt(G,B,Z,pe){if(typeof Z=="object"&&Z!==null&&Z.type===O&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case P:e:{for(var Se=Z.key,Le=B;Le!==null;){if(Le.key===Se){if(Se=Z.type,Se===O){if(Le.tag===7){c(G,Le.sibling),B=v(Le,Z.props.children),B.return=G,G=B;break e}}else if(Le.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===q&&um(Se)===Le.type){c(G,Le.sibling),B=v(Le,Z.props),B.ref=mo(G,Le,Z),B.return=G,G=B;break e}c(G,Le);break}else o(G,Le);Le=Le.sibling}Z.type===O?(B=Rs(Z.props.children,G.mode,pe,Z.key),B.return=G,G=B):(pe=pl(Z.type,Z.key,Z.props,null,G.mode,pe),pe.ref=mo(G,B,Z),pe.return=G,G=pe)}return C(G);case R:e:{for(Le=Z.key;B!==null;){if(B.key===Le)if(B.tag===4&&B.stateNode.containerInfo===Z.containerInfo&&B.stateNode.implementation===Z.implementation){c(G,B.sibling),B=v(B,Z.children||[]),B.return=G,G=B;break e}else{c(G,B);break}else o(G,B);B=B.sibling}B=rd(Z,G.mode,pe),B.return=G,G=B}return C(G);case q:return Le=Z._init,jt(G,B,Le(Z._payload),pe)}if(Nt(Z))return je(G,B,Z,pe);if(D(Z))return ke(G,B,Z,pe);Hi(G,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,B!==null&&B.tag===6?(c(G,B.sibling),B=v(B,Z),B.return=G,G=B):(c(G,B),B=nd(Z,G.mode,pe),B.return=G,G=B),C(G)):c(G,B)}return jt}var la=dm(!0),fm=dm(!1),qi=Ur(null),Gi=null,ca=null,fu=null;function hu(){fu=ca=Gi=null}function mu(r){var o=qi.current;ct(qi),r._currentValue=o}function pu(r,o,c){for(;r!==null;){var m=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),r===c)break;r=r.return}}function ua(r,o){Gi=r,fu=ca=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&o)!==0&&(an=!0),r.firstContext=null)}function _n(r){var o=r._currentValue;if(fu!==r)if(r={context:r,memoizedValue:o,next:null},ca===null){if(Gi===null)throw Error(n(308));ca=r,Gi.dependencies={lanes:0,firstContext:r}}else ca=ca.next=r;return o}var Es=null;function gu(r){Es===null?Es=[r]:Es.push(r)}function hm(r,o,c,m){var v=o.interleaved;return v===null?(c.next=c,gu(o)):(c.next=v.next,v.next=c),o.interleaved=c,xr(r,m)}function xr(r,o){r.lanes|=o;var c=r.alternate;for(c!==null&&(c.lanes|=o),c=r,r=r.return;r!==null;)r.childLanes|=o,c=r.alternate,c!==null&&(c.childLanes|=o),c=r,r=r.return;return c.tag===3?c.stateNode:null}var Wr=!1;function vu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mm(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function yr(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function Vr(r,o,c){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(Ze&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,xr(r,c)}return v=m.interleaved,v===null?(o.next=o,gu(m)):(o.next=v.next,v.next=o),m.interleaved=o,xr(r,c)}function Ki(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var m=o.lanes;m&=r.pendingLanes,c|=m,o.lanes=c,Mc(r,c)}}function pm(r,o){var c=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var v=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var C={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?v=w=C:w=w.next=C,c=c.next}while(c!==null);w===null?v=w=o:w=w.next=o}else v=w=o;c={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:m.shared,effects:m.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}function Zi(r,o,c,m){var v=r.updateQueue;Wr=!1;var w=v.firstBaseUpdate,C=v.lastBaseUpdate,I=v.shared.pending;if(I!==null){v.shared.pending=null;var $=I,Y=$.next;$.next=null,C===null?w=Y:C.next=Y,C=$;var de=r.alternate;de!==null&&(de=de.updateQueue,I=de.lastBaseUpdate,I!==C&&(I===null?de.firstBaseUpdate=Y:I.next=Y,de.lastBaseUpdate=$))}if(w!==null){var fe=v.baseState;C=0,de=Y=$=null,I=w;do{var ue=I.lane,ye=I.eventTime;if((m&ue)===ue){de!==null&&(de=de.next={eventTime:ye,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var je=r,ke=I;switch(ue=o,ye=c,ke.tag){case 1:if(je=ke.payload,typeof je=="function"){fe=je.call(ye,fe,ue);break e}fe=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=ke.payload,ue=typeof je=="function"?je.call(ye,fe,ue):je,ue==null)break e;fe=V({},fe,ue);break e;case 2:Wr=!0}}I.callback!==null&&I.lane!==0&&(r.flags|=64,ue=v.effects,ue===null?v.effects=[I]:ue.push(I))}else ye={eventTime:ye,lane:ue,tag:I.tag,payload:I.payload,callback:I.callback,next:null},de===null?(Y=de=ye,$=fe):de=de.next=ye,C|=ue;if(I=I.next,I===null){if(I=v.shared.pending,I===null)break;ue=I,I=ue.next,ue.next=null,v.lastBaseUpdate=ue,v.shared.pending=null}}while(!0);if(de===null&&($=fe),v.baseState=$,v.firstBaseUpdate=Y,v.lastBaseUpdate=de,o=v.shared.interleaved,o!==null){v=o;do C|=v.lane,v=v.next;while(v!==o)}else w===null&&(v.shared.lanes=0);Ps|=C,r.lanes=C,r.memoizedState=fe}}function gm(r,o,c){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var m=r[o],v=m.callback;if(v!==null){if(m.callback=null,m=c,typeof v!="function")throw Error(n(191,v));v.call(m)}}}var po={},tr=Ur(po),go=Ur(po),vo=Ur(po);function _s(r){if(r===po)throw Error(n(174));return r}function xu(r,o){switch(ot(vo,o),ot(go,r),ot(tr,po),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:at(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=at(o,r)}ct(tr),ot(tr,o)}function da(){ct(tr),ct(go),ct(vo)}function vm(r){_s(vo.current);var o=_s(tr.current),c=at(o,r.type);o!==c&&(ot(go,r),ot(tr,c))}function yu(r){go.current===r&&(ct(tr),ct(go))}var pt=Ur(0);function Ji(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var bu=[];function wu(){for(var r=0;r<bu.length;r++)bu[r]._workInProgressVersionPrimary=null;bu.length=0}var Yi=S.ReactCurrentDispatcher,ju=S.ReactCurrentBatchConfig,Ls=0,gt=null,Pt=null,It=null,Xi=!1,xo=!1,yo=0,B1=0;function Zt(){throw Error(n(321))}function ku(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!Dn(r[c],o[c]))return!1;return!0}function Nu(r,o,c,m,v,w){if(Ls=w,gt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Yi.current=r===null||r.memoizedState===null?H1:q1,r=c(m,v),xo){w=0;do{if(xo=!1,yo=0,25<=w)throw Error(n(301));w+=1,It=Pt=null,o.updateQueue=null,Yi.current=G1,r=c(m,v)}while(xo)}if(Yi.current=tl,o=Pt!==null&&Pt.next!==null,Ls=0,It=Pt=gt=null,Xi=!1,o)throw Error(n(300));return r}function Su(){var r=yo!==0;return yo=0,r}function nr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?gt.memoizedState=It=r:It=It.next=r,It}function Ln(){if(Pt===null){var r=gt.alternate;r=r!==null?r.memoizedState:null}else r=Pt.next;var o=It===null?gt.memoizedState:It.next;if(o!==null)It=o,Pt=r;else{if(r===null)throw Error(n(310));Pt=r,r={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},It===null?gt.memoizedState=It=r:It=It.next=r}return It}function bo(r,o){return typeof o=="function"?o(r):o}function Cu(r){var o=Ln(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var m=Pt,v=m.baseQueue,w=c.pending;if(w!==null){if(v!==null){var C=v.next;v.next=w.next,w.next=C}m.baseQueue=v=w,c.pending=null}if(v!==null){w=v.next,m=m.baseState;var I=C=null,$=null,Y=w;do{var de=Y.lane;if((Ls&de)===de)$!==null&&($=$.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),m=Y.hasEagerState?Y.eagerState:r(m,Y.action);else{var fe={lane:de,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};$===null?(I=$=fe,C=m):$=$.next=fe,gt.lanes|=de,Ps|=de}Y=Y.next}while(Y!==null&&Y!==w);$===null?C=m:$.next=I,Dn(m,o.memoizedState)||(an=!0),o.memoizedState=m,o.baseState=C,o.baseQueue=$,c.lastRenderedState=m}if(r=c.interleaved,r!==null){v=r;do w=v.lane,gt.lanes|=w,Ps|=w,v=v.next;while(v!==r)}else v===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Eu(r){var o=Ln(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var m=c.dispatch,v=c.pending,w=o.memoizedState;if(v!==null){c.pending=null;var C=v=v.next;do w=r(w,C.action),C=C.next;while(C!==v);Dn(w,o.memoizedState)||(an=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,m]}function xm(){}function ym(r,o){var c=gt,m=Ln(),v=o(),w=!Dn(m.memoizedState,v);if(w&&(m.memoizedState=v,an=!0),m=m.queue,_u(jm.bind(null,c,m,r),[r]),m.getSnapshot!==o||w||It!==null&&It.memoizedState.tag&1){if(c.flags|=2048,wo(9,wm.bind(null,c,m,v,o),void 0,null),Dt===null)throw Error(n(349));(Ls&30)!==0||bm(c,o,v)}return v}function bm(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=gt.updateQueue,o===null?(o={lastEffect:null,stores:null},gt.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function wm(r,o,c,m){o.value=c,o.getSnapshot=m,km(o)&&Nm(r)}function jm(r,o,c){return c(function(){km(o)&&Nm(r)})}function km(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!Dn(r,c)}catch{return!0}}function Nm(r){var o=xr(r,1);o!==null&&Bn(o,r,1,-1)}function Sm(r){var o=nr();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:r},o.queue=r,r=r.dispatch=V1.bind(null,gt,r),[o.memoizedState,r]}function wo(r,o,c,m){return r={tag:r,create:o,destroy:c,deps:m,next:null},o=gt.updateQueue,o===null?(o={lastEffect:null,stores:null},gt.updateQueue=o,o.lastEffect=r.next=r):(c=o.lastEffect,c===null?o.lastEffect=r.next=r:(m=c.next,c.next=r,r.next=m,o.lastEffect=r)),r}function Cm(){return Ln().memoizedState}function Qi(r,o,c,m){var v=nr();gt.flags|=r,v.memoizedState=wo(1|o,c,void 0,m===void 0?null:m)}function el(r,o,c,m){var v=Ln();m=m===void 0?null:m;var w=void 0;if(Pt!==null){var C=Pt.memoizedState;if(w=C.destroy,m!==null&&ku(m,C.deps)){v.memoizedState=wo(o,c,w,m);return}}gt.flags|=r,v.memoizedState=wo(1|o,c,w,m)}function Em(r,o){return Qi(8390656,8,r,o)}function _u(r,o){return el(2048,8,r,o)}function _m(r,o){return el(4,2,r,o)}function Lm(r,o){return el(4,4,r,o)}function Pm(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Mm(r,o,c){return c=c!=null?c.concat([r]):null,el(4,4,Pm.bind(null,o,r),c)}function Lu(){}function Tm(r,o){var c=Ln();o=o===void 0?null:o;var m=c.memoizedState;return m!==null&&o!==null&&ku(o,m[1])?m[0]:(c.memoizedState=[r,o],r)}function Om(r,o){var c=Ln();o=o===void 0?null:o;var m=c.memoizedState;return m!==null&&o!==null&&ku(o,m[1])?m[0]:(r=r(),c.memoizedState=[r,o],r)}function Rm(r,o,c){return(Ls&21)===0?(r.baseState&&(r.baseState=!1,an=!0),r.memoizedState=c):(Dn(c,o)||(c=uh(),gt.lanes|=c,Ps|=c,r.baseState=!0),o)}function F1(r,o){var c=st;st=c!==0&&4>c?c:4,r(!0);var m=ju.transition;ju.transition={};try{r(!1),o()}finally{st=c,ju.transition=m}}function Im(){return Ln().memoizedState}function W1(r,o,c){var m=Kr(r);if(c={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null},Dm(r))Am(o,c);else if(c=hm(r,o,c,m),c!==null){var v=nn();Bn(c,r,m,v),zm(c,o,m)}}function V1(r,o,c){var m=Kr(r),v={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null};if(Dm(r))Am(o,v);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var C=o.lastRenderedState,I=w(C,c);if(v.hasEagerState=!0,v.eagerState=I,Dn(I,C)){var $=o.interleaved;$===null?(v.next=v,gu(o)):(v.next=$.next,$.next=v),o.interleaved=v;return}}catch{}finally{}c=hm(r,o,v,m),c!==null&&(v=nn(),Bn(c,r,m,v),zm(c,o,m))}}function Dm(r){var o=r.alternate;return r===gt||o!==null&&o===gt}function Am(r,o){xo=Xi=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function zm(r,o,c){if((c&4194240)!==0){var m=o.lanes;m&=r.pendingLanes,c|=m,o.lanes=c,Mc(r,c)}}var tl={readContext:_n,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},H1={readContext:_n,useCallback:function(r,o){return nr().memoizedState=[r,o===void 0?null:o],r},useContext:_n,useEffect:Em,useImperativeHandle:function(r,o,c){return c=c!=null?c.concat([r]):null,Qi(4194308,4,Pm.bind(null,o,r),c)},useLayoutEffect:function(r,o){return Qi(4194308,4,r,o)},useInsertionEffect:function(r,o){return Qi(4,2,r,o)},useMemo:function(r,o){var c=nr();return o=o===void 0?null:o,r=r(),c.memoizedState=[r,o],r},useReducer:function(r,o,c){var m=nr();return o=c!==void 0?c(o):o,m.memoizedState=m.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},m.queue=r,r=r.dispatch=W1.bind(null,gt,r),[m.memoizedState,r]},useRef:function(r){var o=nr();return r={current:r},o.memoizedState=r},useState:Sm,useDebugValue:Lu,useDeferredValue:function(r){return nr().memoizedState=r},useTransition:function(){var r=Sm(!1),o=r[0];return r=F1.bind(null,r[1]),nr().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,c){var m=gt,v=nr();if(ft){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Dt===null)throw Error(n(349));(Ls&30)!==0||bm(m,o,c)}v.memoizedState=c;var w={value:c,getSnapshot:o};return v.queue=w,Em(jm.bind(null,m,w,r),[r]),m.flags|=2048,wo(9,wm.bind(null,m,w,c,o),void 0,null),c},useId:function(){var r=nr(),o=Dt.identifierPrefix;if(ft){var c=vr,m=gr;c=(m&~(1<<32-In(m)-1)).toString(32)+c,o=":"+o+"R"+c,c=yo++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=B1++,o=":"+o+"r"+c.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},q1={readContext:_n,useCallback:Tm,useContext:_n,useEffect:_u,useImperativeHandle:Mm,useInsertionEffect:_m,useLayoutEffect:Lm,useMemo:Om,useReducer:Cu,useRef:Cm,useState:function(){return Cu(bo)},useDebugValue:Lu,useDeferredValue:function(r){var o=Ln();return Rm(o,Pt.memoizedState,r)},useTransition:function(){var r=Cu(bo)[0],o=Ln().memoizedState;return[r,o]},useMutableSource:xm,useSyncExternalStore:ym,useId:Im,unstable_isNewReconciler:!1},G1={readContext:_n,useCallback:Tm,useContext:_n,useEffect:_u,useImperativeHandle:Mm,useInsertionEffect:_m,useLayoutEffect:Lm,useMemo:Om,useReducer:Eu,useRef:Cm,useState:function(){return Eu(bo)},useDebugValue:Lu,useDeferredValue:function(r){var o=Ln();return Pt===null?o.memoizedState=r:Rm(o,Pt.memoizedState,r)},useTransition:function(){var r=Eu(bo)[0],o=Ln().memoizedState;return[r,o]},useMutableSource:xm,useSyncExternalStore:ym,useId:Im,unstable_isNewReconciler:!1};function zn(r,o){if(r&&r.defaultProps){o=V({},o),r=r.defaultProps;for(var c in r)o[c]===void 0&&(o[c]=r[c]);return o}return o}function Pu(r,o,c,m){o=r.memoizedState,c=c(m,o),c=c==null?o:V({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var nl={isMounted:function(r){return(r=r._reactInternals)?js(r)===r:!1},enqueueSetState:function(r,o,c){r=r._reactInternals;var m=nn(),v=Kr(r),w=yr(m,v);w.payload=o,c!=null&&(w.callback=c),o=Vr(r,w,v),o!==null&&(Bn(o,r,v,m),Ki(o,r,v))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var m=nn(),v=Kr(r),w=yr(m,v);w.tag=1,w.payload=o,c!=null&&(w.callback=c),o=Vr(r,w,v),o!==null&&(Bn(o,r,v,m),Ki(o,r,v))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=nn(),m=Kr(r),v=yr(c,m);v.tag=2,o!=null&&(v.callback=o),o=Vr(r,v,m),o!==null&&(Bn(o,r,m,c),Ki(o,r,m))}};function $m(r,o,c,m,v,w,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,w,C):o.prototype&&o.prototype.isPureReactComponent?!oo(c,m)||!oo(v,w):!0}function Um(r,o,c){var m=!1,v=Br,w=o.contextType;return typeof w=="object"&&w!==null?w=_n(w):(v=sn(o)?Ns:Kt.current,m=o.contextTypes,w=(m=m!=null)?sa(r,v):Br),o=new o(c,w),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nl,r.stateNode=o,o._reactInternals=r,m&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=v,r.__reactInternalMemoizedMaskedChildContext=w),o}function Bm(r,o,c,m){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==r&&nl.enqueueReplaceState(o,o.state,null)}function Mu(r,o,c,m){var v=r.stateNode;v.props=c,v.state=r.memoizedState,v.refs={},vu(r);var w=o.contextType;typeof w=="object"&&w!==null?v.context=_n(w):(w=sn(o)?Ns:Kt.current,v.context=sa(r,w)),v.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Pu(r,o,w,c),v.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(o=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),o!==v.state&&nl.enqueueReplaceState(v,v.state,null),Zi(r,c,v,m),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308)}function fa(r,o){try{var c="",m=o;do c+=H(m),m=m.return;while(m);var v=c}catch(w){v=`
Error generating stack: `+w.message+`
`+w.stack}return{value:r,source:o,stack:v,digest:null}}function Tu(r,o,c){return{value:r,source:null,stack:c??null,digest:o??null}}function Ou(r,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var K1=typeof WeakMap=="function"?WeakMap:Map;function Fm(r,o,c){c=yr(-1,c),c.tag=3,c.payload={element:null};var m=o.value;return c.callback=function(){cl||(cl=!0,Ku=m),Ou(r,o)},c}function Wm(r,o,c){c=yr(-1,c),c.tag=3;var m=r.type.getDerivedStateFromError;if(typeof m=="function"){var v=o.value;c.payload=function(){return m(v)},c.callback=function(){Ou(r,o)}}var w=r.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){Ou(r,o),typeof m!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var C=o.stack;this.componentDidCatch(o.value,{componentStack:C!==null?C:""})}),c}function Vm(r,o,c){var m=r.pingCache;if(m===null){m=r.pingCache=new K1;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(c)||(v.add(c),r=lj.bind(null,r,o,c),o.then(r,r))}function Hm(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function qm(r,o,c,m,v){return(r.mode&1)===0?(r===o?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=yr(-1,1),o.tag=2,Vr(c,o,1))),c.lanes|=1),r):(r.flags|=65536,r.lanes=v,r)}var Z1=S.ReactCurrentOwner,an=!1;function tn(r,o,c,m){o.child=r===null?fm(o,null,c,m):la(o,r.child,c,m)}function Gm(r,o,c,m,v){c=c.render;var w=o.ref;return ua(o,v),m=Nu(r,o,c,m,w,v),c=Su(),r!==null&&!an?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~v,br(r,o,v)):(ft&&c&&iu(o),o.flags|=1,tn(r,o,m,v),o.child)}function Km(r,o,c,m,v){if(r===null){var w=c.type;return typeof w=="function"&&!td(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=w,Zm(r,o,w,m,v)):(r=pl(c.type,null,m,o,o.mode,v),r.ref=o.ref,r.return=o,o.child=r)}if(w=r.child,(r.lanes&v)===0){var C=w.memoizedProps;if(c=c.compare,c=c!==null?c:oo,c(C,m)&&r.ref===o.ref)return br(r,o,v)}return o.flags|=1,r=Jr(w,m),r.ref=o.ref,r.return=o,o.child=r}function Zm(r,o,c,m,v){if(r!==null){var w=r.memoizedProps;if(oo(w,m)&&r.ref===o.ref)if(an=!1,o.pendingProps=m=w,(r.lanes&v)!==0)(r.flags&131072)!==0&&(an=!0);else return o.lanes=r.lanes,br(r,o,v)}return Ru(r,o,c,m,v)}function Jm(r,o,c){var m=o.pendingProps,v=m.children,w=r!==null?r.memoizedState:null;if(m.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(ma,yn),yn|=c;else{if((c&1073741824)===0)return r=w!==null?w.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,ot(ma,yn),yn|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=w!==null?w.baseLanes:c,ot(ma,yn),yn|=m}else w!==null?(m=w.baseLanes|c,o.memoizedState=null):m=c,ot(ma,yn),yn|=m;return tn(r,o,v,c),o.child}function Ym(r,o){var c=o.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Ru(r,o,c,m,v){var w=sn(c)?Ns:Kt.current;return w=sa(o,w),ua(o,v),c=Nu(r,o,c,m,w,v),m=Su(),r!==null&&!an?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~v,br(r,o,v)):(ft&&m&&iu(o),o.flags|=1,tn(r,o,c,v),o.child)}function Xm(r,o,c,m,v){if(sn(c)){var w=!0;Ui(o)}else w=!1;if(ua(o,v),o.stateNode===null)sl(r,o),Um(o,c,m),Mu(o,c,m,v),m=!0;else if(r===null){var C=o.stateNode,I=o.memoizedProps;C.props=I;var $=C.context,Y=c.contextType;typeof Y=="object"&&Y!==null?Y=_n(Y):(Y=sn(c)?Ns:Kt.current,Y=sa(o,Y));var de=c.getDerivedStateFromProps,fe=typeof de=="function"||typeof C.getSnapshotBeforeUpdate=="function";fe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==m||$!==Y)&&Bm(o,C,m,Y),Wr=!1;var ue=o.memoizedState;C.state=ue,Zi(o,m,C,v),$=o.memoizedState,I!==m||ue!==$||rn.current||Wr?(typeof de=="function"&&(Pu(o,c,de,m),$=o.memoizedState),(I=Wr||$m(o,c,I,m,ue,$,Y))?(fe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=$),C.props=m,C.state=$,C.context=Y,m=I):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{C=o.stateNode,mm(r,o),I=o.memoizedProps,Y=o.type===o.elementType?I:zn(o.type,I),C.props=Y,fe=o.pendingProps,ue=C.context,$=c.contextType,typeof $=="object"&&$!==null?$=_n($):($=sn(c)?Ns:Kt.current,$=sa(o,$));var ye=c.getDerivedStateFromProps;(de=typeof ye=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==fe||ue!==$)&&Bm(o,C,m,$),Wr=!1,ue=o.memoizedState,C.state=ue,Zi(o,m,C,v);var je=o.memoizedState;I!==fe||ue!==je||rn.current||Wr?(typeof ye=="function"&&(Pu(o,c,ye,m),je=o.memoizedState),(Y=Wr||$m(o,c,Y,m,ue,je,$)||!1)?(de||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,je,$),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,je,$)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||I===r.memoizedProps&&ue===r.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&ue===r.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=je),C.props=m,C.state=je,C.context=$,m=Y):(typeof C.componentDidUpdate!="function"||I===r.memoizedProps&&ue===r.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&ue===r.memoizedState||(o.flags|=1024),m=!1)}return Iu(r,o,c,m,w,v)}function Iu(r,o,c,m,v,w){Ym(r,o);var C=(o.flags&128)!==0;if(!m&&!C)return v&&rm(o,c,!1),br(r,o,w);m=o.stateNode,Z1.current=o;var I=C&&typeof c.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,r!==null&&C?(o.child=la(o,r.child,null,w),o.child=la(o,null,I,w)):tn(r,o,I,w),o.memoizedState=m.state,v&&rm(o,c,!0),o.child}function Qm(r){var o=r.stateNode;o.pendingContext?tm(r,o.pendingContext,o.pendingContext!==o.context):o.context&&tm(r,o.context,!1),xu(r,o.containerInfo)}function ep(r,o,c,m,v){return ia(),du(v),o.flags|=256,tn(r,o,c,m),o.child}var Du={dehydrated:null,treeContext:null,retryLane:0};function Au(r){return{baseLanes:r,cachePool:null,transitions:null}}function tp(r,o,c){var m=o.pendingProps,v=pt.current,w=!1,C=(o.flags&128)!==0,I;if((I=C)||(I=r!==null&&r.memoizedState===null?!1:(v&2)!==0),I?(w=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(v|=1),ot(pt,v&1),r===null)return uu(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((o.mode&1)===0?o.lanes=1:r.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(C=m.children,r=m.fallback,w?(m=o.mode,w=o.child,C={mode:"hidden",children:C},(m&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=C):w=gl(C,m,0,null),r=Rs(r,m,c,null),w.return=o,r.return=o,w.sibling=r,o.child=w,o.child.memoizedState=Au(c),o.memoizedState=Du,r):zu(o,C));if(v=r.memoizedState,v!==null&&(I=v.dehydrated,I!==null))return J1(r,o,C,m,I,v,c);if(w){w=m.fallback,C=o.mode,v=r.child,I=v.sibling;var $={mode:"hidden",children:m.children};return(C&1)===0&&o.child!==v?(m=o.child,m.childLanes=0,m.pendingProps=$,o.deletions=null):(m=Jr(v,$),m.subtreeFlags=v.subtreeFlags&14680064),I!==null?w=Jr(I,w):(w=Rs(w,C,c,null),w.flags|=2),w.return=o,m.return=o,m.sibling=w,o.child=m,m=w,w=o.child,C=r.child.memoizedState,C=C===null?Au(c):{baseLanes:C.baseLanes|c,cachePool:null,transitions:C.transitions},w.memoizedState=C,w.childLanes=r.childLanes&~c,o.memoizedState=Du,m}return w=r.child,r=w.sibling,m=Jr(w,{mode:"visible",children:m.children}),(o.mode&1)===0&&(m.lanes=c),m.return=o,m.sibling=null,r!==null&&(c=o.deletions,c===null?(o.deletions=[r],o.flags|=16):c.push(r)),o.child=m,o.memoizedState=null,m}function zu(r,o){return o=gl({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function rl(r,o,c,m){return m!==null&&du(m),la(o,r.child,null,c),r=zu(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function J1(r,o,c,m,v,w,C){if(c)return o.flags&256?(o.flags&=-257,m=Tu(Error(n(422))),rl(r,o,C,m)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(w=m.fallback,v=o.mode,m=gl({mode:"visible",children:m.children},v,0,null),w=Rs(w,v,C,null),w.flags|=2,m.return=o,w.return=o,m.sibling=w,o.child=m,(o.mode&1)!==0&&la(o,r.child,null,C),o.child.memoizedState=Au(C),o.memoizedState=Du,w);if((o.mode&1)===0)return rl(r,o,C,null);if(v.data==="$!"){if(m=v.nextSibling&&v.nextSibling.dataset,m)var I=m.dgst;return m=I,w=Error(n(419)),m=Tu(w,m,void 0),rl(r,o,C,m)}if(I=(C&r.childLanes)!==0,an||I){if(m=Dt,m!==null){switch(C&-C){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(m.suspendedLanes|C))!==0?0:v,v!==0&&v!==w.retryLane&&(w.retryLane=v,xr(r,v),Bn(m,r,v,-1))}return ed(),m=Tu(Error(n(421))),rl(r,o,C,m)}return v.data==="$?"?(o.flags|=128,o.child=r.child,o=cj.bind(null,r),v._reactRetry=o,null):(r=w.treeContext,xn=$r(v.nextSibling),vn=o,ft=!0,An=null,r!==null&&(Cn[En++]=gr,Cn[En++]=vr,Cn[En++]=Ss,gr=r.id,vr=r.overflow,Ss=o),o=zu(o,m.children),o.flags|=4096,o)}function np(r,o,c){r.lanes|=o;var m=r.alternate;m!==null&&(m.lanes|=o),pu(r.return,o,c)}function $u(r,o,c,m,v){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:v}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=c,w.tailMode=v)}function rp(r,o,c){var m=o.pendingProps,v=m.revealOrder,w=m.tail;if(tn(r,o,m.children,c),m=pt.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&np(r,c,o);else if(r.tag===19)np(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}if(ot(pt,m),(o.mode&1)===0)o.memoizedState=null;else switch(v){case"forwards":for(c=o.child,v=null;c!==null;)r=c.alternate,r!==null&&Ji(r)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),$u(o,!1,v,c,w);break;case"backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(r=v.alternate,r!==null&&Ji(r)===null){o.child=v;break}r=v.sibling,v.sibling=c,c=v,v=r}$u(o,!0,c,null,w);break;case"together":$u(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function sl(r,o){(o.mode&1)===0&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function br(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),Ps|=o.lanes,(c&o.childLanes)===0)return null;if(r!==null&&o.child!==r.child)throw Error(n(153));if(o.child!==null){for(r=o.child,c=Jr(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=Jr(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function Y1(r,o,c){switch(o.tag){case 3:Qm(o),ia();break;case 5:vm(o);break;case 1:sn(o.type)&&Ui(o);break;case 4:xu(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,v=o.memoizedProps.value;ot(qi,m._currentValue),m._currentValue=v;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(ot(pt,pt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?tp(r,o,c):(ot(pt,pt.current&1),r=br(r,o,c),r!==null?r.sibling:null);ot(pt,pt.current&1);break;case 19:if(m=(c&o.childLanes)!==0,(r.flags&128)!==0){if(m)return rp(r,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ot(pt,pt.current),m)break;return null;case 22:case 23:return o.lanes=0,Jm(r,o,c)}return br(r,o,c)}var sp,Uu,ap,op;sp=function(r,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Uu=function(){},ap=function(r,o,c,m){var v=r.memoizedProps;if(v!==m){r=o.stateNode,_s(tr.current);var w=null;switch(c){case"input":v=Ye(r,v),m=Ye(r,m),w=[];break;case"select":v=V({},v,{value:void 0}),m=V({},m,{value:void 0}),w=[];break;case"textarea":v=nt(r,v),m=nt(r,m),w=[];break;default:typeof v.onClick!="function"&&typeof m.onClick=="function"&&(r.onclick=Ai)}en(c,m);var C;c=null;for(Y in v)if(!m.hasOwnProperty(Y)&&v.hasOwnProperty(Y)&&v[Y]!=null)if(Y==="style"){var I=v[Y];for(C in I)I.hasOwnProperty(C)&&(c||(c={}),c[C]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?w||(w=[]):(w=w||[]).push(Y,null));for(Y in m){var $=m[Y];if(I=v!=null?v[Y]:void 0,m.hasOwnProperty(Y)&&$!==I&&($!=null||I!=null))if(Y==="style")if(I){for(C in I)!I.hasOwnProperty(C)||$&&$.hasOwnProperty(C)||(c||(c={}),c[C]="");for(C in $)$.hasOwnProperty(C)&&I[C]!==$[C]&&(c||(c={}),c[C]=$[C])}else c||(w||(w=[]),w.push(Y,c)),c=$;else Y==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,I=I?I.__html:void 0,$!=null&&I!==$&&(w=w||[]).push(Y,$)):Y==="children"?typeof $!="string"&&typeof $!="number"||(w=w||[]).push(Y,""+$):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?($!=null&&Y==="onScroll"&&lt("scroll",r),w||I===$||(w=[])):(w=w||[]).push(Y,$))}c&&(w=w||[]).push("style",c);var Y=w;(o.updateQueue=Y)&&(o.flags|=4)}},op=function(r,o,c,m){c!==m&&(o.flags|=4)};function jo(r,o){if(!ft)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function Jt(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,m=0;if(o)for(var v=r.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=m,r.childLanes=c,o}function X1(r,o,c){var m=o.pendingProps;switch(lu(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(o),null;case 1:return sn(o.type)&&$i(),Jt(o),null;case 3:return m=o.stateNode,da(),ct(rn),ct(Kt),wu(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(r===null||r.child===null)&&(Vi(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,An!==null&&(Yu(An),An=null))),Uu(r,o),Jt(o),null;case 5:yu(o);var v=_s(vo.current);if(c=o.type,r!==null&&o.stateNode!=null)ap(r,o,c,m,v),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Jt(o),null}if(r=_s(tr.current),Vi(o)){m=o.stateNode,c=o.type;var w=o.memoizedProps;switch(m[er]=o,m[fo]=w,r=(o.mode&1)!==0,c){case"dialog":lt("cancel",m),lt("close",m);break;case"iframe":case"object":case"embed":lt("load",m);break;case"video":case"audio":for(v=0;v<lo.length;v++)lt(lo[v],m);break;case"source":lt("error",m);break;case"img":case"image":case"link":lt("error",m),lt("load",m);break;case"details":lt("toggle",m);break;case"input":De(m,w),lt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!w.multiple},lt("invalid",m);break;case"textarea":we(m,w),lt("invalid",m)}en(c,w),v=null;for(var C in w)if(w.hasOwnProperty(C)){var I=w[C];C==="children"?typeof I=="string"?m.textContent!==I&&(w.suppressHydrationWarning!==!0&&Di(m.textContent,I,r),v=["children",I]):typeof I=="number"&&m.textContent!==""+I&&(w.suppressHydrationWarning!==!0&&Di(m.textContent,I,r),v=["children",""+I]):i.hasOwnProperty(C)&&I!=null&&C==="onScroll"&&lt("scroll",m)}switch(c){case"input":oe(m),kt(m,w,!0);break;case"textarea":oe(m),tt(m);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(m.onclick=Ai)}m=v,o.updateQueue=m,m!==null&&(o.flags|=4)}else{C=v.nodeType===9?v:v.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Be(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=C.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof m.is=="string"?r=C.createElement(c,{is:m.is}):(r=C.createElement(c),c==="select"&&(C=r,m.multiple?C.multiple=!0:m.size&&(C.size=m.size))):r=C.createElementNS(r,c),r[er]=o,r[fo]=m,sp(r,o,!1,!1),o.stateNode=r;e:{switch(C=hn(c,m),c){case"dialog":lt("cancel",r),lt("close",r),v=m;break;case"iframe":case"object":case"embed":lt("load",r),v=m;break;case"video":case"audio":for(v=0;v<lo.length;v++)lt(lo[v],r);v=m;break;case"source":lt("error",r),v=m;break;case"img":case"image":case"link":lt("error",r),lt("load",r),v=m;break;case"details":lt("toggle",r),v=m;break;case"input":De(r,m),v=Ye(r,m),lt("invalid",r);break;case"option":v=m;break;case"select":r._wrapperState={wasMultiple:!!m.multiple},v=V({},m,{value:void 0}),lt("invalid",r);break;case"textarea":we(r,m),v=nt(r,m),lt("invalid",r);break;default:v=m}en(c,v),I=v;for(w in I)if(I.hasOwnProperty(w)){var $=I[w];w==="style"?Bt(r,$):w==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&he(r,$)):w==="children"?typeof $=="string"?(c!=="textarea"||$!=="")&&Oe(r,$):typeof $=="number"&&Oe(r,""+$):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?$!=null&&w==="onScroll"&&lt("scroll",r):$!=null&&L(r,w,$,C))}switch(c){case"input":oe(r),kt(r,m,!1);break;case"textarea":oe(r),tt(r);break;case"option":m.value!=null&&r.setAttribute("value",""+le(m.value));break;case"select":r.multiple=!!m.multiple,w=m.value,w!=null?Ne(r,!!m.multiple,w,!1):m.defaultValue!=null&&Ne(r,!!m.multiple,m.defaultValue,!0);break;default:typeof v.onClick=="function"&&(r.onclick=Ai)}switch(c){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Jt(o),null;case 6:if(r&&o.stateNode!=null)op(r,o,r.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(c=_s(vo.current),_s(tr.current),Vi(o)){if(m=o.stateNode,c=o.memoizedProps,m[er]=o,(w=m.nodeValue!==c)&&(r=vn,r!==null))switch(r.tag){case 3:Di(m.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Di(m.nodeValue,c,(r.mode&1)!==0)}w&&(o.flags|=4)}else m=(c.nodeType===9?c:c.ownerDocument).createTextNode(m),m[er]=o,o.stateNode=m}return Jt(o),null;case 13:if(ct(pt),m=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ft&&xn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)cm(),ia(),o.flags|=98560,w=!1;else if(w=Vi(o),m!==null&&m.dehydrated!==null){if(r===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[er]=o}else ia(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Jt(o),w=!1}else An!==null&&(Yu(An),An=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(m=m!==null,m!==(r!==null&&r.memoizedState!==null)&&m&&(o.child.flags|=8192,(o.mode&1)!==0&&(r===null||(pt.current&1)!==0?Mt===0&&(Mt=3):ed())),o.updateQueue!==null&&(o.flags|=4),Jt(o),null);case 4:return da(),Uu(r,o),r===null&&co(o.stateNode.containerInfo),Jt(o),null;case 10:return mu(o.type._context),Jt(o),null;case 17:return sn(o.type)&&$i(),Jt(o),null;case 19:if(ct(pt),w=o.memoizedState,w===null)return Jt(o),null;if(m=(o.flags&128)!==0,C=w.rendering,C===null)if(m)jo(w,!1);else{if(Mt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(C=Ji(r),C!==null){for(o.flags|=128,jo(w,!1),m=C.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=c,c=o.child;c!==null;)w=c,r=m,w.flags&=14680066,C=w.alternate,C===null?(w.childLanes=0,w.lanes=r,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=C.childLanes,w.lanes=C.lanes,w.child=C.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=C.memoizedProps,w.memoizedState=C.memoizedState,w.updateQueue=C.updateQueue,w.type=C.type,r=C.dependencies,w.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return ot(pt,pt.current&1|2),o.child}r=r.sibling}w.tail!==null&&wt()>pa&&(o.flags|=128,m=!0,jo(w,!1),o.lanes=4194304)}else{if(!m)if(r=Ji(C),r!==null){if(o.flags|=128,m=!0,c=r.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),jo(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!ft)return Jt(o),null}else 2*wt()-w.renderingStartTime>pa&&c!==1073741824&&(o.flags|=128,m=!0,jo(w,!1),o.lanes=4194304);w.isBackwards?(C.sibling=o.child,o.child=C):(c=w.last,c!==null?c.sibling=C:o.child=C,w.last=C)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=wt(),o.sibling=null,c=pt.current,ot(pt,m?c&1|2:c&1),o):(Jt(o),null);case 22:case 23:return Qu(),m=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==m&&(o.flags|=8192),m&&(o.mode&1)!==0?(yn&1073741824)!==0&&(Jt(o),o.subtreeFlags&6&&(o.flags|=8192)):Jt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function Q1(r,o){switch(lu(o),o.tag){case 1:return sn(o.type)&&$i(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return da(),ct(rn),ct(Kt),wu(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 5:return yu(o),null;case 13:if(ct(pt),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ia()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return ct(pt),null;case 4:return da(),null;case 10:return mu(o.type._context),null;case 22:case 23:return Qu(),null;case 24:return null;default:return null}}var al=!1,Yt=!1,ej=typeof WeakSet=="function"?WeakSet:Set,be=null;function ha(r,o){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(m){yt(r,o,m)}else c.current=null}function Bu(r,o,c){try{c()}catch(m){yt(r,o,m)}}var ip=!1;function tj(r,o){if(Qc=Si,r=$h(),Hc(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var v=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var C=0,I=-1,$=-1,Y=0,de=0,fe=r,ue=null;t:for(;;){for(var ye;fe!==c||v!==0&&fe.nodeType!==3||(I=C+v),fe!==w||m!==0&&fe.nodeType!==3||($=C+m),fe.nodeType===3&&(C+=fe.nodeValue.length),(ye=fe.firstChild)!==null;)ue=fe,fe=ye;for(;;){if(fe===r)break t;if(ue===c&&++Y===v&&(I=C),ue===w&&++de===m&&($=C),(ye=fe.nextSibling)!==null)break;fe=ue,ue=fe.parentNode}fe=ye}c=I===-1||$===-1?null:{start:I,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(eu={focusedElem:r,selectionRange:c},Si=!1,be=o;be!==null;)if(o=be,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,be=r;else for(;be!==null;){o=be;try{var je=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var ke=je.memoizedProps,jt=je.memoizedState,G=o.stateNode,B=G.getSnapshotBeforeUpdate(o.elementType===o.type?ke:zn(o.type,ke),jt);G.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var Z=o.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pe){yt(o,o.return,pe)}if(r=o.sibling,r!==null){r.return=o.return,be=r;break}be=o.return}return je=ip,ip=!1,je}function ko(r,o,c){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&r)===r){var w=v.destroy;v.destroy=void 0,w!==void 0&&Bu(o,c,w)}v=v.next}while(v!==m)}}function ol(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&r)===r){var m=c.create;c.destroy=m()}c=c.next}while(c!==o)}}function Fu(r){var o=r.ref;if(o!==null){var c=r.stateNode;switch(r.tag){case 5:r=c;break;default:r=c}typeof o=="function"?o(r):o.current=r}}function lp(r){var o=r.alternate;o!==null&&(r.alternate=null,lp(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[er],delete o[fo],delete o[su],delete o[A1],delete o[z1])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function cp(r){return r.tag===5||r.tag===3||r.tag===4}function up(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||cp(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Wu(r,o,c){var m=r.tag;if(m===5||m===6)r=r.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(r,o):c.insertBefore(r,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(r,c)):(o=c,o.appendChild(r)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Ai));else if(m!==4&&(r=r.child,r!==null))for(Wu(r,o,c),r=r.sibling;r!==null;)Wu(r,o,c),r=r.sibling}function Vu(r,o,c){var m=r.tag;if(m===5||m===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(m!==4&&(r=r.child,r!==null))for(Vu(r,o,c),r=r.sibling;r!==null;)Vu(r,o,c),r=r.sibling}var Wt=null,$n=!1;function Hr(r,o,c){for(c=c.child;c!==null;)dp(r,o,c),c=c.sibling}function dp(r,o,c){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(yi,c)}catch{}switch(c.tag){case 5:Yt||ha(c,o);case 6:var m=Wt,v=$n;Wt=null,Hr(r,o,c),Wt=m,$n=v,Wt!==null&&($n?(r=Wt,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):Wt.removeChild(c.stateNode));break;case 18:Wt!==null&&($n?(r=Wt,c=c.stateNode,r.nodeType===8?ru(r.parentNode,c):r.nodeType===1&&ru(r,c),eo(r)):ru(Wt,c.stateNode));break;case 4:m=Wt,v=$n,Wt=c.stateNode.containerInfo,$n=!0,Hr(r,o,c),Wt=m,$n=v;break;case 0:case 11:case 14:case 15:if(!Yt&&(m=c.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var w=v,C=w.destroy;w=w.tag,C!==void 0&&((w&2)!==0||(w&4)!==0)&&Bu(c,o,C),v=v.next}while(v!==m)}Hr(r,o,c);break;case 1:if(!Yt&&(ha(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=c.memoizedProps,m.state=c.memoizedState,m.componentWillUnmount()}catch(I){yt(c,o,I)}Hr(r,o,c);break;case 21:Hr(r,o,c);break;case 22:c.mode&1?(Yt=(m=Yt)||c.memoizedState!==null,Hr(r,o,c),Yt=m):Hr(r,o,c);break;default:Hr(r,o,c)}}function fp(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new ej),o.forEach(function(m){var v=uj.bind(null,r,m);c.has(m)||(c.add(m),m.then(v,v))})}}function Un(r,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];try{var w=r,C=o,I=C;e:for(;I!==null;){switch(I.tag){case 5:Wt=I.stateNode,$n=!1;break e;case 3:Wt=I.stateNode.containerInfo,$n=!0;break e;case 4:Wt=I.stateNode.containerInfo,$n=!0;break e}I=I.return}if(Wt===null)throw Error(n(160));dp(w,C,v),Wt=null,$n=!1;var $=v.alternate;$!==null&&($.return=null),v.return=null}catch(Y){yt(v,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)hp(o,r),o=o.sibling}function hp(r,o){var c=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Un(o,r),rr(r),m&4){try{ko(3,r,r.return),ol(3,r)}catch(ke){yt(r,r.return,ke)}try{ko(5,r,r.return)}catch(ke){yt(r,r.return,ke)}}break;case 1:Un(o,r),rr(r),m&512&&c!==null&&ha(c,c.return);break;case 5:if(Un(o,r),rr(r),m&512&&c!==null&&ha(c,c.return),r.flags&32){var v=r.stateNode;try{Oe(v,"")}catch(ke){yt(r,r.return,ke)}}if(m&4&&(v=r.stateNode,v!=null)){var w=r.memoizedProps,C=c!==null?c.memoizedProps:w,I=r.type,$=r.updateQueue;if(r.updateQueue=null,$!==null)try{I==="input"&&w.type==="radio"&&w.name!=null&&bt(v,w),hn(I,C);var Y=hn(I,w);for(C=0;C<$.length;C+=2){var de=$[C],fe=$[C+1];de==="style"?Bt(v,fe):de==="dangerouslySetInnerHTML"?he(v,fe):de==="children"?Oe(v,fe):L(v,de,fe,Y)}switch(I){case"input":mt(v,w);break;case"textarea":Re(v,w);break;case"select":var ue=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!w.multiple;var ye=w.value;ye!=null?Ne(v,!!w.multiple,ye,!1):ue!==!!w.multiple&&(w.defaultValue!=null?Ne(v,!!w.multiple,w.defaultValue,!0):Ne(v,!!w.multiple,w.multiple?[]:"",!1))}v[fo]=w}catch(ke){yt(r,r.return,ke)}}break;case 6:if(Un(o,r),rr(r),m&4){if(r.stateNode===null)throw Error(n(162));v=r.stateNode,w=r.memoizedProps;try{v.nodeValue=w}catch(ke){yt(r,r.return,ke)}}break;case 3:if(Un(o,r),rr(r),m&4&&c!==null&&c.memoizedState.isDehydrated)try{eo(o.containerInfo)}catch(ke){yt(r,r.return,ke)}break;case 4:Un(o,r),rr(r);break;case 13:Un(o,r),rr(r),v=r.child,v.flags&8192&&(w=v.memoizedState!==null,v.stateNode.isHidden=w,!w||v.alternate!==null&&v.alternate.memoizedState!==null||(Gu=wt())),m&4&&fp(r);break;case 22:if(de=c!==null&&c.memoizedState!==null,r.mode&1?(Yt=(Y=Yt)||de,Un(o,r),Yt=Y):Un(o,r),rr(r),m&8192){if(Y=r.memoizedState!==null,(r.stateNode.isHidden=Y)&&!de&&(r.mode&1)!==0)for(be=r,de=r.child;de!==null;){for(fe=be=de;be!==null;){switch(ue=be,ye=ue.child,ue.tag){case 0:case 11:case 14:case 15:ko(4,ue,ue.return);break;case 1:ha(ue,ue.return);var je=ue.stateNode;if(typeof je.componentWillUnmount=="function"){m=ue,c=ue.return;try{o=m,je.props=o.memoizedProps,je.state=o.memoizedState,je.componentWillUnmount()}catch(ke){yt(m,c,ke)}}break;case 5:ha(ue,ue.return);break;case 22:if(ue.memoizedState!==null){gp(fe);continue}}ye!==null?(ye.return=ue,be=ye):gp(fe)}de=de.sibling}e:for(de=null,fe=r;;){if(fe.tag===5){if(de===null){de=fe;try{v=fe.stateNode,Y?(w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(I=fe.stateNode,$=fe.memoizedProps.style,C=$!=null&&$.hasOwnProperty("display")?$.display:null,I.style.display=Ut("display",C))}catch(ke){yt(r,r.return,ke)}}}else if(fe.tag===6){if(de===null)try{fe.stateNode.nodeValue=Y?"":fe.memoizedProps}catch(ke){yt(r,r.return,ke)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===r)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===r)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===r)break e;de===fe&&(de=null),fe=fe.return}de===fe&&(de=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:Un(o,r),rr(r),m&4&&fp(r);break;case 21:break;default:Un(o,r),rr(r)}}function rr(r){var o=r.flags;if(o&2){try{e:{for(var c=r.return;c!==null;){if(cp(c)){var m=c;break e}c=c.return}throw Error(n(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(Oe(v,""),m.flags&=-33);var w=up(r);Vu(r,w,v);break;case 3:case 4:var C=m.stateNode.containerInfo,I=up(r);Wu(r,I,C);break;default:throw Error(n(161))}}catch($){yt(r,r.return,$)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function nj(r,o,c){be=r,mp(r)}function mp(r,o,c){for(var m=(r.mode&1)!==0;be!==null;){var v=be,w=v.child;if(v.tag===22&&m){var C=v.memoizedState!==null||al;if(!C){var I=v.alternate,$=I!==null&&I.memoizedState!==null||Yt;I=al;var Y=Yt;if(al=C,(Yt=$)&&!Y)for(be=v;be!==null;)C=be,$=C.child,C.tag===22&&C.memoizedState!==null?vp(v):$!==null?($.return=C,be=$):vp(v);for(;w!==null;)be=w,mp(w),w=w.sibling;be=v,al=I,Yt=Y}pp(r)}else(v.subtreeFlags&8772)!==0&&w!==null?(w.return=v,be=w):pp(r)}}function pp(r){for(;be!==null;){var o=be;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Yt||ol(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!Yt)if(c===null)m.componentDidMount();else{var v=o.elementType===o.type?c.memoizedProps:zn(o.type,c.memoizedProps);m.componentDidUpdate(v,c.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&gm(o,w,m);break;case 3:var C=o.updateQueue;if(C!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}gm(o,C,c)}break;case 5:var I=o.stateNode;if(c===null&&o.flags&4){c=I;var $=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&c.focus();break;case"img":$.src&&(c.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var de=Y.memoizedState;if(de!==null){var fe=de.dehydrated;fe!==null&&eo(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Yt||o.flags&512&&Fu(o)}catch(ue){yt(o,o.return,ue)}}if(o===r){be=null;break}if(c=o.sibling,c!==null){c.return=o.return,be=c;break}be=o.return}}function gp(r){for(;be!==null;){var o=be;if(o===r){be=null;break}var c=o.sibling;if(c!==null){c.return=o.return,be=c;break}be=o.return}}function vp(r){for(;be!==null;){var o=be;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{ol(4,o)}catch($){yt(o,c,$)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var v=o.return;try{m.componentDidMount()}catch($){yt(o,v,$)}}var w=o.return;try{Fu(o)}catch($){yt(o,w,$)}break;case 5:var C=o.return;try{Fu(o)}catch($){yt(o,C,$)}}}catch($){yt(o,o.return,$)}if(o===r){be=null;break}var I=o.sibling;if(I!==null){I.return=o.return,be=I;break}be=o.return}}var rj=Math.ceil,il=S.ReactCurrentDispatcher,Hu=S.ReactCurrentOwner,Pn=S.ReactCurrentBatchConfig,Ze=0,Dt=null,Ct=null,Vt=0,yn=0,ma=Ur(0),Mt=0,No=null,Ps=0,ll=0,qu=0,So=null,on=null,Gu=0,pa=1/0,wr=null,cl=!1,Ku=null,qr=null,ul=!1,Gr=null,dl=0,Co=0,Zu=null,fl=-1,hl=0;function nn(){return(Ze&6)!==0?wt():fl!==-1?fl:fl=wt()}function Kr(r){return(r.mode&1)===0?1:(Ze&2)!==0&&Vt!==0?Vt&-Vt:U1.transition!==null?(hl===0&&(hl=uh()),hl):(r=st,r!==0||(r=window.event,r=r===void 0?16:yh(r.type)),r)}function Bn(r,o,c,m){if(50<Co)throw Co=0,Zu=null,Error(n(185));Za(r,c,m),((Ze&2)===0||r!==Dt)&&(r===Dt&&((Ze&2)===0&&(ll|=c),Mt===4&&Zr(r,Vt)),ln(r,m),c===1&&Ze===0&&(o.mode&1)===0&&(pa=wt()+500,Bi&&Fr()))}function ln(r,o){var c=r.callbackNode;Uw(r,o);var m=ji(r,r===Dt?Vt:0);if(m===0)c!==null&&ih(c),r.callbackNode=null,r.callbackPriority=0;else if(o=m&-m,r.callbackPriority!==o){if(c!=null&&ih(c),o===1)r.tag===0?$1(yp.bind(null,r)):sm(yp.bind(null,r)),I1(function(){(Ze&6)===0&&Fr()}),c=null;else{switch(dh(m)){case 1:c=_c;break;case 4:c=lh;break;case 16:c=xi;break;case 536870912:c=ch;break;default:c=xi}c=Ep(c,xp.bind(null,r))}r.callbackPriority=o,r.callbackNode=c}}function xp(r,o){if(fl=-1,hl=0,(Ze&6)!==0)throw Error(n(327));var c=r.callbackNode;if(ga()&&r.callbackNode!==c)return null;var m=ji(r,r===Dt?Vt:0);if(m===0)return null;if((m&30)!==0||(m&r.expiredLanes)!==0||o)o=ml(r,m);else{o=m;var v=Ze;Ze|=2;var w=wp();(Dt!==r||Vt!==o)&&(wr=null,pa=wt()+500,Ts(r,o));do try{oj();break}catch(I){bp(r,I)}while(!0);hu(),il.current=w,Ze=v,Ct!==null?o=0:(Dt=null,Vt=0,o=Mt)}if(o!==0){if(o===2&&(v=Lc(r),v!==0&&(m=v,o=Ju(r,v))),o===1)throw c=No,Ts(r,0),Zr(r,m),ln(r,wt()),c;if(o===6)Zr(r,m);else{if(v=r.current.alternate,(m&30)===0&&!sj(v)&&(o=ml(r,m),o===2&&(w=Lc(r),w!==0&&(m=w,o=Ju(r,w))),o===1))throw c=No,Ts(r,0),Zr(r,m),ln(r,wt()),c;switch(r.finishedWork=v,r.finishedLanes=m,o){case 0:case 1:throw Error(n(345));case 2:Os(r,on,wr);break;case 3:if(Zr(r,m),(m&130023424)===m&&(o=Gu+500-wt(),10<o)){if(ji(r,0)!==0)break;if(v=r.suspendedLanes,(v&m)!==m){nn(),r.pingedLanes|=r.suspendedLanes&v;break}r.timeoutHandle=nu(Os.bind(null,r,on,wr),o);break}Os(r,on,wr);break;case 4:if(Zr(r,m),(m&4194240)===m)break;for(o=r.eventTimes,v=-1;0<m;){var C=31-In(m);w=1<<C,C=o[C],C>v&&(v=C),m&=~w}if(m=v,m=wt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*rj(m/1960))-m,10<m){r.timeoutHandle=nu(Os.bind(null,r,on,wr),m);break}Os(r,on,wr);break;case 5:Os(r,on,wr);break;default:throw Error(n(329))}}}return ln(r,wt()),r.callbackNode===c?xp.bind(null,r):null}function Ju(r,o){var c=So;return r.current.memoizedState.isDehydrated&&(Ts(r,o).flags|=256),r=ml(r,o),r!==2&&(o=on,on=c,o!==null&&Yu(o)),r}function Yu(r){on===null?on=r:on.push.apply(on,r)}function sj(r){for(var o=r;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var m=0;m<c.length;m++){var v=c[m],w=v.getSnapshot;v=v.value;try{if(!Dn(w(),v))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Zr(r,o){for(o&=~qu,o&=~ll,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var c=31-In(o),m=1<<c;r[c]=-1,o&=~m}}function yp(r){if((Ze&6)!==0)throw Error(n(327));ga();var o=ji(r,0);if((o&1)===0)return ln(r,wt()),null;var c=ml(r,o);if(r.tag!==0&&c===2){var m=Lc(r);m!==0&&(o=m,c=Ju(r,m))}if(c===1)throw c=No,Ts(r,0),Zr(r,o),ln(r,wt()),c;if(c===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,Os(r,on,wr),ln(r,wt()),null}function Xu(r,o){var c=Ze;Ze|=1;try{return r(o)}finally{Ze=c,Ze===0&&(pa=wt()+500,Bi&&Fr())}}function Ms(r){Gr!==null&&Gr.tag===0&&(Ze&6)===0&&ga();var o=Ze;Ze|=1;var c=Pn.transition,m=st;try{if(Pn.transition=null,st=1,r)return r()}finally{st=m,Pn.transition=c,Ze=o,(Ze&6)===0&&Fr()}}function Qu(){yn=ma.current,ct(ma)}function Ts(r,o){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,R1(c)),Ct!==null)for(c=Ct.return;c!==null;){var m=c;switch(lu(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&$i();break;case 3:da(),ct(rn),ct(Kt),wu();break;case 5:yu(m);break;case 4:da();break;case 13:ct(pt);break;case 19:ct(pt);break;case 10:mu(m.type._context);break;case 22:case 23:Qu()}c=c.return}if(Dt=r,Ct=r=Jr(r.current,null),Vt=yn=o,Mt=0,No=null,qu=ll=Ps=0,on=So=null,Es!==null){for(o=0;o<Es.length;o++)if(c=Es[o],m=c.interleaved,m!==null){c.interleaved=null;var v=m.next,w=c.pending;if(w!==null){var C=w.next;w.next=v,m.next=C}c.pending=m}Es=null}return r}function bp(r,o){do{var c=Ct;try{if(hu(),Yi.current=tl,Xi){for(var m=gt.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}Xi=!1}if(Ls=0,It=Pt=gt=null,xo=!1,yo=0,Hu.current=null,c===null||c.return===null){Mt=1,No=o,Ct=null;break}e:{var w=r,C=c.return,I=c,$=o;if(o=Vt,I.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var Y=$,de=I,fe=de.tag;if((de.mode&1)===0&&(fe===0||fe===11||fe===15)){var ue=de.alternate;ue?(de.updateQueue=ue.updateQueue,de.memoizedState=ue.memoizedState,de.lanes=ue.lanes):(de.updateQueue=null,de.memoizedState=null)}var ye=Hm(C);if(ye!==null){ye.flags&=-257,qm(ye,C,I,w,o),ye.mode&1&&Vm(w,Y,o),o=ye,$=Y;var je=o.updateQueue;if(je===null){var ke=new Set;ke.add($),o.updateQueue=ke}else je.add($);break e}else{if((o&1)===0){Vm(w,Y,o),ed();break e}$=Error(n(426))}}else if(ft&&I.mode&1){var jt=Hm(C);if(jt!==null){(jt.flags&65536)===0&&(jt.flags|=256),qm(jt,C,I,w,o),du(fa($,I));break e}}w=$=fa($,I),Mt!==4&&(Mt=2),So===null?So=[w]:So.push(w),w=C;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var G=Fm(w,$,o);pm(w,G);break e;case 1:I=$;var B=w.type,Z=w.stateNode;if((w.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(qr===null||!qr.has(Z)))){w.flags|=65536,o&=-o,w.lanes|=o;var pe=Wm(w,I,o);pm(w,pe);break e}}w=w.return}while(w!==null)}kp(c)}catch(Se){o=Se,Ct===c&&c!==null&&(Ct=c=c.return);continue}break}while(!0)}function wp(){var r=il.current;return il.current=tl,r===null?tl:r}function ed(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Dt===null||(Ps&268435455)===0&&(ll&268435455)===0||Zr(Dt,Vt)}function ml(r,o){var c=Ze;Ze|=2;var m=wp();(Dt!==r||Vt!==o)&&(wr=null,Ts(r,o));do try{aj();break}catch(v){bp(r,v)}while(!0);if(hu(),Ze=c,il.current=m,Ct!==null)throw Error(n(261));return Dt=null,Vt=0,Mt}function aj(){for(;Ct!==null;)jp(Ct)}function oj(){for(;Ct!==null&&!Mw();)jp(Ct)}function jp(r){var o=Cp(r.alternate,r,yn);r.memoizedProps=r.pendingProps,o===null?kp(r):Ct=o,Hu.current=null}function kp(r){var o=r;do{var c=o.alternate;if(r=o.return,(o.flags&32768)===0){if(c=X1(c,o,yn),c!==null){Ct=c;return}}else{if(c=Q1(c,o),c!==null){c.flags&=32767,Ct=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Mt=6,Ct=null;return}}if(o=o.sibling,o!==null){Ct=o;return}Ct=o=r}while(o!==null);Mt===0&&(Mt=5)}function Os(r,o,c){var m=st,v=Pn.transition;try{Pn.transition=null,st=1,ij(r,o,c,m)}finally{Pn.transition=v,st=m}return null}function ij(r,o,c,m){do ga();while(Gr!==null);if((Ze&6)!==0)throw Error(n(327));c=r.finishedWork;var v=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var w=c.lanes|c.childLanes;if(Bw(r,w),r===Dt&&(Ct=Dt=null,Vt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||ul||(ul=!0,Ep(xi,function(){return ga(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=Pn.transition,Pn.transition=null;var C=st;st=1;var I=Ze;Ze|=4,Hu.current=null,tj(r,c),hp(c,r),E1(eu),Si=!!Qc,eu=Qc=null,r.current=c,nj(c),Tw(),Ze=I,st=C,Pn.transition=w}else r.current=c;if(ul&&(ul=!1,Gr=r,dl=v),w=r.pendingLanes,w===0&&(qr=null),Iw(c.stateNode),ln(r,wt()),o!==null)for(m=r.onRecoverableError,c=0;c<o.length;c++)v=o[c],m(v.value,{componentStack:v.stack,digest:v.digest});if(cl)throw cl=!1,r=Ku,Ku=null,r;return(dl&1)!==0&&r.tag!==0&&ga(),w=r.pendingLanes,(w&1)!==0?r===Zu?Co++:(Co=0,Zu=r):Co=0,Fr(),null}function ga(){if(Gr!==null){var r=dh(dl),o=Pn.transition,c=st;try{if(Pn.transition=null,st=16>r?16:r,Gr===null)var m=!1;else{if(r=Gr,Gr=null,dl=0,(Ze&6)!==0)throw Error(n(331));var v=Ze;for(Ze|=4,be=r.current;be!==null;){var w=be,C=w.child;if((be.flags&16)!==0){var I=w.deletions;if(I!==null){for(var $=0;$<I.length;$++){var Y=I[$];for(be=Y;be!==null;){var de=be;switch(de.tag){case 0:case 11:case 15:ko(8,de,w)}var fe=de.child;if(fe!==null)fe.return=de,be=fe;else for(;be!==null;){de=be;var ue=de.sibling,ye=de.return;if(lp(de),de===Y){be=null;break}if(ue!==null){ue.return=ye,be=ue;break}be=ye}}}var je=w.alternate;if(je!==null){var ke=je.child;if(ke!==null){je.child=null;do{var jt=ke.sibling;ke.sibling=null,ke=jt}while(ke!==null)}}be=w}}if((w.subtreeFlags&2064)!==0&&C!==null)C.return=w,be=C;else e:for(;be!==null;){if(w=be,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:ko(9,w,w.return)}var G=w.sibling;if(G!==null){G.return=w.return,be=G;break e}be=w.return}}var B=r.current;for(be=B;be!==null;){C=be;var Z=C.child;if((C.subtreeFlags&2064)!==0&&Z!==null)Z.return=C,be=Z;else e:for(C=B;be!==null;){if(I=be,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:ol(9,I)}}catch(Se){yt(I,I.return,Se)}if(I===C){be=null;break e}var pe=I.sibling;if(pe!==null){pe.return=I.return,be=pe;break e}be=I.return}}if(Ze=v,Fr(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(yi,r)}catch{}m=!0}return m}finally{st=c,Pn.transition=o}}return!1}function Np(r,o,c){o=fa(c,o),o=Fm(r,o,1),r=Vr(r,o,1),o=nn(),r!==null&&(Za(r,1,o),ln(r,o))}function yt(r,o,c){if(r.tag===3)Np(r,r,c);else for(;o!==null;){if(o.tag===3){Np(o,r,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(qr===null||!qr.has(m))){r=fa(c,r),r=Wm(o,r,1),o=Vr(o,r,1),r=nn(),o!==null&&(Za(o,1,r),ln(o,r));break}}o=o.return}}function lj(r,o,c){var m=r.pingCache;m!==null&&m.delete(o),o=nn(),r.pingedLanes|=r.suspendedLanes&c,Dt===r&&(Vt&c)===c&&(Mt===4||Mt===3&&(Vt&130023424)===Vt&&500>wt()-Gu?Ts(r,0):qu|=c),ln(r,o)}function Sp(r,o){o===0&&((r.mode&1)===0?o=1:(o=wi,wi<<=1,(wi&130023424)===0&&(wi=4194304)));var c=nn();r=xr(r,o),r!==null&&(Za(r,o,c),ln(r,c))}function cj(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),Sp(r,c)}function uj(r,o){var c=0;switch(r.tag){case 13:var m=r.stateNode,v=r.memoizedState;v!==null&&(c=v.retryLane);break;case 19:m=r.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(o),Sp(r,c)}var Cp;Cp=function(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps||rn.current)an=!0;else{if((r.lanes&c)===0&&(o.flags&128)===0)return an=!1,Y1(r,o,c);an=(r.flags&131072)!==0}else an=!1,ft&&(o.flags&1048576)!==0&&am(o,Wi,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;sl(r,o),r=o.pendingProps;var v=sa(o,Kt.current);ua(o,c),v=Nu(null,o,m,r,v,c);var w=Su();return o.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,sn(m)?(w=!0,Ui(o)):w=!1,o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,vu(o),v.updater=nl,o.stateNode=v,v._reactInternals=o,Mu(o,m,r,c),o=Iu(null,o,m,!0,w,c)):(o.tag=0,ft&&w&&iu(o),tn(null,o,v,c),o=o.child),o;case 16:m=o.elementType;e:{switch(sl(r,o),r=o.pendingProps,v=m._init,m=v(m._payload),o.type=m,v=o.tag=fj(m),r=zn(m,r),v){case 0:o=Ru(null,o,m,r,c);break e;case 1:o=Xm(null,o,m,r,c);break e;case 11:o=Gm(null,o,m,r,c);break e;case 14:o=Km(null,o,m,zn(m.type,r),c);break e}throw Error(n(306,m,""))}return o;case 0:return m=o.type,v=o.pendingProps,v=o.elementType===m?v:zn(m,v),Ru(r,o,m,v,c);case 1:return m=o.type,v=o.pendingProps,v=o.elementType===m?v:zn(m,v),Xm(r,o,m,v,c);case 3:e:{if(Qm(o),r===null)throw Error(n(387));m=o.pendingProps,w=o.memoizedState,v=w.element,mm(r,o),Zi(o,m,null,c);var C=o.memoizedState;if(m=C.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){v=fa(Error(n(423)),o),o=ep(r,o,m,c,v);break e}else if(m!==v){v=fa(Error(n(424)),o),o=ep(r,o,m,c,v);break e}else for(xn=$r(o.stateNode.containerInfo.firstChild),vn=o,ft=!0,An=null,c=fm(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ia(),m===v){o=br(r,o,c);break e}tn(r,o,m,c)}o=o.child}return o;case 5:return vm(o),r===null&&uu(o),m=o.type,v=o.pendingProps,w=r!==null?r.memoizedProps:null,C=v.children,tu(m,v)?C=null:w!==null&&tu(m,w)&&(o.flags|=32),Ym(r,o),tn(r,o,C,c),o.child;case 6:return r===null&&uu(o),null;case 13:return tp(r,o,c);case 4:return xu(o,o.stateNode.containerInfo),m=o.pendingProps,r===null?o.child=la(o,null,m,c):tn(r,o,m,c),o.child;case 11:return m=o.type,v=o.pendingProps,v=o.elementType===m?v:zn(m,v),Gm(r,o,m,v,c);case 7:return tn(r,o,o.pendingProps,c),o.child;case 8:return tn(r,o,o.pendingProps.children,c),o.child;case 12:return tn(r,o,o.pendingProps.children,c),o.child;case 10:e:{if(m=o.type._context,v=o.pendingProps,w=o.memoizedProps,C=v.value,ot(qi,m._currentValue),m._currentValue=C,w!==null)if(Dn(w.value,C)){if(w.children===v.children&&!rn.current){o=br(r,o,c);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var I=w.dependencies;if(I!==null){C=w.child;for(var $=I.firstContext;$!==null;){if($.context===m){if(w.tag===1){$=yr(-1,c&-c),$.tag=2;var Y=w.updateQueue;if(Y!==null){Y=Y.shared;var de=Y.pending;de===null?$.next=$:($.next=de.next,de.next=$),Y.pending=$}}w.lanes|=c,$=w.alternate,$!==null&&($.lanes|=c),pu(w.return,c,o),I.lanes|=c;break}$=$.next}}else if(w.tag===10)C=w.type===o.type?null:w.child;else if(w.tag===18){if(C=w.return,C===null)throw Error(n(341));C.lanes|=c,I=C.alternate,I!==null&&(I.lanes|=c),pu(C,c,o),C=w.sibling}else C=w.child;if(C!==null)C.return=w;else for(C=w;C!==null;){if(C===o){C=null;break}if(w=C.sibling,w!==null){w.return=C.return,C=w;break}C=C.return}w=C}tn(r,o,v.children,c),o=o.child}return o;case 9:return v=o.type,m=o.pendingProps.children,ua(o,c),v=_n(v),m=m(v),o.flags|=1,tn(r,o,m,c),o.child;case 14:return m=o.type,v=zn(m,o.pendingProps),v=zn(m.type,v),Km(r,o,m,v,c);case 15:return Zm(r,o,o.type,o.pendingProps,c);case 17:return m=o.type,v=o.pendingProps,v=o.elementType===m?v:zn(m,v),sl(r,o),o.tag=1,sn(m)?(r=!0,Ui(o)):r=!1,ua(o,c),Um(o,m,v),Mu(o,m,v,c),Iu(null,o,m,!0,r,c);case 19:return rp(r,o,c);case 22:return Jm(r,o,c)}throw Error(n(156,o.tag))};function Ep(r,o){return oh(r,o)}function dj(r,o,c,m){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(r,o,c,m){return new dj(r,o,c,m)}function td(r){return r=r.prototype,!(!r||!r.isReactComponent)}function fj(r){if(typeof r=="function")return td(r)?1:0;if(r!=null){if(r=r.$$typeof,r===J)return 11;if(r===T)return 14}return 2}function Jr(r,o){var c=r.alternate;return c===null?(c=Mn(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function pl(r,o,c,m,v,w){var C=2;if(m=r,typeof r=="function")td(r)&&(C=1);else if(typeof r=="string")C=5;else e:switch(r){case O:return Rs(c.children,v,w,o);case F:C=8,v|=8;break;case W:return r=Mn(12,c,o,v|2),r.elementType=W,r.lanes=w,r;case re:return r=Mn(13,c,o,v),r.elementType=re,r.lanes=w,r;case ee:return r=Mn(19,c,o,v),r.elementType=ee,r.lanes=w,r;case K:return gl(c,v,w,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case A:C=10;break e;case Q:C=9;break e;case J:C=11;break e;case T:C=14;break e;case q:C=16,m=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return o=Mn(C,c,o,v),o.elementType=r,o.type=m,o.lanes=w,o}function Rs(r,o,c,m){return r=Mn(7,r,m,o),r.lanes=c,r}function gl(r,o,c,m){return r=Mn(22,r,m,o),r.elementType=K,r.lanes=c,r.stateNode={isHidden:!1},r}function nd(r,o,c){return r=Mn(6,r,null,o),r.lanes=c,r}function rd(r,o,c){return o=Mn(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function hj(r,o,c,m,v){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pc(0),this.expirationTimes=Pc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pc(0),this.identifierPrefix=m,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function sd(r,o,c,m,v,w,C,I,$){return r=new hj(r,o,c,I,$),o===1?(o=1,w===!0&&(o|=8)):o=0,w=Mn(3,null,null,o),r.current=w,w.stateNode=r,w.memoizedState={element:m,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},vu(w),r}function mj(r,o,c){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:m==null?null:""+m,children:r,containerInfo:o,implementation:c}}function _p(r){if(!r)return Br;r=r._reactInternals;e:{if(js(r)!==r||r.tag!==1)throw Error(n(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(sn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(r.tag===1){var c=r.type;if(sn(c))return nm(r,c,o)}return o}function Lp(r,o,c,m,v,w,C,I,$){return r=sd(c,m,!0,r,v,w,C,I,$),r.context=_p(null),c=r.current,m=nn(),v=Kr(c),w=yr(m,v),w.callback=o??null,Vr(c,w,v),r.current.lanes=v,Za(r,v,m),ln(r,m),r}function vl(r,o,c,m){var v=o.current,w=nn(),C=Kr(v);return c=_p(c),o.context===null?o.context=c:o.pendingContext=c,o=yr(w,C),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=Vr(v,o,C),r!==null&&(Bn(r,v,C,w),Ki(r,v,C)),C}function xl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Pp(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function ad(r,o){Pp(r,o),(r=r.alternate)&&Pp(r,o)}function pj(){return null}var Mp=typeof reportError=="function"?reportError:function(r){console.error(r)};function od(r){this._internalRoot=r}yl.prototype.render=od.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(n(409));vl(r,o,null,null)},yl.prototype.unmount=od.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Ms(function(){vl(null,r,null,null)}),o[mr]=null}};function yl(r){this._internalRoot=r}yl.prototype.unstable_scheduleHydration=function(r){if(r){var o=mh();r={blockedOn:null,target:r,priority:o};for(var c=0;c<Dr.length&&o!==0&&o<Dr[c].priority;c++);Dr.splice(c,0,r),c===0&&vh(r)}};function id(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function bl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Tp(){}function gj(r,o,c,m,v){if(v){if(typeof m=="function"){var w=m;m=function(){var Y=xl(C);w.call(Y)}}var C=Lp(o,m,r,0,null,!1,!1,"",Tp);return r._reactRootContainer=C,r[mr]=C.current,co(r.nodeType===8?r.parentNode:r),Ms(),C}for(;v=r.lastChild;)r.removeChild(v);if(typeof m=="function"){var I=m;m=function(){var Y=xl($);I.call(Y)}}var $=sd(r,0,!1,null,null,!1,!1,"",Tp);return r._reactRootContainer=$,r[mr]=$.current,co(r.nodeType===8?r.parentNode:r),Ms(function(){vl(o,$,c,m)}),$}function wl(r,o,c,m,v){var w=c._reactRootContainer;if(w){var C=w;if(typeof v=="function"){var I=v;v=function(){var $=xl(C);I.call($)}}vl(o,C,r,v)}else C=gj(c,o,r,v,m);return xl(C)}fh=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var c=Ka(o.pendingLanes);c!==0&&(Mc(o,c|1),ln(o,wt()),(Ze&6)===0&&(pa=wt()+500,Fr()))}break;case 13:Ms(function(){var m=xr(r,1);if(m!==null){var v=nn();Bn(m,r,1,v)}}),ad(r,1)}},Tc=function(r){if(r.tag===13){var o=xr(r,134217728);if(o!==null){var c=nn();Bn(o,r,134217728,c)}ad(r,134217728)}},hh=function(r){if(r.tag===13){var o=Kr(r),c=xr(r,o);if(c!==null){var m=nn();Bn(c,r,o,m)}ad(r,o)}},mh=function(){return st},ph=function(r,o){var c=st;try{return st=r,o()}finally{st=c}},hr=function(r,o,c){switch(o){case"input":if(mt(r,c),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==r&&m.form===r.form){var v=zi(m);if(!v)throw Error(n(90));Ee(m),mt(m,v)}}}break;case"textarea":Re(r,c);break;case"select":o=c.value,o!=null&&Ne(r,!!c.multiple,o,!1)}},Ke=Xu,Xe=Ms;var vj={usingClientEntryPoint:!1,Events:[ho,na,zi,ws,Me,Xu]},Eo={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xj={bundleType:Eo.bundleType,version:Eo.version,rendererPackageName:Eo.rendererPackageName,rendererConfig:Eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=sh(r),r===null?null:r.stateNode},findFiberByHostInstance:Eo.findFiberByHostInstance||pj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{yi=jl.inject(xj),Qn=jl}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vj,cn.createPortal=function(r,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!id(o))throw Error(n(200));return mj(r,o,null,c)},cn.createRoot=function(r,o){if(!id(r))throw Error(n(299));var c=!1,m="",v=Mp;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),o=sd(r,1,!1,null,null,c,!1,m,v),r[mr]=o.current,co(r.nodeType===8?r.parentNode:r),new od(o)},cn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=sh(o),r=r===null?null:r.stateNode,r},cn.flushSync=function(r){return Ms(r)},cn.hydrate=function(r,o,c){if(!bl(o))throw Error(n(200));return wl(null,r,o,!0,c)},cn.hydrateRoot=function(r,o,c){if(!id(r))throw Error(n(405));var m=c!=null&&c.hydratedSources||null,v=!1,w="",C=Mp;if(c!=null&&(c.unstable_strictMode===!0&&(v=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),o=Lp(o,null,r,1,c??null,v,!1,w,C),r[mr]=o.current,co(r),m)for(r=0;r<m.length;r++)c=m[r],v=c._getVersion,v=v(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,v]:o.mutableSourceEagerHydrationData.push(c,v);return new yl(o)},cn.render=function(r,o,c){if(!bl(o))throw Error(n(200));return wl(null,r,o,!1,c)},cn.unmountComponentAtNode=function(r){if(!bl(r))throw Error(n(40));return r._reactRootContainer?(Ms(function(){wl(null,null,r,!1,function(){r._reactRootContainer=null,r[mr]=null})}),!0):!1},cn.unstable_batchedUpdates=Xu,cn.unstable_renderSubtreeIntoContainer=function(r,o,c,m){if(!bl(c))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return wl(r,o,c,!1,m)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var Up;function S0(){if(Up)return ud.exports;Up=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ud.exports=Ej(),ud.exports}var Bp;function _j(){if(Bp)return kl;Bp=1;var t=S0();return kl.createRoot=t.createRoot,kl.hydrateRoot=t.hydrateRoot,kl}var Lj=_j();const Pj=t=>t instanceof Error?t.message+`
`+t.stack:JSON.stringify(t,null,2);class Mj extends ge.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){return this.state.hasError?a.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[a.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),a.jsx("pre",{className:"mt-2 text-sm",children:Pj(this.state.error)})]}):this.props.children}}var Zn=S0();const C0=xf(Zn);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Go(){return Go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Go.apply(this,arguments)}var is;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(is||(is={}));const Fp="popstate";function Tj(t){t===void 0&&(t={});function e(s,i){let{pathname:l,search:u,hash:d}=s.location;return $d("",{pathname:l,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:Hl(i)}return Rj(e,n,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function E0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Oj(){return Math.random().toString(36).substr(2,8)}function Wp(t,e){return{usr:t.state,key:t.key,idx:e}}function $d(t,e,n,s){return n===void 0&&(n=null),Go({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$a(e):e,{state:n,key:e&&e.key||s||Oj()})}function Hl(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function $a(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function Rj(t,e,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:l=!1}=s,u=i.history,d=is.Pop,f=null,p=g();p==null&&(p=0,u.replaceState(Go({},u.state,{idx:p}),""));function g(){return(u.state||{idx:null}).idx}function x(){d=is.Pop;let j=g(),M=j==null?null:j-p;p=j,f&&f({action:d,location:k.location,delta:M})}function b(j,M){d=is.Push;let _=$d(k.location,j,M);p=g()+1;let L=Wp(_,p),S=k.createHref(_);try{u.pushState(L,"",S)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(S)}l&&f&&f({action:d,location:k.location,delta:1})}function y(j,M){d=is.Replace;let _=$d(k.location,j,M);p=g();let L=Wp(_,p),S=k.createHref(_);u.replaceState(L,"",S),l&&f&&f({action:d,location:k.location,delta:0})}function N(j){let M=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof j=="string"?j:Hl(j);return _=_.replace(/ $/,"%20"),_t(M,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,M)}let k={get action(){return d},get location(){return t(i,u)},listen(j){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Fp,x),f=j,()=>{i.removeEventListener(Fp,x),f=null}},createHref(j){return e(i,j)},createURL:N,encodeLocation(j){let M=N(j);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:b,replace:y,go(j){return u.go(j)}};return k}var Vp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Vp||(Vp={}));function Ij(t,e,n){return n===void 0&&(n="/"),Dj(t,e,n)}function Dj(t,e,n,s){let i=typeof e=="string"?$a(e):e,l=bf(i.pathname||"/",n);if(l==null)return null;let u=_0(t);Aj(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=Zj(l);d=qj(u[f],p)}return d}function _0(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(l,u,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(_t(f.relativePath.startsWith(s),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(s.length));let p=cs([s,f.relativePath]),g=n.concat(f);l.children&&l.children.length>0&&(_t(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),_0(l.children,e,g,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:Vj(p,l.index),routesMeta:g})};return t.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))i(l,u);else for(let f of L0(l.path))i(l,u,f)}),e}function L0(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return i?[l,""]:[l];let u=L0(s.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),i&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function Aj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Hj(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const zj=/^:[\w-]+$/,$j=3,Uj=2,Bj=1,Fj=10,Wj=-2,Hp=t=>t==="*";function Vj(t,e){let n=t.split("/"),s=n.length;return n.some(Hp)&&(s+=Wj),e&&(s+=Uj),n.filter(i=>!Hp(i)).reduce((i,l)=>i+(zj.test(l)?$j:l===""?Bj:Fj),s)}function Hj(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function qj(t,e,n){let{routesMeta:s}=t,i={},l="/",u=[];for(let d=0;d<s.length;++d){let f=s[d],p=d===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",x=Gj({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),b=f.route;if(!x)return null;Object.assign(i,x.params),u.push({params:i,pathname:cs([l,x.pathname]),pathnameBase:Qj(cs([l,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(l=cs([l,x.pathnameBase]))}return u}function Gj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=Kj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:s.reduce((p,g,x)=>{let{paramName:b,isOptional:y}=g;if(b==="*"){let k=d[x]||"";u=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const N=d[x];return y&&!N?p[b]=void 0:p[b]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function Kj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),E0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function Zj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return E0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function Jj(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?$a(t):t;return{pathname:n?n.startsWith("/")?n:Yj(n,e):e,search:e2(s),hash:t2(i)}}function Yj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hd(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function P0(t,e){let n=Xj(t);return e?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function M0(t,e,n,s){s===void 0&&(s=!1);let i;typeof t=="string"?i=$a(t):(i=Go({},t),_t(!i.pathname||!i.pathname.includes("?"),hd("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),hd("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),hd("#","search","hash",i)));let l=t===""||i.pathname==="",u=l?"/":i.pathname,d;if(u==null)d=n;else{let x=e.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),x-=1;i.pathname=b.join("/")}d=x>=0?e[x]:"/"}let f=Jj(i,d),p=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}const cs=t=>t.join("/").replace(/\/\/+/g,"/"),Qj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),e2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,t2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function n2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const T0=["post","put","patch","delete"];new Set(T0);const r2=["get",...T0];new Set(r2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ko.apply(this,arguments)}const wf=h.createContext(null),s2=h.createContext(null),Gs=h.createContext(null),hc=h.createContext(null),gs=h.createContext({outlet:null,matches:[],isDataRoute:!1}),O0=h.createContext(null);function a2(t,e){let{relative:n}=e===void 0?{}:e;oi()||_t(!1);let{basename:s,navigator:i}=h.useContext(Gs),{hash:l,pathname:u,search:d}=D0(t,{relative:n}),f=u;return s!=="/"&&(f=u==="/"?s:cs([s,u])),i.createHref({pathname:f,search:d,hash:l})}function oi(){return h.useContext(hc)!=null}function ii(){return oi()||_t(!1),h.useContext(hc).location}function R0(t){h.useContext(Gs).static||h.useLayoutEffect(t)}function Jn(){let{isDataRoute:t}=h.useContext(gs);return t?x2():o2()}function o2(){oi()||_t(!1);let t=h.useContext(wf),{basename:e,future:n,navigator:s}=h.useContext(Gs),{matches:i}=h.useContext(gs),{pathname:l}=ii(),u=JSON.stringify(P0(i,n.v7_relativeSplatPath)),d=h.useRef(!1);return R0(()=>{d.current=!0}),h.useCallback(function(p,g){if(g===void 0&&(g={}),!d.current)return;if(typeof p=="number"){s.go(p);return}let x=M0(p,JSON.parse(u),l,g.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:cs([e,x.pathname])),(g.replace?s.replace:s.push)(x,g.state,g)},[e,s,u,l,t])}function I0(){let{matches:t}=h.useContext(gs),e=t[t.length-1];return e?e.params:{}}function D0(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=h.useContext(Gs),{matches:i}=h.useContext(gs),{pathname:l}=ii(),u=JSON.stringify(P0(i,s.v7_relativeSplatPath));return h.useMemo(()=>M0(t,JSON.parse(u),l,n==="path"),[t,u,l,n])}function i2(t,e){return l2(t,e)}function l2(t,e,n,s){oi()||_t(!1);let{navigator:i}=h.useContext(Gs),{matches:l}=h.useContext(gs),u=l[l.length-1],d=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let p=ii(),g;if(e){var x;let j=typeof e=="string"?$a(e):e;f==="/"||(x=j.pathname)!=null&&x.startsWith(f)||_t(!1),g=j}else g=p;let b=g.pathname||"/",y=b;if(f!=="/"){let j=f.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=Ij(t,{pathname:y}),k=h2(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:cs([f,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:cs([f,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,n,s);return e&&k?h.createElement(hc.Provider,{value:{location:Ko({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:is.Pop}},k):k}function c2(){let t=v2(),e=n2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:i},n):null,null)}const u2=h.createElement(c2,null);class d2 extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?h.createElement(gs.Provider,{value:this.props.routeContext},h.createElement(O0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function f2(t){let{routeContext:e,match:n,children:s}=t,i=h.useContext(wf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(gs.Provider,{value:e},s)}function h2(t,e,n,s){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var l;if(!n)return null;if(n.errors)t=n.matches;else if((l=s)!=null&&l.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,d=(i=n)==null?void 0:i.errors;if(d!=null){let g=u.findIndex(x=>x.route.id&&(d==null?void 0:d[x.route.id])!==void 0);g>=0||_t(!1),u=u.slice(0,Math.min(u.length,g+1))}let f=!1,p=-1;if(n&&s&&s.v7_partialHydration)for(let g=0;g<u.length;g++){let x=u[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=g),x.route.id){let{loaderData:b,errors:y}=n,N=x.route.loader&&b[x.route.id]===void 0&&(!y||y[x.route.id]===void 0);if(x.route.lazy||N){f=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,x,b)=>{let y,N=!1,k=null,j=null;n&&(y=d&&x.route.id?d[x.route.id]:void 0,k=x.route.errorElement||u2,f&&(p<0&&b===0?(y2("route-fallback"),N=!0,j=null):p===b&&(N=!0,j=x.route.hydrateFallbackElement||null)));let M=e.concat(u.slice(0,b+1)),_=()=>{let L;return y?L=k:N?L=j:x.route.Component?L=h.createElement(x.route.Component,null):x.route.element?L=x.route.element:L=g,h.createElement(f2,{match:x,routeContext:{outlet:g,matches:M,isDataRoute:n!=null},children:L})};return n&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?h.createElement(d2,{location:n.location,revalidation:n.revalidation,component:k,error:y,children:_(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):_()},null)}var A0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(A0||{}),z0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(z0||{});function m2(t){let e=h.useContext(wf);return e||_t(!1),e}function p2(t){let e=h.useContext(s2);return e||_t(!1),e}function g2(t){let e=h.useContext(gs);return e||_t(!1),e}function $0(t){let e=g2(),n=e.matches[e.matches.length-1];return n.route.id||_t(!1),n.route.id}function v2(){var t;let e=h.useContext(O0),n=p2(),s=$0();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function x2(){let{router:t}=m2(A0.UseNavigateStable),e=$0(z0.UseNavigateStable),n=h.useRef(!1);return R0(()=>{n.current=!0}),h.useCallback(function(i,l){l===void 0&&(l={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ko({fromRouteId:e},l)))},[t,e])}const qp={};function y2(t,e,n){qp[t]||(qp[t]=!0)}function b2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Et(t){_t(!1)}function w2(t){let{basename:e="/",children:n=null,location:s,navigationType:i=is.Pop,navigator:l,static:u=!1,future:d}=t;oi()&&_t(!1);let f=e.replace(/^\/*/,"/"),p=h.useMemo(()=>({basename:f,navigator:l,static:u,future:Ko({v7_relativeSplatPath:!1},d)}),[f,d,l,u]);typeof s=="string"&&(s=$a(s));let{pathname:g="/",search:x="",hash:b="",state:y=null,key:N="default"}=s,k=h.useMemo(()=>{let j=bf(g,f);return j==null?null:{location:{pathname:j,search:x,hash:b,state:y,key:N},navigationType:i}},[f,g,x,b,y,N,i]);return k==null?null:h.createElement(Gs.Provider,{value:p},h.createElement(hc.Provider,{children:n,value:k}))}function j2(t){let{children:e,location:n}=t;return i2(Ud(e),n)}new Promise(()=>{});function Ud(t,e){e===void 0&&(e=[]);let n=[];return h.Children.forEach(t,(s,i)=>{if(!h.isValidElement(s))return;let l=[...e,i];if(s.type===h.Fragment){n.push.apply(n,Ud(s.props.children,l));return}s.type!==Et&&_t(!1),!s.props.index||!s.props.children||_t(!1);let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Ud(s.props.children,l)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bd(){return Bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Bd.apply(this,arguments)}function k2(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,l;for(l=0;l<s.length;l++)i=s[l],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function N2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function S2(t,e){return t.button===0&&(!e||e==="_self")&&!N2(t)}const C2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],E2="6";try{window.__reactRouterVersion=E2}catch{}const _2="startTransition",Gp=yf[_2];function L2(t){let{basename:e,children:n,future:s,window:i}=t,l=h.useRef();l.current==null&&(l.current=Tj({window:i,v5Compat:!0}));let u=l.current,[d,f]=h.useState({action:u.action,location:u.location}),{v7_startTransition:p}=s||{},g=h.useCallback(x=>{p&&Gp?Gp(()=>f(x)):f(x)},[f,p]);return h.useLayoutEffect(()=>u.listen(g),[u,g]),h.useEffect(()=>b2(s),[s]),h.createElement(w2,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:u,future:s})}const P2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=h.forwardRef(function(e,n){let{onClick:s,relative:i,reloadDocument:l,replace:u,state:d,target:f,to:p,preventScrollReset:g,viewTransition:x}=e,b=k2(e,C2),{basename:y}=h.useContext(Gs),N,k=!1;if(typeof p=="string"&&M2.test(p)&&(N=p,P2))try{let L=new URL(window.location.href),S=p.startsWith("//")?new URL(L.protocol+p):new URL(p),P=bf(S.pathname,y);S.origin===L.origin&&P!=null?p=P+S.search+S.hash:k=!0}catch{}let j=a2(p,{relative:i}),M=T2(p,{replace:u,state:d,target:f,preventScrollReset:g,relative:i,viewTransition:x});function _(L){s&&s(L),L.defaultPrevented||M(L)}return h.createElement("a",Bd({},b,{href:N||j,onClick:k||l?s:_,ref:n,target:f}))});var Kp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Kp||(Kp={}));var Zp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zp||(Zp={}));function T2(t,e){let{target:n,replace:s,state:i,preventScrollReset:l,relative:u,viewTransition:d}=e===void 0?{}:e,f=Jn(),p=ii(),g=D0(t,{relative:u});return h.useCallback(x=>{if(S2(x,n)){x.preventDefault();let b=s!==void 0?s:Hl(p)===Hl(g);f(t,{replace:b,state:i,preventScrollReset:l,relative:u,viewTransition:d})}},[p,f,g,s,i,n,t,l,u,d])}var O2=t=>{switch(t){case"success":return D2;case"info":return z2;case"warning":return A2;case"error":return $2;default:return null}},R2=Array(12).fill(0),I2=({visible:t,className:e})=>ge.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ge.createElement("div",{className:"sonner-spinner"},R2.map((n,s)=>ge.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),D2=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),A2=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),z2=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$2=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),U2=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ge.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ge.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),B2=()=>{let[t,e]=ge.useState(document.hidden);return ge.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Fd=1,F2=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Fd++,l=this.toasts.find(d=>d.id===i),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:n}),{...d,...t,id:i,dismissible:u,title:n}):d):this.addToast({title:n,...s,dismissible:u,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=t instanceof Promise?t:t(),i=n!==void 0,l,u=s.then(async f=>{if(l=["resolve",f],ge.isValidElement(f))i=!1,this.create({id:n,type:"default",message:f});else if(V2(f)&&!f.ok){i=!1;let p=typeof e.error=="function"?await e.error(`HTTP error! status: ${f.status}`):e.error,g=typeof e.description=="function"?await e.description(`HTTP error! status: ${f.status}`):e.description;this.create({id:n,type:"error",message:p,description:g})}else if(e.success!==void 0){i=!1;let p=typeof e.success=="function"?await e.success(f):e.success,g=typeof e.description=="function"?await e.description(f):e.description;this.create({id:n,type:"success",message:p,description:g})}}).catch(async f=>{if(l=["reject",f],e.error!==void 0){i=!1;let p=typeof e.error=="function"?await e.error(f):e.error,g=typeof e.description=="function"?await e.description(f):e.description;this.create({id:n,type:"error",message:p,description:g})}}).finally(()=>{var f;i&&(this.dismiss(n),n=void 0),(f=e.finally)==null||f.call(e)}),d=()=>new Promise((f,p)=>u.then(()=>l[0]==="reject"?p(l[1]):f(l[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Fd++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},dn=new F2,W2=(t,e)=>{let n=(e==null?void 0:e.id)||Fd++;return dn.addToast({title:t,...e,id:n}),n},V2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",H2=W2,q2=()=>dn.toasts,G2=()=>dn.getActiveToasts(),Ce=Object.assign(H2,{success:dn.success,info:dn.info,warning:dn.warning,error:dn.error,custom:dn.custom,message:dn.message,promise:dn.promise,dismiss:dn.dismiss,loading:dn.loading},{getHistory:q2,getToasts:G2});function K2(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}K2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Nl(t){return t.label!==void 0}var Z2=3,J2="32px",Y2="16px",Jp=4e3,X2=356,Q2=14,ek=20,tk=200;function Fn(...t){return t.filter(Boolean).join(" ")}function nk(t){let[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}var rk=t=>{var e,n,s,i,l,u,d,f,p,g,x;let{invert:b,toast:y,unstyled:N,interacting:k,setHeights:j,visibleToasts:M,heights:_,index:L,toasts:S,expanded:P,removeToast:R,defaultRichColors:O,closeButton:F,style:W,cancelButtonStyle:A,actionButtonStyle:Q,className:J="",descriptionClassName:re="",duration:ee,position:T,gap:q,loadingIcon:K,expandByDefault:U,classNames:D,icons:V,closeButtonAriaLabel:E="Close toast",pauseWhenPageIsHidden:z}=t,[X,se]=ge.useState(null),[H,me]=ge.useState(null),[te,le]=ge.useState(!1),[xe,ce]=ge.useState(!1),[oe,Ee]=ge.useState(!1),[Ue,Ye]=ge.useState(!1),[De,bt]=ge.useState(!1),[mt,kt]=ge.useState(0),[dt,Nt]=ge.useState(0),Ne=ge.useRef(y.duration||ee||Jp),nt=ge.useRef(null),we=ge.useRef(null),Re=L===0,tt=L+1<=M,Be=y.type,at=y.dismissible!==!1,ae=y.className||"",he=y.descriptionClassName||"",Oe=ge.useMemo(()=>_.findIndex(Me=>Me.toastId===y.id)||0,[_,y.id]),rt=ge.useMemo(()=>{var Me;return(Me=y.closeButton)!=null?Me:F},[y.closeButton,F]),Lt=ge.useMemo(()=>y.duration||ee||Jp,[y.duration,ee]),Ut=ge.useRef(0),Bt=ge.useRef(0),Sn=ge.useRef(0),en=ge.useRef(null),[hn,mn]=T.split("-"),On=ge.useMemo(()=>_.reduce((Me,Ke,Xe)=>Xe>=Oe?Me:Me+Ke.height,0),[_,Oe]),hr=B2(),Rn=y.invert||b,pn=Be==="loading";Bt.current=ge.useMemo(()=>Oe*q+On,[Oe,On]),ge.useEffect(()=>{Ne.current=Lt},[Lt]),ge.useEffect(()=>{le(!0)},[]),ge.useEffect(()=>{let Me=we.current;if(Me){let Ke=Me.getBoundingClientRect().height;return Nt(Ke),j(Xe=>[{toastId:y.id,height:Ke,position:y.position},...Xe]),()=>j(Xe=>Xe.filter(Rt=>Rt.toastId!==y.id))}},[j,y.id]),ge.useLayoutEffect(()=>{if(!te)return;let Me=we.current,Ke=Me.style.height;Me.style.height="auto";let Xe=Me.getBoundingClientRect().height;Me.style.height=Ke,Nt(Xe),j(Rt=>Rt.find(Gt=>Gt.toastId===y.id)?Rt.map(Gt=>Gt.toastId===y.id?{...Gt,height:Xe}:Gt):[{toastId:y.id,height:Xe,position:y.position},...Rt])},[te,y.title,y.description,j,y.id]);let qt=ge.useCallback(()=>{ce(!0),kt(Bt.current),j(Me=>Me.filter(Ke=>Ke.toastId!==y.id)),setTimeout(()=>{R(y)},tk)},[y,R,j,Bt]);ge.useEffect(()=>{if(y.promise&&Be==="loading"||y.duration===1/0||y.type==="loading")return;let Me;return P||k||z&&hr?(()=>{if(Sn.current<Ut.current){let Ke=new Date().getTime()-Ut.current;Ne.current=Ne.current-Ke}Sn.current=new Date().getTime()})():Ne.current!==1/0&&(Ut.current=new Date().getTime(),Me=setTimeout(()=>{var Ke;(Ke=y.onAutoClose)==null||Ke.call(y,y),qt()},Ne.current)),()=>clearTimeout(Me)},[P,k,y,Be,z,hr,qt]),ge.useEffect(()=>{y.delete&&qt()},[qt,y.delete]);function ws(){var Me,Ke,Xe;return V!=null&&V.loading?ge.createElement("div",{className:Fn(D==null?void 0:D.loader,(Me=y==null?void 0:y.classNames)==null?void 0:Me.loader,"sonner-loader"),"data-visible":Be==="loading"},V.loading):K?ge.createElement("div",{className:Fn(D==null?void 0:D.loader,(Ke=y==null?void 0:y.classNames)==null?void 0:Ke.loader,"sonner-loader"),"data-visible":Be==="loading"},K):ge.createElement(I2,{className:Fn(D==null?void 0:D.loader,(Xe=y==null?void 0:y.classNames)==null?void 0:Xe.loader),visible:Be==="loading"})}return ge.createElement("li",{tabIndex:0,ref:we,className:Fn(J,ae,D==null?void 0:D.toast,(e=y==null?void 0:y.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[Be],(n=y==null?void 0:y.classNames)==null?void 0:n[Be]),"data-sonner-toast":"","data-rich-colors":(s=y.richColors)!=null?s:O,"data-styled":!(y.jsx||y.unstyled||N),"data-mounted":te,"data-promise":!!y.promise,"data-swiped":De,"data-removed":xe,"data-visible":tt,"data-y-position":hn,"data-x-position":mn,"data-index":L,"data-front":Re,"data-swiping":oe,"data-dismissible":at,"data-type":Be,"data-invert":Rn,"data-swipe-out":Ue,"data-swipe-direction":H,"data-expanded":!!(P||U&&te),style:{"--index":L,"--toasts-before":L,"--z-index":S.length-L,"--offset":`${xe?mt:Bt.current}px`,"--initial-height":U?"auto":`${dt}px`,...W,...y.style},onDragEnd:()=>{Ee(!1),se(null),en.current=null},onPointerDown:Me=>{pn||!at||(nt.current=new Date,kt(Bt.current),Me.target.setPointerCapture(Me.pointerId),Me.target.tagName!=="BUTTON"&&(Ee(!0),en.current={x:Me.clientX,y:Me.clientY}))},onPointerUp:()=>{var Me,Ke,Xe,Rt;if(Ue||!at)return;en.current=null;let Gt=Number(((Me=we.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),St=Number(((Ke=we.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),_e=new Date().getTime()-((Xe=nt.current)==null?void 0:Xe.getTime()),Ft=X==="x"?Gt:St,Xn=Math.abs(Ft)/_e;if(Math.abs(Ft)>=ek||Xn>.11){kt(Bt.current),(Rt=y.onDismiss)==null||Rt.call(y,y),me(X==="x"?Gt>0?"right":"left":St>0?"down":"up"),qt(),Ye(!0),bt(!1);return}Ee(!1),se(null)},onPointerMove:Me=>{var Ke,Xe,Rt,Gt;if(!en.current||!at||((Ke=window.getSelection())==null?void 0:Ke.toString().length)>0)return;let St=Me.clientY-en.current.y,_e=Me.clientX-en.current.x,Ft=(Xe=t.swipeDirections)!=null?Xe:nk(T);!X&&(Math.abs(_e)>1||Math.abs(St)>1)&&se(Math.abs(_e)>Math.abs(St)?"x":"y");let Xn={x:0,y:0};X==="y"?(Ft.includes("top")||Ft.includes("bottom"))&&(Ft.includes("top")&&St<0||Ft.includes("bottom")&&St>0)&&(Xn.y=St):X==="x"&&(Ft.includes("left")||Ft.includes("right"))&&(Ft.includes("left")&&_e<0||Ft.includes("right")&&_e>0)&&(Xn.x=_e),(Math.abs(Xn.x)>0||Math.abs(Xn.y)>0)&&bt(!0),(Rt=we.current)==null||Rt.style.setProperty("--swipe-amount-x",`${Xn.x}px`),(Gt=we.current)==null||Gt.style.setProperty("--swipe-amount-y",`${Xn.y}px`)}},rt&&!y.jsx?ge.createElement("button",{"aria-label":E,"data-disabled":pn,"data-close-button":!0,onClick:pn||!at?()=>{}:()=>{var Me;qt(),(Me=y.onDismiss)==null||Me.call(y,y)},className:Fn(D==null?void 0:D.closeButton,(i=y==null?void 0:y.classNames)==null?void 0:i.closeButton)},(l=V==null?void 0:V.close)!=null?l:U2):null,y.jsx||h.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:ge.createElement(ge.Fragment,null,Be||y.icon||y.promise?ge.createElement("div",{"data-icon":"",className:Fn(D==null?void 0:D.icon,(u=y==null?void 0:y.classNames)==null?void 0:u.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||ws():null,y.type!=="loading"?y.icon||(V==null?void 0:V[Be])||O2(Be):null):null,ge.createElement("div",{"data-content":"",className:Fn(D==null?void 0:D.content,(d=y==null?void 0:y.classNames)==null?void 0:d.content)},ge.createElement("div",{"data-title":"",className:Fn(D==null?void 0:D.title,(f=y==null?void 0:y.classNames)==null?void 0:f.title)},typeof y.title=="function"?y.title():y.title),y.description?ge.createElement("div",{"data-description":"",className:Fn(re,he,D==null?void 0:D.description,(p=y==null?void 0:y.classNames)==null?void 0:p.description)},typeof y.description=="function"?y.description():y.description):null),h.isValidElement(y.cancel)?y.cancel:y.cancel&&Nl(y.cancel)?ge.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||A,onClick:Me=>{var Ke,Xe;Nl(y.cancel)&&at&&((Xe=(Ke=y.cancel).onClick)==null||Xe.call(Ke,Me),qt())},className:Fn(D==null?void 0:D.cancelButton,(g=y==null?void 0:y.classNames)==null?void 0:g.cancelButton)},y.cancel.label):null,h.isValidElement(y.action)?y.action:y.action&&Nl(y.action)?ge.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||Q,onClick:Me=>{var Ke,Xe;Nl(y.action)&&((Xe=(Ke=y.action).onClick)==null||Xe.call(Ke,Me),!Me.defaultPrevented&&qt())},className:Fn(D==null?void 0:D.actionButton,(x=y==null?void 0:y.classNames)==null?void 0:x.actionButton)},y.action.label):null))};function Yp(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function sk(t,e){let n={};return[t,e].forEach((s,i)=>{let l=i===1,u=l?"--mobile-offset":"--offset",d=l?Y2:J2;function f(p){["top","right","bottom","left"].forEach(g=>{n[`${u}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof s=="number"||typeof s=="string"?f(s):typeof s=="object"?["top","right","bottom","left"].forEach(p=>{s[p]===void 0?n[`${u}-${p}`]=d:n[`${u}-${p}`]=typeof s[p]=="number"?`${s[p]}px`:s[p]}):f(d)}),n}var ak=h.forwardRef(function(t,e){let{invert:n,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:l,closeButton:u,className:d,offset:f,mobileOffset:p,theme:g="light",richColors:x,duration:b,style:y,visibleToasts:N=Z2,toastOptions:k,dir:j=Yp(),gap:M=Q2,loadingIcon:_,icons:L,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:P}=t,[R,O]=ge.useState([]),F=ge.useMemo(()=>Array.from(new Set([s].concat(R.filter(z=>z.position).map(z=>z.position)))),[R,s]),[W,A]=ge.useState([]),[Q,J]=ge.useState(!1),[re,ee]=ge.useState(!1),[T,q]=ge.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=ge.useRef(null),U=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=ge.useRef(null),V=ge.useRef(!1),E=ge.useCallback(z=>{O(X=>{var se;return(se=X.find(H=>H.id===z.id))!=null&&se.delete||dn.dismiss(z.id),X.filter(({id:H})=>H!==z.id)})},[]);return ge.useEffect(()=>dn.subscribe(z=>{if(z.dismiss){O(X=>X.map(se=>se.id===z.id?{...se,delete:!0}:se));return}setTimeout(()=>{C0.flushSync(()=>{O(X=>{let se=X.findIndex(H=>H.id===z.id);return se!==-1?[...X.slice(0,se),{...X[se],...z},...X.slice(se+1)]:[z,...X]})})})}),[]),ge.useEffect(()=>{if(g!=="system"){q(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:X})=>{q(X?"dark":"light")})}catch{z.addListener(({matches:se})=>{try{q(se?"dark":"light")}catch(H){console.error(H)}})}},[g]),ge.useEffect(()=>{R.length<=1&&J(!1)},[R]),ge.useEffect(()=>{let z=X=>{var se,H;i.every(me=>X[me]||X.code===me)&&(J(!0),(se=K.current)==null||se.focus()),X.code==="Escape"&&(document.activeElement===K.current||(H=K.current)!=null&&H.contains(document.activeElement))&&J(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[i]),ge.useEffect(()=>{if(K.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,V.current=!1)}},[K.current]),ge.createElement("section",{ref:e,"aria-label":`${S} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((z,X)=>{var se;let[H,me]=z.split("-");return R.length?ge.createElement("ol",{key:z,dir:j==="auto"?Yp():j,tabIndex:-1,ref:K,className:d,"data-sonner-toaster":!0,"data-theme":T,"data-y-position":H,"data-lifted":Q&&R.length>1&&!l,"data-x-position":me,style:{"--front-toast-height":`${((se=W[0])==null?void 0:se.height)||0}px`,"--width":`${X2}px`,"--gap":`${M}px`,...y,...sk(f,p)},onBlur:te=>{V.current&&!te.currentTarget.contains(te.relatedTarget)&&(V.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||V.current||(V.current=!0,D.current=te.relatedTarget)},onMouseEnter:()=>J(!0),onMouseMove:()=>J(!0),onMouseLeave:()=>{re||J(!1)},onDragEnd:()=>J(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||ee(!0)},onPointerUp:()=>ee(!1)},R.filter(te=>!te.position&&X===0||te.position===z).map((te,le)=>{var xe,ce;return ge.createElement(rk,{key:te.id,icons:L,index:le,toast:te,defaultRichColors:x,duration:(xe=k==null?void 0:k.duration)!=null?xe:b,className:k==null?void 0:k.className,descriptionClassName:k==null?void 0:k.descriptionClassName,invert:n,visibleToasts:N,closeButton:(ce=k==null?void 0:k.closeButton)!=null?ce:u,interacting:re,position:z,style:k==null?void 0:k.style,unstyled:k==null?void 0:k.unstyled,classNames:k==null?void 0:k.classNames,cancelButtonStyle:k==null?void 0:k.cancelButtonStyle,actionButtonStyle:k==null?void 0:k.actionButtonStyle,removeToast:E,toasts:R.filter(oe=>oe.position==te.position),heights:W.filter(oe=>oe.position==te.position),setHeights:A,expandByDefault:l,gap:M,loadingIcon:_,expanded:Q,pauseWhenPageIsHidden:P,swipeDirections:t.swipeDirections})})):null}))});function Zo(t){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zo(t)}function ok(t,e){if(Zo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(Zo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ik(t){var e=ok(t,"string");return Zo(e)=="symbol"?e:e+""}function ne(t,e,n){return(e=ik(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var md,Xp;function lk(){if(Xp)return md;Xp=1;var t=function(n,s,i,l,u,d,f,p){if(!n){var g;if(s===void 0)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var x=[i,l,u,d,f,p],b=0;g=new Error(s.replace(/%s/g,function(){return x[b++]})),g.name="Invariant Violation"}throw g.framesToPop=1,g}};return md=t,md}var ck=lk(),Tt=U0(ck),$e=h.createContext(null);function uk(){Tt(!!h.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=h.useContext($e);return Tt(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function dk(t,e,n){return Object.keys(t).reduce(function(i,l){return e(i,t[l],l)},n)}function fk(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function hk(t,e,n,s){var i={},l=(u,d)=>{var f=n[d];f!==e[d]&&(i[d]=f,u(s,f))};return fk(t,l),i}function mk(t,e,n){var s=dk(n,function(l,u,d){return typeof t[d]=="function"&&l.push(google.maps.event.addListener(e,u,t[d])),l},[]);return s}function pk(t){google.maps.event.removeListener(t)}function qe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(pk)}function We(t){var{updaterMap:e,eventMap:n,prevProps:s,nextProps:i,instance:l}=t,u=mk(i,l,n);return hk(e,s,i,l),u}var Qp={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},eg={extraMapTypes(t,e){e.forEach(function(s,i){t.mapTypes.set(String(i),s)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function gk(t){var{children:e,options:n,id:s,mapContainerStyle:i,mapContainerClassName:l,center:u,onClick:d,onDblClick:f,onDrag:p,onDragEnd:g,onDragStart:x,onMouseMove:b,onMouseOut:y,onMouseOver:N,onMouseDown:k,onMouseUp:j,onRightClick:M,onCenterChanged:_,onLoad:L,onUnmount:S}=t,[P,R]=h.useState(null),O=h.useRef(null),[F,W]=h.useState(null),[A,Q]=h.useState(null),[J,re]=h.useState(null),[ee,T]=h.useState(null),[q,K]=h.useState(null),[U,D]=h.useState(null),[V,E]=h.useState(null),[z,X]=h.useState(null),[se,H]=h.useState(null),[me,te]=h.useState(null),[le,xe]=h.useState(null),[ce,oe]=h.useState(null);return h.useEffect(()=>{n&&P!==null&&P.setOptions(n)},[P,n]),h.useEffect(()=>{P!==null&&typeof u<"u"&&P.setCenter(u)},[P,u]),h.useEffect(()=>{P&&f&&(A!==null&&google.maps.event.removeListener(A),Q(google.maps.event.addListener(P,"dblclick",f)))},[f]),h.useEffect(()=>{P&&g&&(J!==null&&google.maps.event.removeListener(J),re(google.maps.event.addListener(P,"dragend",g)))},[g]),h.useEffect(()=>{P&&x&&(ee!==null&&google.maps.event.removeListener(ee),T(google.maps.event.addListener(P,"dragstart",x)))},[x]),h.useEffect(()=>{P&&k&&(q!==null&&google.maps.event.removeListener(q),K(google.maps.event.addListener(P,"mousedown",k)))},[k]),h.useEffect(()=>{P&&b&&(U!==null&&google.maps.event.removeListener(U),D(google.maps.event.addListener(P,"mousemove",b)))},[b]),h.useEffect(()=>{P&&y&&(V!==null&&google.maps.event.removeListener(V),E(google.maps.event.addListener(P,"mouseout",y)))},[y]),h.useEffect(()=>{P&&N&&(z!==null&&google.maps.event.removeListener(z),X(google.maps.event.addListener(P,"mouseover",N)))},[N]),h.useEffect(()=>{P&&j&&(se!==null&&google.maps.event.removeListener(se),H(google.maps.event.addListener(P,"mouseup",j)))},[j]),h.useEffect(()=>{P&&M&&(me!==null&&google.maps.event.removeListener(me),te(google.maps.event.addListener(P,"rightclick",M)))},[M]),h.useEffect(()=>{P&&d&&(le!==null&&google.maps.event.removeListener(le),xe(google.maps.event.addListener(P,"click",d)))},[d]),h.useEffect(()=>{P&&p&&(ce!==null&&google.maps.event.removeListener(ce),oe(google.maps.event.addListener(P,"drag",p)))},[p]),h.useEffect(()=>{P&&_&&(F!==null&&google.maps.event.removeListener(F),W(google.maps.event.addListener(P,"center_changed",_)))},[d]),h.useEffect(()=>{var Ee=O.current===null?null:new google.maps.Map(O.current,n);return R(Ee),Ee!==null&&L&&L(Ee),()=>{Ee!==null&&S&&S(Ee)}},[]),a.jsx("div",{id:s,ref:O,style:i,className:l,children:a.jsx($e.Provider,{value:P,children:P!==null?e:null})})}h.memo(gk);class jf extends h.PureComponent{constructor(){super(...arguments),ne(this,"state",{map:null}),ne(this,"registeredEvents",[]),ne(this,"mapRef",null),ne(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),ne(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),ne(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),ne(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=We({updaterMap:eg,eventMap:Qp,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(qe(this.registeredEvents),this.registeredEvents=We({updaterMap:eg,eventMap:Qp,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),qe(this.registeredEvents))}render(){return a.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:a.jsx($e.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function tg(t,e,n,s,i,l,u){try{var d=t[l](u),f=d.value}catch(p){return void n(p)}d.done?e(f):Promise.resolve(f).then(s,i)}function B0(t){return function(){var e=this,n=arguments;return new Promise(function(s,i){var l=t.apply(e,n);function u(f){tg(l,s,i,u,d,"next",f)}function d(f){tg(l,s,i,u,d,"throw",f)}u(void 0)})}}function F0(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:s="weekly",language:i,region:l,libraries:u,channel:d,mapIds:f,authReferrerPolicy:p,apiUrl:g="https://maps.googleapis.com"}=t,x=[];return Tt(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?x.push("key=".concat(e)):n&&x.push("client=".concat(n)),s&&x.push("v=".concat(s)),i&&x.push("language=".concat(i)),l&&x.push("region=".concat(l)),u&&u.length&&x.push("libraries=".concat(u.sort().join(","))),d&&x.push("channel=".concat(d)),f&&f.length&&x.push("map_ids=".concat(f.join(","))),p&&x.push("auth_referrer_policy=".concat(p)),x.push("loading=async"),x.push("callback=initMap"),"".concat(g,"/maps/api/js?").concat(x.join("&"))}var $s=typeof document<"u";function W0(t){var{url:e,id:n,nonce:s}=t;return $s?new Promise(function(l,u){var d=document.getElementById(n),f=window;if(d){var p=d.getAttribute("data-state");if(d.src===e&&p!=="error"){if(p==="ready")return l(n);var g=f.initMap,x=d.onerror;f.initMap=function(){g&&g(),l(n)},d.onerror=function(y){x&&x(y),u(y)};return}else d.remove()}var b=document.createElement("script");b.type="text/javascript",b.src=e,b.id=n,b.async=!0,b.nonce=s||"",b.onerror=function(N){b.setAttribute("data-state","error"),u(N)},f.initMap=function(){b.setAttribute("data-state","ready"),l(n)},document.head.appendChild(b)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function ng(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function V0(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(i,l){return ng(i)||Reflect.apply(e,t,[i,l]),i};var n=t.appendChild.bind(t);t.appendChild=function(i){return ng(i)||Reflect.apply(n,t,[i]),i}}}var Lo=!1;function H0(){return a.jsx("div",{children:"Loading..."})}var Wd={id:"script-loader",version:"weekly"};class q0 extends h.PureComponent{constructor(){super(...arguments),ne(this,"check",null),ne(this,"state",{loaded:!1}),ne(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),ne(this,"isCleaningUp",B0(function*(){function e(n){if(!Lo)n();else if($s)var s=window.setInterval(function(){Lo||(window.clearInterval(s),n())},1)}return new Promise(e)})),ne(this,"cleanup",()=>{Lo=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(s){return typeof s.src=="string"&&s.src.includes("maps.googleapis")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(s){return s.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(s){return s.innerText!==void 0&&s.innerText.length>0&&s.innerText.includes(".gm-")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)})}),ne(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&V0(),Tt(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:F0(this.props)};W0(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),ne(this,"getRef",e=>{this.check=e})}componentDidMount(){if($s){if(window.google&&window.google.maps&&!Lo){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),$s&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if($s){this.cleanup();var e=()=>{this.check||(delete window.google,Lo=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||a.jsx(H0,{})]})}}ne(q0,"defaultProps",Wd);function vk(t,e){if(t==null)return{};var n={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.includes(s))continue;n[s]=t[s]}return n}function kf(t,e){if(t==null)return{};var n,s,i=vk(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(s=0;s<l.length;s++)n=l[s],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var rg;function xk(t){var{id:e=Wd.id,version:n=Wd.version,nonce:s,googleMapsApiKey:i,googleMapsClientId:l,language:u,region:d,libraries:f,preventGoogleFontsLoading:p,channel:g,mapIds:x,authReferrerPolicy:b,apiUrl:y="https://maps.googleapis.com"}=t,N=h.useRef(!1),[k,j]=h.useState(!1),[M,_]=h.useState(void 0);h.useEffect(function(){return N.current=!0,()=>{N.current=!1}},[]),h.useEffect(function(){$s&&p&&V0()},[p]),h.useEffect(function(){k&&Tt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[k]);var L=F0({version:n,googleMapsApiKey:i,googleMapsClientId:l,language:u,region:d,libraries:f,channel:g,mapIds:x,authReferrerPolicy:b,apiUrl:y});h.useEffect(function(){if(!$s)return;function R(){N.current&&(j(!0),rg=L)}if(window.google&&window.google.maps&&rg===L){R();return}W0({id:e,url:L,nonce:s}).then(R).catch(function(F){N.current&&_(F),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(l||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(F)})},[e,L,s]);var S=h.useRef(void 0);return h.useEffect(function(){S.current&&f!==S.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),S.current=f},[f]),{isLoaded:k,loadError:M,url:L}}var yk=["loadingElement","onLoad","onError","onUnmount","children"],bk=a.jsx(H0,{});function wk(t){var{loadingElement:e,onLoad:n,onError:s,onUnmount:i,children:l}=t,u=kf(t,yk),{isLoaded:d,loadError:f}=xk(u);return h.useEffect(function(){d&&typeof n=="function"&&n()},[d,n]),h.useEffect(function(){f&&typeof s=="function"&&s(f)},[f,s]),h.useEffect(function(){return()=>{i&&i()}},[i]),d?l:e||bk}h.memo(wk);var sg;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(sg||(sg={}));function ag(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function ql(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ag(Object(n),!0).forEach(function(s){ne(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ag(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var og={},ig={options(t,e){t.setOptions(e)}};function jk(t){var{options:e,onLoad:n,onUnmount:s}=t,i=h.useContext($e),[l,u]=h.useState(null);return h.useEffect(()=>{l!==null&&l.setMap(i)},[i]),h.useEffect(()=>{e&&l!==null&&l.setOptions(e)},[l,e]),h.useEffect(()=>{var d=new google.maps.TrafficLayer(ql(ql({},e),{},{map:i}));return u(d),n&&n(d),()=>{l!==null&&(s&&s(l),l.setMap(null))}},[]),null}h.memo(jk);class kk extends h.PureComponent{constructor(){super(...arguments),ne(this,"state",{trafficLayer:null}),ne(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),ne(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(ql(ql({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:ig,eventMap:og,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(qe(this.registeredEvents),this.registeredEvents=We({updaterMap:ig,eventMap:og,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),qe(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}ne(kk,"contextType",$e);function Nk(t){var{onLoad:e,onUnmount:n}=t,s=h.useContext($e),[i,l]=h.useState(null);return h.useEffect(()=>{i!==null&&i.setMap(s)},[s]),h.useEffect(()=>{var u=new google.maps.BicyclingLayer;return l(u),u.setMap(s),e&&e(u),()=>{u!==null&&(n&&n(u),u.setMap(null))}},[]),null}h.memo(Nk);class Sk extends h.PureComponent{constructor(){super(...arguments),ne(this,"state",{bicyclingLayer:null}),ne(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}ne(Sk,"contextType",$e);function Ck(t){var{onLoad:e,onUnmount:n}=t,s=h.useContext($e),[i,l]=h.useState(null);return h.useEffect(()=>{i!==null&&i.setMap(s)},[s]),h.useEffect(()=>{var u=new google.maps.TransitLayer;return l(u),u.setMap(s),e&&e(u),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}h.memo(Ck);class Ek extends h.PureComponent{constructor(){super(...arguments),ne(this,"state",{transitLayer:null}),ne(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}ne(Ek,"contextType",$e);function lg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Gl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lg(Object(n),!0).forEach(function(s){ne(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var cg={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},ug={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function _k(t){var{options:e,drawingMode:n,onCircleComplete:s,onMarkerComplete:i,onOverlayComplete:l,onPolygonComplete:u,onPolylineComplete:d,onRectangleComplete:f,onLoad:p,onUnmount:g}=t,x=h.useContext($e),[b,y]=h.useState(null),[N,k]=h.useState(null),[j,M]=h.useState(null),[_,L]=h.useState(null),[S,P]=h.useState(null),[R,O]=h.useState(null),[F,W]=h.useState(null);return h.useEffect(()=>{b!==null&&b.setMap(x)},[x]),h.useEffect(()=>{e&&b!==null&&b.setOptions(e)},[b,e]),h.useEffect(()=>{b!==null&&b.setDrawingMode(n??null)},[b,n]),h.useEffect(()=>{b&&s&&(N!==null&&google.maps.event.removeListener(N),k(google.maps.event.addListener(b,"circlecomplete",s)))},[b,s]),h.useEffect(()=>{b&&i&&(j!==null&&google.maps.event.removeListener(j),M(google.maps.event.addListener(b,"markercomplete",i)))},[b,i]),h.useEffect(()=>{b&&l&&(_!==null&&google.maps.event.removeListener(_),L(google.maps.event.addListener(b,"overlaycomplete",l)))},[b,l]),h.useEffect(()=>{b&&u&&(S!==null&&google.maps.event.removeListener(S),P(google.maps.event.addListener(b,"polygoncomplete",u)))},[b,u]),h.useEffect(()=>{b&&d&&(R!==null&&google.maps.event.removeListener(R),O(google.maps.event.addListener(b,"polylinecomplete",d)))},[b,d]),h.useEffect(()=>{b&&f&&(F!==null&&google.maps.event.removeListener(F),W(google.maps.event.addListener(b,"rectanglecomplete",f)))},[b,f]),h.useEffect(()=>{Tt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var A=new google.maps.drawing.DrawingManager(Gl(Gl({},e),{},{map:x}));return n&&A.setDrawingMode(n),s&&k(google.maps.event.addListener(A,"circlecomplete",s)),i&&M(google.maps.event.addListener(A,"markercomplete",i)),l&&L(google.maps.event.addListener(A,"overlaycomplete",l)),u&&P(google.maps.event.addListener(A,"polygoncomplete",u)),d&&O(google.maps.event.addListener(A,"polylinecomplete",d)),f&&W(google.maps.event.addListener(A,"rectanglecomplete",f)),y(A),p&&p(A),()=>{b!==null&&(N&&google.maps.event.removeListener(N),j&&google.maps.event.removeListener(j),_&&google.maps.event.removeListener(_),S&&google.maps.event.removeListener(S),R&&google.maps.event.removeListener(R),F&&google.maps.event.removeListener(F),g&&g(b),b.setMap(null))}},[]),null}h.memo(_k);class Lk extends h.PureComponent{constructor(e){super(e),ne(this,"registeredEvents",[]),ne(this,"state",{drawingManager:null}),ne(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Tt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Gl(Gl({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:ug,eventMap:cg,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(qe(this.registeredEvents),this.registeredEvents=We({updaterMap:ug,eventMap:cg,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),qe(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}ne(Lk,"contextType",$e);function dg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dg(Object(n),!0).forEach(function(s){ne(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var fg={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},hg={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Kl={};function Pk(t){var{position:e,options:n,clusterer:s,noClustererRedraw:i,children:l,draggable:u,visible:d,animation:f,clickable:p,cursor:g,icon:x,label:b,opacity:y,shape:N,title:k,zIndex:j,onClick:M,onDblClick:_,onDrag:L,onDragEnd:S,onDragStart:P,onMouseOut:R,onMouseOver:O,onMouseUp:F,onMouseDown:W,onRightClick:A,onClickableChanged:Q,onCursorChanged:J,onAnimationChanged:re,onDraggableChanged:ee,onFlatChanged:T,onIconChanged:q,onPositionChanged:K,onShapeChanged:U,onTitleChanged:D,onVisibleChanged:V,onZindexChanged:E,onLoad:z,onUnmount:X}=t,se=h.useContext($e),[H,me]=h.useState(null),[te,le]=h.useState(null),[xe,ce]=h.useState(null),[oe,Ee]=h.useState(null),[Ue,Ye]=h.useState(null),[De,bt]=h.useState(null),[mt,kt]=h.useState(null),[dt,Nt]=h.useState(null),[Ne,nt]=h.useState(null),[we,Re]=h.useState(null),[tt,Be]=h.useState(null),[at,ae]=h.useState(null),[he,Oe]=h.useState(null),[rt,Lt]=h.useState(null),[Ut,Bt]=h.useState(null),[Sn,en]=h.useState(null),[hn,mn]=h.useState(null),[On,hr]=h.useState(null),[Rn,pn]=h.useState(null),[qt,ws]=h.useState(null),[Me,Ke]=h.useState(null),[Xe,Rt]=h.useState(null);h.useEffect(()=>{H!==null&&H.setMap(se)},[se]),h.useEffect(()=>{typeof n<"u"&&H!==null&&H.setOptions(n)},[H,n]),h.useEffect(()=>{typeof u<"u"&&H!==null&&H.setDraggable(u)},[H,u]),h.useEffect(()=>{e&&H!==null&&H.setPosition(e)},[H,e]),h.useEffect(()=>{typeof d<"u"&&H!==null&&H.setVisible(d)},[H,d]),h.useEffect(()=>{H==null||H.setAnimation(f)},[H,f]),h.useEffect(()=>{H&&p!==void 0&&H.setClickable(p)},[H,p]),h.useEffect(()=>{H&&g!==void 0&&H.setCursor(g)},[H,g]),h.useEffect(()=>{H&&x!==void 0&&H.setIcon(x)},[H,x]),h.useEffect(()=>{H&&b!==void 0&&H.setLabel(b)},[H,b]),h.useEffect(()=>{H&&y!==void 0&&H.setOpacity(y)},[H,y]),h.useEffect(()=>{H&&N!==void 0&&H.setShape(N)},[H,N]),h.useEffect(()=>{H&&k!==void 0&&H.setTitle(k)},[H,k]),h.useEffect(()=>{H&&j!==void 0&&H.setZIndex(j)},[H,j]),h.useEffect(()=>{H&&_&&(te!==null&&google.maps.event.removeListener(te),le(google.maps.event.addListener(H,"dblclick",_)))},[_]),h.useEffect(()=>{H&&S&&(xe!==null&&google.maps.event.removeListener(xe),ce(google.maps.event.addListener(H,"dragend",S)))},[S]),h.useEffect(()=>{H&&P&&(oe!==null&&google.maps.event.removeListener(oe),Ee(google.maps.event.addListener(H,"dragstart",P)))},[P]),h.useEffect(()=>{H&&W&&(Ue!==null&&google.maps.event.removeListener(Ue),Ye(google.maps.event.addListener(H,"mousedown",W)))},[W]),h.useEffect(()=>{H&&R&&(De!==null&&google.maps.event.removeListener(De),bt(google.maps.event.addListener(H,"mouseout",R)))},[R]),h.useEffect(()=>{H&&O&&(mt!==null&&google.maps.event.removeListener(mt),kt(google.maps.event.addListener(H,"mouseover",O)))},[O]),h.useEffect(()=>{H&&F&&(dt!==null&&google.maps.event.removeListener(dt),Nt(google.maps.event.addListener(H,"mouseup",F)))},[F]),h.useEffect(()=>{H&&A&&(Ne!==null&&google.maps.event.removeListener(Ne),nt(google.maps.event.addListener(H,"rightclick",A)))},[A]),h.useEffect(()=>{H&&M&&(we!==null&&google.maps.event.removeListener(we),Re(google.maps.event.addListener(H,"click",M)))},[M]),h.useEffect(()=>{H&&L&&(tt!==null&&google.maps.event.removeListener(tt),Be(google.maps.event.addListener(H,"drag",L)))},[L]),h.useEffect(()=>{H&&Q&&(at!==null&&google.maps.event.removeListener(at),ae(google.maps.event.addListener(H,"clickable_changed",Q)))},[Q]),h.useEffect(()=>{H&&J&&(he!==null&&google.maps.event.removeListener(he),Oe(google.maps.event.addListener(H,"cursor_changed",J)))},[J]),h.useEffect(()=>{H&&re&&(rt!==null&&google.maps.event.removeListener(rt),Lt(google.maps.event.addListener(H,"animation_changed",re)))},[re]),h.useEffect(()=>{H&&ee&&(Ut!==null&&google.maps.event.removeListener(Ut),Bt(google.maps.event.addListener(H,"draggable_changed",ee)))},[ee]),h.useEffect(()=>{H&&T&&(Sn!==null&&google.maps.event.removeListener(Sn),en(google.maps.event.addListener(H,"flat_changed",T)))},[T]),h.useEffect(()=>{H&&q&&(hn!==null&&google.maps.event.removeListener(hn),mn(google.maps.event.addListener(H,"icon_changed",q)))},[q]),h.useEffect(()=>{H&&K&&(On!==null&&google.maps.event.removeListener(On),hr(google.maps.event.addListener(H,"position_changed",K)))},[K]),h.useEffect(()=>{H&&U&&(Rn!==null&&google.maps.event.removeListener(Rn),pn(google.maps.event.addListener(H,"shape_changed",U)))},[U]),h.useEffect(()=>{H&&D&&(qt!==null&&google.maps.event.removeListener(qt),ws(google.maps.event.addListener(H,"title_changed",D)))},[D]),h.useEffect(()=>{H&&V&&(Me!==null&&google.maps.event.removeListener(Me),Ke(google.maps.event.addListener(H,"visible_changed",V)))},[V]),h.useEffect(()=>{H&&E&&(Xe!==null&&google.maps.event.removeListener(Xe),Rt(google.maps.event.addListener(H,"zindex_changed",E)))},[E]),h.useEffect(()=>{var St=Pa(Pa(Pa({},n||Kl),s?Kl:{map:se}),{},{position:e}),_e=new google.maps.Marker(St);return s?s.addMarker(_e,!!i):_e.setMap(se),e&&_e.setPosition(e),typeof d<"u"&&_e.setVisible(d),typeof u<"u"&&_e.setDraggable(u),typeof p<"u"&&_e.setClickable(p),typeof g=="string"&&_e.setCursor(g),x&&_e.setIcon(x),typeof b<"u"&&_e.setLabel(b),typeof y<"u"&&_e.setOpacity(y),N&&_e.setShape(N),typeof k=="string"&&_e.setTitle(k),typeof j=="number"&&_e.setZIndex(j),_&&le(google.maps.event.addListener(_e,"dblclick",_)),S&&ce(google.maps.event.addListener(_e,"dragend",S)),P&&Ee(google.maps.event.addListener(_e,"dragstart",P)),W&&Ye(google.maps.event.addListener(_e,"mousedown",W)),R&&bt(google.maps.event.addListener(_e,"mouseout",R)),O&&kt(google.maps.event.addListener(_e,"mouseover",O)),F&&Nt(google.maps.event.addListener(_e,"mouseup",F)),A&&nt(google.maps.event.addListener(_e,"rightclick",A)),M&&Re(google.maps.event.addListener(_e,"click",M)),L&&Be(google.maps.event.addListener(_e,"drag",L)),Q&&ae(google.maps.event.addListener(_e,"clickable_changed",Q)),J&&Oe(google.maps.event.addListener(_e,"cursor_changed",J)),re&&Lt(google.maps.event.addListener(_e,"animation_changed",re)),ee&&Bt(google.maps.event.addListener(_e,"draggable_changed",ee)),T&&en(google.maps.event.addListener(_e,"flat_changed",T)),q&&mn(google.maps.event.addListener(_e,"icon_changed",q)),K&&hr(google.maps.event.addListener(_e,"position_changed",K)),U&&pn(google.maps.event.addListener(_e,"shape_changed",U)),D&&ws(google.maps.event.addListener(_e,"title_changed",D)),V&&Ke(google.maps.event.addListener(_e,"visible_changed",V)),E&&Rt(google.maps.event.addListener(_e,"zindex_changed",E)),me(_e),z&&z(_e),()=>{te!==null&&google.maps.event.removeListener(te),xe!==null&&google.maps.event.removeListener(xe),oe!==null&&google.maps.event.removeListener(oe),Ue!==null&&google.maps.event.removeListener(Ue),De!==null&&google.maps.event.removeListener(De),mt!==null&&google.maps.event.removeListener(mt),dt!==null&&google.maps.event.removeListener(dt),Ne!==null&&google.maps.event.removeListener(Ne),we!==null&&google.maps.event.removeListener(we),at!==null&&google.maps.event.removeListener(at),he!==null&&google.maps.event.removeListener(he),rt!==null&&google.maps.event.removeListener(rt),Ut!==null&&google.maps.event.removeListener(Ut),Sn!==null&&google.maps.event.removeListener(Sn),hn!==null&&google.maps.event.removeListener(hn),On!==null&&google.maps.event.removeListener(On),qt!==null&&google.maps.event.removeListener(qt),Me!==null&&google.maps.event.removeListener(Me),Xe!==null&&google.maps.event.removeListener(Xe),X&&X(_e),s?s.removeMarker(_e,!!i):_e&&_e.setMap(null)}},[]);var Gt=h.useMemo(()=>l?h.Children.map(l,St=>{if(!h.isValidElement(St))return St;var _e=St;return h.cloneElement(_e,{anchor:H})}):null,[l,H]);return a.jsx(a.Fragment,{children:Gt})||null}h.memo(Pk);class mc extends h.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[])}componentDidMount(){var e=this;return B0(function*(){var n=Pa(Pa(Pa({},e.props.options||Kl),e.props.clusterer?Kl:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=We({updaterMap:hg,eventMap:fg,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(qe(this.registeredEvents),this.registeredEvents=We({updaterMap:hg,eventMap:fg,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),qe(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?h.Children.map(this.props.children,n=>{if(!h.isValidElement(n))return n;var s=n;return h.cloneElement(s,{anchor:this.marker})}):null;return e||null}}ne(mc,"contextType",$e);var Mk=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var s=n.getMaxZoom(),i=this.cluster.getBounds(),l=n.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(i),this.timeOut=window.setTimeout(function(){var u=n.getMap();if(u!==null){"fitBounds"in u&&u.fitBounds(i);var d=u.getZoom()||0;s!==null&&d>s&&u.setZoom(s+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,s,i,l,u;if(this.div&&this.center){var d=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,f=this.backgroundPosition.split(" "),p=parseInt(((e=f[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),g=parseInt(((n=f[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),x=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(x!==null?"".concat(x.y,"px"):"0","; left: ").concat(x!==null?"".concat(x.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var b=document.createElement("img");b.alt=d,b.src=this.url,b.width=this.width,b.height=this.height,b.setAttribute("style","position: absolute; top: ".concat(g,"px; left: ").concat(p,"px")),this.cluster.getClusterer().enableRetinaIcons||(b.style.clip="rect(-".concat(g,"px, -").concat(p+this.width,"px, -").concat(g+this.height,", -").concat(p,")"));var y=document.createElement("div");y.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((s=this.sums)===null||s===void 0)&&s.text&&(y.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((l=this.sums)===null||l===void 0)&&l.html&&(y.innerHTML="".concat((u=this.sums)===null||u===void 0?void 0:u.html)),this.div.innerHTML="",this.div.appendChild(b),this.div.appendChild(y),this.div.title=d,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),s=n[Math.min(n.length-1,Math.max(0,e.index-1))];s&&(this.url=s.url,this.height=s.height,this.width=s.width,s.className&&(this.className="".concat(this.clusterClassName," ").concat(s.className)),this.anchorText=s.anchorText||[0,0],this.anchorIcon=s.anchorIcon||[this.height/2,this.width/2],this.textColor=s.textColor||"black",this.textSize=s.textSize||11,this.textDecoration=s.textDecoration||"none",this.fontWeight=s.fontWeight||"bold",this.fontStyle=s.fontStyle||"normal",this.fontFamily=s.fontFamily||"Arial,sans-serif",this.backgroundPosition=s.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),Tk=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Mk(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),s=0,i=n;s<i.length;s++){var l=i[s],u=l.getPosition();u&&e.extend(u)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var s=e.getPosition();if(s){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+s.lat())/i,(this.center.lng()*(i-1)+s.lng())/i),this.calculateBounds()}}}else{var s=e.getPosition();s&&(this.center=s,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var l=this.markers.length,u=this.markerClusterer.getMaxZoom(),d=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(u!==null&&typeof d<"u"&&d>u)e.getMap()!==this.map&&e.setMap(this.map);else if(l<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(l===this.minClusterSize)for(var f=0,p=this.markers;f<p.length;f++){var g=p[f];g.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,s=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(s!==null&&typeof i<"u"&&i>s){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function Ok(t,e){var n=t.length,s=n.toString().length,i=Math.min(s,e);return{text:n.toString(),index:i,title:""}}var Rk=2e3,Ik=500,Dk="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",Ak="png",zk=[53,56,66,78,90],$k="cluster",G0=function(){function t(e,n,s){n===void 0&&(n=[]),s===void 0&&(s={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=s.gridSize||60,this.minClusterSize=s.minimumClusterSize||2,this.maxZoom=s.maxZoom||null,this.styles=s.styles||[],this.title=s.title||"",this.zoomOnClick=!0,s.zoomOnClick!==void 0&&(this.zoomOnClick=s.zoomOnClick),this.averageCenter=!1,s.averageCenter!==void 0&&(this.averageCenter=s.averageCenter),this.ignoreHidden=!1,s.ignoreHidden!==void 0&&(this.ignoreHidden=s.ignoreHidden),this.enableRetinaIcons=!1,s.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=s.enableRetinaIcons),this.imagePath=s.imagePath||Dk,this.imageExtension=s.imageExtension||Ak,this.imageSizes=s.imageSizes||zk,this.calculator=s.calculator||Ok,this.batchSize=s.batchSize||Rk,this.batchSizeIE=s.batchSizeIE||Ik,this.clusterClass=s.clusterClass||$k,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var s=n[e];s.getMap()!==this.activeMap&&s.setMap(this.activeMap)}for(var i=0,l=this.clusters;i<l.length;i++){var u=l[i];u.remove()}this.clusters=[];for(var d=0,f=this.listeners;d<f.length;d++){var p=f[d];google.maps.event.removeListener(p)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,s=0,i=e;s<i.length;s++){var l=i[s],u=l.getPosition();u&&n.extend(u)}var d=this.getMap();d!==null&&"fitBounds"in d&&d.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var i=e[s];i&&this.pushMarkerTo(i)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var s=0;s<this.markers.length;s++)if(e===this.markers[s]){n=s;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var s=this.removeMarker_(e);return!n&&s&&this.repaint(),s},t.prototype.removeMarkers=function(e,n){for(var s=!1,i=0,l=e;i<l.length;i++){var u=l[i];s=s||this.removeMarker_(u)}return!n&&s&&this.repaint(),s},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var s=0,i=e;s<i.length;s++){var l=i[s];l.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));s!==null&&(s.x+=this.gridSize,s.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),s!==null){var l=n.fromDivPixelToLatLng(s);l!==null&&e.extend(l)}if(i!==null){var u=n.fromDivPixelToLatLng(i);u!==null&&e.extend(u)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,s=this.clusters;n<s.length;n++){var i=s[n];i.remove()}this.clusters=[];for(var l=0,u=this.markers;l<u.length;l++){var d=u[l];d.isAdded=!1,e&&d.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var s=6371,i=(n.lat()-e.lat())*Math.PI/180,l=(n.lng()-e.lng())*Math.PI/180,u=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return s*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))},t.prototype.isMarkerInBounds=function(e,n){var s=e.getPosition();return s?n.contains(s):!1},t.prototype.addToClosestCluster=function(e){for(var n,s=4e4,i=null,l=0,u=this.clusters;l<u.length;l++){var d=u[l];n=d;var f=n.getCenter(),p=e.getPosition();if(f&&p){var g=this.distanceBetweenPoints(f,p);g<s&&(s=g,i=n)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(n=new Tk(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var s=this.getMap(),i=s!==null&&("getBounds"in s)?s.getBounds():null,l=(s==null?void 0:s.getZoom())||0,u=l>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),d=this.getExtendedBounds(u),f=Math.min(e+this.batchSize,this.markers.length),p=e;p<f;p++){var g=this.markers[p];g&&!g.isAdded&&this.isMarkerInBounds(g,d)&&(!this.ignoreHidden||this.ignoreHidden&&g.getVisible())&&this.addToClosestCluster(g)}if(f<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(f)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var x=0,b=this.clusters;x<b.length;x++){var y=b[x];y.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(i){for(var l in i.prototype){var u=l;this.prototype[u]=i.prototype[u]}return this}).apply(e,[n])},t}();function mg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Uk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mg(Object(n),!0).forEach(function(s){ne(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var Tn={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},et={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},Bk={};function Fk(t){var{children:e,options:n,averageCenter:s,batchSizeIE:i,calculator:l,clusterClass:u,enableRetinaIcons:d,gridSize:f,ignoreHidden:p,imageExtension:g,imagePath:x,imageSizes:b,maxZoom:y,minimumClusterSize:N,styles:k,title:j,zoomOnClick:M,onClick:_,onClusteringBegin:L,onClusteringEnd:S,onMouseOver:P,onMouseOut:R,onLoad:O,onUnmount:F}=t,[W,A]=h.useState(null),Q=h.useContext($e),[J,re]=h.useState(null),[ee,T]=h.useState(null),[q,K]=h.useState(null),[U,D]=h.useState(null),[V,E]=h.useState(null);return h.useEffect(()=>{W&&R&&(U!==null&&google.maps.event.removeListener(U),D(google.maps.event.addListener(W,Tn.onMouseOut,R)))},[R]),h.useEffect(()=>{W&&P&&(V!==null&&google.maps.event.removeListener(V),E(google.maps.event.addListener(W,Tn.onMouseOver,P)))},[P]),h.useEffect(()=>{W&&_&&(J!==null&&google.maps.event.removeListener(J),re(google.maps.event.addListener(W,Tn.onClick,_)))},[_]),h.useEffect(()=>{W&&L&&(ee!==null&&google.maps.event.removeListener(ee),T(google.maps.event.addListener(W,Tn.onClusteringBegin,L)))},[L]),h.useEffect(()=>{W&&S&&(q!==null&&google.maps.event.removeListener(q),T(google.maps.event.addListener(W,Tn.onClusteringEnd,S)))},[S]),h.useEffect(()=>{typeof s<"u"&&W!==null&&et.averageCenter(W,s)},[W,s]),h.useEffect(()=>{typeof i<"u"&&W!==null&&et.batchSizeIE(W,i)},[W,i]),h.useEffect(()=>{typeof l<"u"&&W!==null&&et.calculator(W,l)},[W,l]),h.useEffect(()=>{typeof u<"u"&&W!==null&&et.clusterClass(W,u)},[W,u]),h.useEffect(()=>{typeof d<"u"&&W!==null&&et.enableRetinaIcons(W,d)},[W,d]),h.useEffect(()=>{typeof f<"u"&&W!==null&&et.gridSize(W,f)},[W,f]),h.useEffect(()=>{typeof p<"u"&&W!==null&&et.ignoreHidden(W,p)},[W,p]),h.useEffect(()=>{typeof g<"u"&&W!==null&&et.imageExtension(W,g)},[W,g]),h.useEffect(()=>{typeof x<"u"&&W!==null&&et.imagePath(W,x)},[W,x]),h.useEffect(()=>{typeof b<"u"&&W!==null&&et.imageSizes(W,b)},[W,b]),h.useEffect(()=>{typeof y<"u"&&W!==null&&et.maxZoom(W,y)},[W,y]),h.useEffect(()=>{typeof N<"u"&&W!==null&&et.minimumClusterSize(W,N)},[W,N]),h.useEffect(()=>{typeof k<"u"&&W!==null&&et.styles(W,k)},[W,k]),h.useEffect(()=>{typeof j<"u"&&W!==null&&et.title(W,j)},[W,j]),h.useEffect(()=>{typeof M<"u"&&W!==null&&et.zoomOnClick(W,M)},[W,M]),h.useEffect(()=>{if(Q){var z=Uk({},n||Bk),X=new G0(Q,[],z);return s&&et.averageCenter(X,s),i&&et.batchSizeIE(X,i),l&&et.calculator(X,l),u&&et.clusterClass(X,u),d&&et.enableRetinaIcons(X,d),f&&et.gridSize(X,f),p&&et.ignoreHidden(X,p),g&&et.imageExtension(X,g),x&&et.imagePath(X,x),b&&et.imageSizes(X,b),y&&et.maxZoom(X,y),N&&et.minimumClusterSize(X,N),k&&et.styles(X,k),j&&et.title(X,j),M&&et.zoomOnClick(X,M),R&&D(google.maps.event.addListener(X,Tn.onMouseOut,R)),P&&E(google.maps.event.addListener(X,Tn.onMouseOver,P)),_&&re(google.maps.event.addListener(X,Tn.onClick,_)),L&&T(google.maps.event.addListener(X,Tn.onClusteringBegin,L)),S&&K(google.maps.event.addListener(X,Tn.onClusteringEnd,S)),A(X),O&&O(X),()=>{U!==null&&google.maps.event.removeListener(U),V!==null&&google.maps.event.removeListener(V),J!==null&&google.maps.event.removeListener(J),ee!==null&&google.maps.event.removeListener(ee),q!==null&&google.maps.event.removeListener(q),F&&F(X)}}},[]),W!==null&&e(W)||null}h.memo(Fk);class Wk extends h.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{markerClusterer:null}),ne(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new G0(this.context,[],this.props.options);this.registeredEvents=We({updaterMap:et,eventMap:Tn,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(qe(this.registeredEvents),this.registeredEvents=We({updaterMap:et,eventMap:Tn,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),qe(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}ne(Wk,"contextType",$e);function pg(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var K0=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(g){g.returnValue=!1,g.preventDefault&&g.preventDefault(),e.enableEventPropagation||pg(g)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var s=this.getPanes();if(s!==null&&s[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var l=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],u=0,d=l;u<d.length;u++){var f=d[u];this.eventListeners.push(google.maps.event.addListener(this.div,f,pg))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var s=0,i=0,l=n.getBounds();l&&!l.contains(this.position)&&n.setCenter(this.position);var u=n.getDiv(),d=u.offsetWidth,f=u.offsetHeight,p=this.pixelOffset.width,g=this.pixelOffset.height,x=this.div.offsetWidth,b=this.div.offsetHeight,y=this.infoBoxClearance.width,N=this.infoBoxClearance.height,k=this.getProjection(),j=k.fromLatLngToContainerPixel(this.position);j!==null&&(j.x<-p+y?s=j.x+p-y:j.x+x+p+y>d&&(s=j.x+x+p+y-d),this.alignBottom?j.y<-g+N+b?i=j.y+g-N-b:j.y+g+N>f&&(i=j.y+g+N-f):j.y<-g+N?i=j.y+g-N:j.y+b+g+N>f&&(i=j.y+b+g+N-f)),s===0&&i===0||n.panBy(s,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var s=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+s*100+')"',this.div.style.filter="alpha(opacity="+s*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,s=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var s=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();s.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){s.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var s=n[e];google.maps.event.removeListener(s)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(i){for(var l in i.prototype)Object.prototype.hasOwnProperty.call(this,l)||(this.prototype[l]=i.prototype[l]);return this}).apply(e,[n])},t}(),Vk=["position"],Hk=["position"];function gg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Zl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gg(Object(n),!0).forEach(function(s){ne(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var vg={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},xg={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},qk={};function Gk(t){var{children:e,anchor:n,options:s,position:i,zIndex:l,onCloseClick:u,onDomReady:d,onContentChanged:f,onPositionChanged:p,onZindexChanged:g,onLoad:x,onUnmount:b}=t,y=h.useContext($e),[N,k]=h.useState(null),[j,M]=h.useState(null),[_,L]=h.useState(null),[S,P]=h.useState(null),[R,O]=h.useState(null),[F,W]=h.useState(null),A=h.useRef(null);return h.useEffect(()=>{y&&N!==null&&(N.close(),n?N.open(y,n):N.getPosition()&&N.open(y))},[y,N,n]),h.useEffect(()=>{s&&N!==null&&N.setOptions(s)},[N,s]),h.useEffect(()=>{if(i&&N!==null){var Q=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);N.setPosition(Q)}},[i]),h.useEffect(()=>{typeof l=="number"&&N!==null&&N.setZIndex(l)},[l]),h.useEffect(()=>{N&&u&&(j!==null&&google.maps.event.removeListener(j),M(google.maps.event.addListener(N,"closeclick",u)))},[u]),h.useEffect(()=>{N&&d&&(_!==null&&google.maps.event.removeListener(_),L(google.maps.event.addListener(N,"domready",d)))},[d]),h.useEffect(()=>{N&&f&&(S!==null&&google.maps.event.removeListener(S),P(google.maps.event.addListener(N,"content_changed",f)))},[f]),h.useEffect(()=>{N&&p&&(R!==null&&google.maps.event.removeListener(R),O(google.maps.event.addListener(N,"position_changed",p)))},[p]),h.useEffect(()=>{N&&g&&(F!==null&&google.maps.event.removeListener(F),W(google.maps.event.addListener(N,"zindex_changed",g)))},[g]),h.useEffect(()=>{if(y){var Q=s||qk,{position:J}=Q,re=kf(Q,Vk),ee;J&&!(J instanceof google.maps.LatLng)&&(ee=new google.maps.LatLng(J.lat,J.lng));var T=new K0(Zl(Zl({},re),ee?{position:ee}:{}));A.current=document.createElement("div"),k(T),u&&M(google.maps.event.addListener(T,"closeclick",u)),d&&L(google.maps.event.addListener(T,"domready",d)),f&&P(google.maps.event.addListener(T,"content_changed",f)),p&&O(google.maps.event.addListener(T,"position_changed",p)),g&&W(google.maps.event.addListener(T,"zindex_changed",g)),T.setContent(A.current),n?T.open(y,n):T.getPosition()?T.open(y):Tt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),x&&x(T)}return()=>{N!==null&&(j&&google.maps.event.removeListener(j),S&&google.maps.event.removeListener(S),_&&google.maps.event.removeListener(_),R&&google.maps.event.removeListener(R),F&&google.maps.event.removeListener(F),b&&b(N),N.close())}},[]),A.current?Zn.createPortal(h.Children.only(e),A.current):null}h.memo(Gk);class Kk extends h.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",null),ne(this,"state",{infoBox:null}),ne(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):Tt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),ne(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,s=kf(e,Hk),i;n&&!(n instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(n.lat,n.lng));var l=new K0(Zl(Zl({},s),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=We({updaterMap:xg,eventMap:vg,prevProps:{},nextProps:this.props,instance:l}),this.setState({infoBox:l},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(qe(this.registeredEvents),this.registeredEvents=We({updaterMap:xg,eventMap:vg,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),qe(this.registeredEvents),n.close())}render(){return this.containerElement?Zn.createPortal(h.Children.only(this.props.children),this.containerElement):null}}ne(Kk,"contextType",$e);var pd,yg;function Zk(){return yg||(yg=1,pd=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var s,i,l;if(Array.isArray(e)){if(s=e.length,s!=n.length)return!1;for(i=s;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(l=Object.keys(e),s=l.length,s!==Object.keys(n).length)return!1;for(i=s;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,l[i]))return!1;for(i=s;i--!==0;){var u=l[i];if(!t(e[u],n[u]))return!1}return!0}return e!==e&&n!==n}),pd}var Jk=Zk(),bg=U0(Jk),wg=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],gd=1,Po=8;class Nf{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,s]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=s>>4;if(i!==gd)throw new Error("Got v".concat(i," data when expected v").concat(gd,"."));var l=wg[s&15];if(!l)throw new Error("Unrecognized array type.");var[u]=new Uint16Array(e,2,1),[d]=new Uint32Array(e,4,1);return new Nf(d,u,l,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=s,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var l=wg.indexOf(this.ArrayType),u=e*2*this.ArrayType.BYTES_PER_ELEMENT,d=e*this.IndexArrayType.BYTES_PER_ELEMENT,f=(8-d%8)%8;if(l<0)throw new Error("Unexpected typed array class: ".concat(s,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,Po,e),this.coords=new this.ArrayType(this.data,Po+d+f,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Po+u+d+f),this.ids=new this.IndexArrayType(this.data,Po,e),this.coords=new this.ArrayType(this.data,Po+d+f,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(gd<<4)+l]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var s=this._pos>>1;return this.ids[s]=s,this.coords[this._pos++]=e,this.coords[this._pos++]=n,s}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Vd(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,s,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:l,coords:u,nodeSize:d}=this,f=[0,l.length-1,0],p=[];f.length;){var g=f.pop()||0,x=f.pop()||0,b=f.pop()||0;if(x-b<=d){for(var y=b;y<=x;y++){var N=u[2*y],k=u[2*y+1];N>=e&&N<=s&&k>=n&&k<=i&&p.push(l[y])}continue}var j=b+x>>1,M=u[2*j],_=u[2*j+1];M>=e&&M<=s&&_>=n&&_<=i&&p.push(l[j]),(g===0?e<=M:n<=_)&&(f.push(b),f.push(j-1),f.push(1-g)),(g===0?s>=M:i>=_)&&(f.push(j+1),f.push(x),f.push(1-g))}return p}within(e,n,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:l,nodeSize:u}=this,d=[0,i.length-1,0],f=[],p=s*s;d.length;){var g=d.pop()||0,x=d.pop()||0,b=d.pop()||0;if(x-b<=u){for(var y=b;y<=x;y++)jg(l[2*y],l[2*y+1],e,n)<=p&&f.push(i[y]);continue}var N=b+x>>1,k=l[2*N],j=l[2*N+1];jg(k,j,e,n)<=p&&f.push(i[N]),(g===0?e-s<=k:n-s<=j)&&(d.push(b),d.push(N-1),d.push(1-g)),(g===0?e+s>=k:n+s>=j)&&(d.push(N+1),d.push(x),d.push(1-g))}return f}}function Vd(t,e,n,s,i,l){if(!(i-s<=n)){var u=s+i>>1;Z0(t,e,u,s,i,l),Vd(t,e,n,s,u-1,1-l),Vd(t,e,n,u+1,i,1-l)}}function Z0(t,e,n,s,i,l){for(;i>s;){if(i-s>600){var u=i-s+1,d=n-s+1,f=Math.log(u),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(u-p)/u)*(d-u/2<0?-1:1),x=Math.max(s,Math.floor(n-d*p/u+g)),b=Math.min(i,Math.floor(n+(u-d)*p/u+g));Z0(t,e,n,x,b,l)}var y=e[2*n+l],N=s,k=i;for(Mo(t,e,s,n),e[2*i+l]>y&&Mo(t,e,s,i);N<k;){for(Mo(t,e,N,k),N++,k--;e[2*N+l]<y;)N++;for(;e[2*k+l]>y;)k--}e[2*s+l]===y?Mo(t,e,s,k):(k++,Mo(t,e,k,i)),k<=n&&(s=k+1),n<=k&&(i=k-1)}}function Mo(t,e,n,s){vd(t,n,s),vd(e,2*n,2*s),vd(e,2*n+1,2*s+1)}function vd(t,e,n){var s=t[e];t[e]=t[n],t[n]=s}function jg(t,e,n,s){var i=t-n,l=e-s;return i*i+l*l}var Yk={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},kg=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Is=2,ss=3,xd=4,ts=5,J0=6;class Xk{constructor(e){this.options=Object.assign(Object.create(Yk),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:s,maxZoom:i}=this.options;n&&console.time("total time");var l="prepare ".concat(e.length," points");n&&console.time(l),this.points=e;for(var u=[],d=0;d<e.length;d++){var f=e[d];if(f.geometry){var[p,g]=f.geometry.coordinates,x=kg(Sl(p)),b=kg(Cl(g));u.push(x,b,1/0,d,-1,1),this.options.reduce&&u.push(0)}}var y=this.trees[i+1]=this._createTree(u);n&&console.timeEnd(l);for(var N=i;N>=s;N--){var k=+Date.now();y=this.trees[N]=this._createTree(this._cluster(y,N)),n&&console.log("z%d: %d clusters in %dms",N,y.numItems,+Date.now()-k)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var s=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),l=e[2]===180?180:((e[2]+180)%360+360)%360-180,u=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)s=-180,l=180;else if(s>l){var d=this.getClusters([s,i,180,u],n),f=this.getClusters([-180,i,l,u],n);return d.concat(f)}var p=this.trees[this._limitZoom(n)],g=p.range(Sl(s),Cl(u),Sl(l),Cl(i)),x=p.data,b=[];for(var y of g){var N=this.stride*y;b.push(x[N+ts]>1?Ng(x,N,this.clusterProps):this.points[x[N+ss]])}return b}getChildren(e){var n=this._getOriginId(e),s=this._getOriginZoom(e),i="No cluster with the specified id.",l=this.trees[s];if(!l)throw new Error(i);var u=l.data;if(n*this.stride>=u.length)throw new Error(i);var d=this.options.radius/(this.options.extent*Math.pow(2,s-1)),f=u[n*this.stride],p=u[n*this.stride+1],g=l.within(f,p,d),x=[];for(var b of g){var y=b*this.stride;u[y+xd]===e&&x.push(u[y+ts]>1?Ng(u,y,this.clusterProps):this.points[u[y+ss]])}if(x.length===0)throw new Error(i);return x}getLeaves(e,n,s){n=n||10,s=s||0;var i=[];return this._appendLeaves(i,e,n,s,0),i}getTile(e,n,s){var i=this.trees[this._limitZoom(e)],l=Math.pow(2,e),{extent:u,radius:d}=this.options,f=d/u,p=(s-f)/l,g=(s+1+f)/l,x={features:[]};return this._addTileFeatures(i.range((n-f)/l,p,(n+1+f)/l,g),i.data,n,s,l,x),n===0&&this._addTileFeatures(i.range(1-f/l,p,1,g),i.data,l,s,l,x),n===l-1&&this._addTileFeatures(i.range(0,p,f/l,g),i.data,-1,s,l,x),x.features.length?x:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var s=this.getChildren(e);if(n++,s.length!==1)break;e=s[0].properties.cluster_id}return n}_appendLeaves(e,n,s,i,l){var u=this.getChildren(n);for(var d of u){var f=d.properties;if(f&&f.cluster?l+f.point_count<=i?l+=f.point_count:l=this._appendLeaves(e,f.cluster_id,s,i,l):l<i?l++:e.push(d),e.length===s)break}return l}_createTree(e){for(var n=new Nf(e.length/this.stride|0,this.options.nodeSize,Float32Array),s=0;s<e.length;s+=this.stride)n.add(e[s],e[s+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,s,i,l,u){for(var d of e){var f=d*this.stride,p=n[f+ts]>1,g=void 0,x=void 0,b=void 0;if(p)g=Y0(n,f,this.clusterProps),x=n[f],b=n[f+1];else{var y=this.points[n[f+ss]];g=y.properties;var[N,k]=y.geometry.coordinates;x=Sl(N),b=Cl(k)}var j={type:1,geometry:[[Math.round(this.options.extent*(x*l-s)),Math.round(this.options.extent*(b*l-i))]],tags:g},M=void 0;p||this.options.generateId?M=n[f+ss]:M=this.points[n[f+ss]].id,M!==void 0&&(j.id=M),u.features.push(j)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:s,extent:i,reduce:l,minPoints:u}=this.options,d=s/(i*Math.pow(2,n)),f=e.data,p=[],g=this.stride,x=0;x<f.length;x+=g)if(!(f[x+Is]<=n)){f[x+Is]=n;var b=f[x],y=f[x+1],N=e.within(f[x],f[x+1],d),k=f[x+ts],j=k;for(var M of N){var _=M*g;f[_+Is]>n&&(j+=f[_+ts])}if(j>k&&j>=u){var L=b*k,S=y*k,P=void 0,R=-1,O=((x/g|0)<<5)+(n+1)+this.points.length;for(var F of N){var W=F*g;if(!(f[W+Is]<=n)){f[W+Is]=n;var A=f[W+ts];L+=f[W]*A,S+=f[W+1]*A,f[W+xd]=O,l&&(P||(P=this._map(f,x,!0),R=this.clusterProps.length,this.clusterProps.push(P)),l(P,this._map(f,W)))}}f[x+xd]=O,p.push(L/j,S/j,1/0,O,-1,j),l&&p.push(R)}else{for(var Q=0;Q<g;Q++)p.push(f[x+Q]);if(j>1)for(var J of N){var re=J*g;if(!(f[re+Is]<=n)){f[re+Is]=n;for(var ee=0;ee<g;ee++)p.push(f[re+ee])}}}}return p}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,s){if(e[n+ts]>1){var i=this.clusterProps[e[n+J0]];return s?Object.assign({},i):i}var l=this.points[e[n+ss]].properties,u=this.options.map(l);return s&&u===l?Object.assign({},u):u}}function Ng(t,e,n){return{type:"Feature",id:t[e+ss],properties:Y0(t,e,n),geometry:{type:"Point",coordinates:[Qk(t[e]),eN(t[e+1])]}}}function Y0(t,e,n){var s=t[e+ts],i=s>=1e4?"".concat(Math.round(s/1e3),"k"):s>=1e3?"".concat(Math.round(s/100)/10,"k"):s,l=t[e+J0],u=l===-1?{}:Object.assign({},n[l]);return Object.assign(u,{cluster:!0,cluster_id:t[e+ss],point_count:s,point_count_abbreviated:i})}function Sl(t){return t/360+.5}function Cl(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function Qk(t){return(t-.5)*360}function eN(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function tN(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}class bn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Hd{constructor(e){var{markers:n,position:s}=e;this.markers=n,s&&(s instanceof google.maps.LatLng?this._position=s:this._position=new google.maps.LatLng(s))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(bn.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>bn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(bn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class nN{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return rN(n)}}var rN=t=>{var e=t.map(n=>new Hd({position:bn.getPosition(n),markers:[n]}));return e};class sN extends nN{constructor(e){var{maxZoom:n,radius:s=60}=e,i=tN(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new Xk(Object.assign({maxZoom:this.maxZoom,radius:s},i))}calculate(e){var n=!1,s={zoom:e.map.getZoom()};if(!bg(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var i=this.markers.map(l=>{var u=bn.getPosition(l),d=[u.lng(),u.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:d},properties:{marker:l}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||s.zoom<=this.maxZoom)&&(n=!bg(this.state,s)),this.state=s,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(s=>this.transformCluster(s))}transformCluster(e){var{geometry:{coordinates:[n,s]},properties:i}=e;if(i.cluster)return new Hd({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(u=>u.properties.marker),position:{lat:s,lng:n}});var l=i.marker;return new Hd({markers:[l],position:bn.getPosition(l)})}}class aN{constructor(e,n){this.markers={sum:e.length};var s=n.map(l=>l.count),i=s.reduce((l,u)=>l+u,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...s),max:Math.max(...s)}}}}class oN{render(e,n,s){var{count:i,position:l}=e,u=i>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",d='<svg fill="'.concat(u,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),f="Cluster of ".concat(i," markers"),p=Number(google.maps.Marker.MAX_ZINDEX)+i;if(bn.isAdvancedMarkerAvailable(s)){var g=new DOMParser,x=g.parseFromString(d,"image/svg+xml").documentElement;x.setAttribute("transform","translate(0 25)");var b={map:s,position:l,zIndex:p,title:f,content:x};return new google.maps.marker.AdvancedMarkerElement(b)}var y={position:l,zIndex:p,title:f,icon:{url:"data:image/svg+xml;base64,".concat(btoa(d)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(y)}}function iN(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class Sf{constructor(){iN(Sf,google.maps.OverlayView)}}var Uo;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Uo||(Uo={}));var lN=(t,e,n)=>{n.fitBounds(e.bounds)};class cN extends Sf{constructor(e){var{map:n,markers:s=[],algorithmOptions:i={},algorithm:l=new sN(i),renderer:u=new oN,onClusterClick:d=lN}=e;super(),this.markers=[...s],this.clusters=[],this.algorithm=l,this.renderer=u,this.onClusterClick=d,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(s=>{this.addMarker(s,!0)}),n||this.render()}removeMarker(e,n){var s=this.markers.indexOf(e);return s===-1?!1:(bn.setMap(e,null),this.markers.splice(s,1),n||this.render(),!0)}removeMarkers(e,n){var s=!1;return e.forEach(i=>{s=this.removeMarker(i,!0)||s}),s&&!n&&this.render(),s}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Uo.CLUSTERING_BEGIN,this);var{clusters:n,changed:s}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(s||s==null){var i=new Set;for(var l of n)l.markers.length==1&&i.add(l.markers[0]);var u=[];for(var d of this.clusters)d.marker!=null&&(d.markers.length==1?i.has(d.marker)||bn.setMap(d.marker,null):u.push(d.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>u.forEach(f=>bn.setMap(f,null)))}google.maps.event.trigger(this,Uo.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>bn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new aN(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(s=>{s.markers.length===1?s.marker=s.markers[0]:(s.marker=this.renderer.render(s,e,n),s.markers.forEach(i=>bn.setMap(i,null)),this.onClusterClick&&s.marker.addListener("click",i=>{google.maps.event.trigger(this,Uo.CLUSTER_CLICK,s),this.onClusterClick(i,s,n)})),bn.setMap(s.marker,n)})}}function Sg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Cg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sg(Object(n),!0).forEach(function(s){ne(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function uN(t){var e=uk(),[n,s]=h.useState(null);return h.useEffect(()=>{if(e&&n===null){var i=new cN(Cg(Cg({},t),{},{map:e}));s(i)}},[e]),n}function dN(t){var{children:e,options:n}=t,s=uN(n);return s!==null?e(s):null}h.memo(dN);var Eg={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},_g={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function fN(t){var{children:e,anchor:n,options:s,position:i,zIndex:l,onCloseClick:u,onDomReady:d,onContentChanged:f,onPositionChanged:p,onZindexChanged:g,onLoad:x,onUnmount:b}=t,y=h.useContext($e),[N,k]=h.useState(null),[j,M]=h.useState(null),[_,L]=h.useState(null),[S,P]=h.useState(null),[R,O]=h.useState(null),[F,W]=h.useState(null),A=h.useRef(null);return h.useEffect(()=>{N!==null&&(N.close(),n?N.open(y,n):N.getPosition()&&N.open(y))},[y,N,n]),h.useEffect(()=>{s&&N!==null&&N.setOptions(s)},[N,s]),h.useEffect(()=>{i&&N!==null&&N.setPosition(i)},[i]),h.useEffect(()=>{typeof l=="number"&&N!==null&&N.setZIndex(l)},[l]),h.useEffect(()=>{N&&u&&(j!==null&&google.maps.event.removeListener(j),M(google.maps.event.addListener(N,"closeclick",u)))},[u]),h.useEffect(()=>{N&&d&&(_!==null&&google.maps.event.removeListener(_),L(google.maps.event.addListener(N,"domready",d)))},[d]),h.useEffect(()=>{N&&f&&(S!==null&&google.maps.event.removeListener(S),P(google.maps.event.addListener(N,"content_changed",f)))},[f]),h.useEffect(()=>{N&&p&&(R!==null&&google.maps.event.removeListener(R),O(google.maps.event.addListener(N,"position_changed",p)))},[p]),h.useEffect(()=>{N&&g&&(F!==null&&google.maps.event.removeListener(F),W(google.maps.event.addListener(N,"zindex_changed",g)))},[g]),h.useEffect(()=>{var Q=new google.maps.InfoWindow(s);return k(Q),A.current=document.createElement("div"),u&&M(google.maps.event.addListener(Q,"closeclick",u)),d&&L(google.maps.event.addListener(Q,"domready",d)),f&&P(google.maps.event.addListener(Q,"content_changed",f)),p&&O(google.maps.event.addListener(Q,"position_changed",p)),g&&W(google.maps.event.addListener(Q,"zindex_changed",g)),Q.setContent(A.current),i&&Q.setPosition(i),l&&Q.setZIndex(l),n?Q.open(y,n):Q.getPosition()?Q.open(y):Tt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),x&&x(Q),()=>{j&&google.maps.event.removeListener(j),S&&google.maps.event.removeListener(S),_&&google.maps.event.removeListener(_),R&&google.maps.event.removeListener(R),F&&google.maps.event.removeListener(F),b&&b(Q),Q.close()}},[]),A.current?Zn.createPortal(h.Children.only(e),A.current):null}h.memo(fN);class X0 extends h.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",null),ne(this,"state",{infoWindow:null}),ne(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):Tt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),ne(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=We({updaterMap:_g,eventMap:Eg,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(qe(this.registeredEvents),this.registeredEvents=We({updaterMap:_g,eventMap:Eg,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(qe(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Zn.createPortal(h.Children.only(this.props.children),this.containerElement):null}}ne(X0,"contextType",$e);function Lg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Jl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lg(Object(n),!0).forEach(function(s){ne(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var Pg={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Mg={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},hN={};function mN(t){var{options:e,draggable:n,editable:s,visible:i,path:l,onDblClick:u,onDragEnd:d,onDragStart:f,onMouseDown:p,onMouseMove:g,onMouseOut:x,onMouseOver:b,onMouseUp:y,onRightClick:N,onClick:k,onDrag:j,onLoad:M,onUnmount:_}=t,L=h.useContext($e),[S,P]=h.useState(null),[R,O]=h.useState(null),[F,W]=h.useState(null),[A,Q]=h.useState(null),[J,re]=h.useState(null),[ee,T]=h.useState(null),[q,K]=h.useState(null),[U,D]=h.useState(null),[V,E]=h.useState(null),[z,X]=h.useState(null),[se,H]=h.useState(null),[me,te]=h.useState(null);return h.useEffect(()=>{S!==null&&S.setMap(L)},[L]),h.useEffect(()=>{typeof e<"u"&&S!==null&&S.setOptions(e)},[S,e]),h.useEffect(()=>{typeof n<"u"&&S!==null&&S.setDraggable(n)},[S,n]),h.useEffect(()=>{typeof s<"u"&&S!==null&&S.setEditable(s)},[S,s]),h.useEffect(()=>{typeof i<"u"&&S!==null&&S.setVisible(i)},[S,i]),h.useEffect(()=>{typeof l<"u"&&S!==null&&S.setPath(l)},[S,l]),h.useEffect(()=>{S&&u&&(R!==null&&google.maps.event.removeListener(R),O(google.maps.event.addListener(S,"dblclick",u)))},[u]),h.useEffect(()=>{S&&d&&(F!==null&&google.maps.event.removeListener(F),W(google.maps.event.addListener(S,"dragend",d)))},[d]),h.useEffect(()=>{S&&f&&(A!==null&&google.maps.event.removeListener(A),Q(google.maps.event.addListener(S,"dragstart",f)))},[f]),h.useEffect(()=>{S&&p&&(J!==null&&google.maps.event.removeListener(J),re(google.maps.event.addListener(S,"mousedown",p)))},[p]),h.useEffect(()=>{S&&g&&(ee!==null&&google.maps.event.removeListener(ee),T(google.maps.event.addListener(S,"mousemove",g)))},[g]),h.useEffect(()=>{S&&x&&(q!==null&&google.maps.event.removeListener(q),K(google.maps.event.addListener(S,"mouseout",x)))},[x]),h.useEffect(()=>{S&&b&&(U!==null&&google.maps.event.removeListener(U),D(google.maps.event.addListener(S,"mouseover",b)))},[b]),h.useEffect(()=>{S&&y&&(V!==null&&google.maps.event.removeListener(V),E(google.maps.event.addListener(S,"mouseup",y)))},[y]),h.useEffect(()=>{S&&N&&(z!==null&&google.maps.event.removeListener(z),X(google.maps.event.addListener(S,"rightclick",N)))},[N]),h.useEffect(()=>{S&&k&&(se!==null&&google.maps.event.removeListener(se),H(google.maps.event.addListener(S,"click",k)))},[k]),h.useEffect(()=>{S&&j&&(me!==null&&google.maps.event.removeListener(me),te(google.maps.event.addListener(S,"drag",j)))},[j]),h.useEffect(()=>{var le=new google.maps.Polyline(Jl(Jl({},e||hN),{},{map:L}));return l&&le.setPath(l),typeof i<"u"&&le.setVisible(i),typeof s<"u"&&le.setEditable(s),typeof n<"u"&&le.setDraggable(n),u&&O(google.maps.event.addListener(le,"dblclick",u)),d&&W(google.maps.event.addListener(le,"dragend",d)),f&&Q(google.maps.event.addListener(le,"dragstart",f)),p&&re(google.maps.event.addListener(le,"mousedown",p)),g&&T(google.maps.event.addListener(le,"mousemove",g)),x&&K(google.maps.event.addListener(le,"mouseout",x)),b&&D(google.maps.event.addListener(le,"mouseover",b)),y&&E(google.maps.event.addListener(le,"mouseup",y)),N&&X(google.maps.event.addListener(le,"rightclick",N)),k&&H(google.maps.event.addListener(le,"click",k)),j&&te(google.maps.event.addListener(le,"drag",j)),P(le),M&&M(le),()=>{R!==null&&google.maps.event.removeListener(R),F!==null&&google.maps.event.removeListener(F),A!==null&&google.maps.event.removeListener(A),J!==null&&google.maps.event.removeListener(J),ee!==null&&google.maps.event.removeListener(ee),q!==null&&google.maps.event.removeListener(q),U!==null&&google.maps.event.removeListener(U),V!==null&&google.maps.event.removeListener(V),z!==null&&google.maps.event.removeListener(z),se!==null&&google.maps.event.removeListener(se),_&&_(le),le.setMap(null)}},[]),null}h.memo(mN);class pN extends h.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{polyline:null}),ne(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Jl(Jl({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:Mg,eventMap:Pg,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(qe(this.registeredEvents),this.registeredEvents=We({updaterMap:Mg,eventMap:Pg,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),qe(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}ne(pN,"contextType",$e);function Tg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tg(Object(n),!0).forEach(function(s){ne(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var Rg={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ig={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function gN(t){var{options:e,draggable:n,editable:s,visible:i,path:l,paths:u,onDblClick:d,onDragEnd:f,onDragStart:p,onMouseDown:g,onMouseMove:x,onMouseOut:b,onMouseOver:y,onMouseUp:N,onRightClick:k,onClick:j,onDrag:M,onLoad:_,onUnmount:L,onEdit:S}=t,P=h.useContext($e),[R,O]=h.useState(null),[F,W]=h.useState(null),[A,Q]=h.useState(null),[J,re]=h.useState(null),[ee,T]=h.useState(null),[q,K]=h.useState(null),[U,D]=h.useState(null),[V,E]=h.useState(null),[z,X]=h.useState(null),[se,H]=h.useState(null),[me,te]=h.useState(null),[le,xe]=h.useState(null);return h.useEffect(()=>{R!==null&&R.setMap(P)},[P]),h.useEffect(()=>{typeof e<"u"&&R!==null&&R.setOptions(e)},[R,e]),h.useEffect(()=>{typeof n<"u"&&R!==null&&R.setDraggable(n)},[R,n]),h.useEffect(()=>{typeof s<"u"&&R!==null&&R.setEditable(s)},[R,s]),h.useEffect(()=>{typeof i<"u"&&R!==null&&R.setVisible(i)},[R,i]),h.useEffect(()=>{typeof l<"u"&&R!==null&&R.setPath(l)},[R,l]),h.useEffect(()=>{typeof u<"u"&&R!==null&&R.setPaths(u)},[R,u]),h.useEffect(()=>{R&&typeof d=="function"&&(F!==null&&google.maps.event.removeListener(F),W(google.maps.event.addListener(R,"dblclick",d)))},[d]),h.useEffect(()=>{R&&(google.maps.event.addListener(R.getPath(),"insert_at",()=>{S==null||S(R)}),google.maps.event.addListener(R.getPath(),"set_at",()=>{S==null||S(R)}),google.maps.event.addListener(R.getPath(),"remove_at",()=>{S==null||S(R)}))},[R,S]),h.useEffect(()=>{R&&typeof f=="function"&&(A!==null&&google.maps.event.removeListener(A),Q(google.maps.event.addListener(R,"dragend",f)))},[f]),h.useEffect(()=>{R&&typeof p=="function"&&(J!==null&&google.maps.event.removeListener(J),re(google.maps.event.addListener(R,"dragstart",p)))},[p]),h.useEffect(()=>{R&&typeof g=="function"&&(ee!==null&&google.maps.event.removeListener(ee),T(google.maps.event.addListener(R,"mousedown",g)))},[g]),h.useEffect(()=>{R&&typeof x=="function"&&(q!==null&&google.maps.event.removeListener(q),K(google.maps.event.addListener(R,"mousemove",x)))},[x]),h.useEffect(()=>{R&&typeof b=="function"&&(U!==null&&google.maps.event.removeListener(U),D(google.maps.event.addListener(R,"mouseout",b)))},[b]),h.useEffect(()=>{R&&typeof y=="function"&&(V!==null&&google.maps.event.removeListener(V),E(google.maps.event.addListener(R,"mouseover",y)))},[y]),h.useEffect(()=>{R&&typeof N=="function"&&(z!==null&&google.maps.event.removeListener(z),X(google.maps.event.addListener(R,"mouseup",N)))},[N]),h.useEffect(()=>{R&&typeof k=="function"&&(se!==null&&google.maps.event.removeListener(se),H(google.maps.event.addListener(R,"rightclick",k)))},[k]),h.useEffect(()=>{R&&typeof j=="function"&&(me!==null&&google.maps.event.removeListener(me),te(google.maps.event.addListener(R,"click",j)))},[j]),h.useEffect(()=>{R&&typeof M=="function"&&(le!==null&&google.maps.event.removeListener(le),xe(google.maps.event.addListener(R,"drag",M)))},[M]),h.useEffect(()=>{var ce=new google.maps.Polygon(Og(Og({},e),{},{map:P}));return l&&ce.setPath(l),u&&ce.setPaths(u),typeof i<"u"&&ce.setVisible(i),typeof s<"u"&&ce.setEditable(s),typeof n<"u"&&ce.setDraggable(n),d&&W(google.maps.event.addListener(ce,"dblclick",d)),f&&Q(google.maps.event.addListener(ce,"dragend",f)),p&&re(google.maps.event.addListener(ce,"dragstart",p)),g&&T(google.maps.event.addListener(ce,"mousedown",g)),x&&K(google.maps.event.addListener(ce,"mousemove",x)),b&&D(google.maps.event.addListener(ce,"mouseout",b)),y&&E(google.maps.event.addListener(ce,"mouseover",y)),N&&X(google.maps.event.addListener(ce,"mouseup",N)),k&&H(google.maps.event.addListener(ce,"rightclick",k)),j&&te(google.maps.event.addListener(ce,"click",j)),M&&xe(google.maps.event.addListener(ce,"drag",M)),O(ce),_&&_(ce),()=>{F!==null&&google.maps.event.removeListener(F),A!==null&&google.maps.event.removeListener(A),J!==null&&google.maps.event.removeListener(J),ee!==null&&google.maps.event.removeListener(ee),q!==null&&google.maps.event.removeListener(q),U!==null&&google.maps.event.removeListener(U),V!==null&&google.maps.event.removeListener(V),z!==null&&google.maps.event.removeListener(z),se!==null&&google.maps.event.removeListener(se),me!==null&&google.maps.event.removeListener(me),L&&L(ce),ce.setMap(null)}},[]),null}h.memo(gN);class vN extends h.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=We({updaterMap:Ig,eventMap:Rg,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(qe(this.registeredEvents),this.registeredEvents=We({updaterMap:Ig,eventMap:Rg,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),qe(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}ne(vN,"contextType",$e);function Dg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Yl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dg(Object(n),!0).forEach(function(s){ne(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var Ag={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},zg={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function xN(t){var{options:e,bounds:n,draggable:s,editable:i,visible:l,onDblClick:u,onDragEnd:d,onDragStart:f,onMouseDown:p,onMouseMove:g,onMouseOut:x,onMouseOver:b,onMouseUp:y,onRightClick:N,onClick:k,onDrag:j,onBoundsChanged:M,onLoad:_,onUnmount:L}=t,S=h.useContext($e),[P,R]=h.useState(null),[O,F]=h.useState(null),[W,A]=h.useState(null),[Q,J]=h.useState(null),[re,ee]=h.useState(null),[T,q]=h.useState(null),[K,U]=h.useState(null),[D,V]=h.useState(null),[E,z]=h.useState(null),[X,se]=h.useState(null),[H,me]=h.useState(null),[te,le]=h.useState(null),[xe,ce]=h.useState(null);return h.useEffect(()=>{P!==null&&P.setMap(S)},[S]),h.useEffect(()=>{typeof e<"u"&&P!==null&&P.setOptions(e)},[P,e]),h.useEffect(()=>{typeof s<"u"&&P!==null&&P.setDraggable(s)},[P,s]),h.useEffect(()=>{typeof i<"u"&&P!==null&&P.setEditable(i)},[P,i]),h.useEffect(()=>{typeof l<"u"&&P!==null&&P.setVisible(l)},[P,l]),h.useEffect(()=>{typeof n<"u"&&P!==null&&P.setBounds(n)},[P,n]),h.useEffect(()=>{P&&u&&(O!==null&&google.maps.event.removeListener(O),F(google.maps.event.addListener(P,"dblclick",u)))},[u]),h.useEffect(()=>{P&&d&&(W!==null&&google.maps.event.removeListener(W),A(google.maps.event.addListener(P,"dragend",d)))},[d]),h.useEffect(()=>{P&&f&&(Q!==null&&google.maps.event.removeListener(Q),J(google.maps.event.addListener(P,"dragstart",f)))},[f]),h.useEffect(()=>{P&&p&&(re!==null&&google.maps.event.removeListener(re),ee(google.maps.event.addListener(P,"mousedown",p)))},[p]),h.useEffect(()=>{P&&g&&(T!==null&&google.maps.event.removeListener(T),q(google.maps.event.addListener(P,"mousemove",g)))},[g]),h.useEffect(()=>{P&&x&&(K!==null&&google.maps.event.removeListener(K),U(google.maps.event.addListener(P,"mouseout",x)))},[x]),h.useEffect(()=>{P&&b&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(P,"mouseover",b)))},[b]),h.useEffect(()=>{P&&y&&(E!==null&&google.maps.event.removeListener(E),z(google.maps.event.addListener(P,"mouseup",y)))},[y]),h.useEffect(()=>{P&&N&&(X!==null&&google.maps.event.removeListener(X),se(google.maps.event.addListener(P,"rightclick",N)))},[N]),h.useEffect(()=>{P&&k&&(H!==null&&google.maps.event.removeListener(H),me(google.maps.event.addListener(P,"click",k)))},[k]),h.useEffect(()=>{P&&j&&(te!==null&&google.maps.event.removeListener(te),le(google.maps.event.addListener(P,"drag",j)))},[j]),h.useEffect(()=>{P&&M&&(xe!==null&&google.maps.event.removeListener(xe),ce(google.maps.event.addListener(P,"bounds_changed",M)))},[M]),h.useEffect(()=>{var oe=new google.maps.Rectangle(Yl(Yl({},e),{},{map:S}));return typeof l<"u"&&oe.setVisible(l),typeof i<"u"&&oe.setEditable(i),typeof s<"u"&&oe.setDraggable(s),typeof n<"u"&&oe.setBounds(n),u&&F(google.maps.event.addListener(oe,"dblclick",u)),d&&A(google.maps.event.addListener(oe,"dragend",d)),f&&J(google.maps.event.addListener(oe,"dragstart",f)),p&&ee(google.maps.event.addListener(oe,"mousedown",p)),g&&q(google.maps.event.addListener(oe,"mousemove",g)),x&&U(google.maps.event.addListener(oe,"mouseout",x)),b&&V(google.maps.event.addListener(oe,"mouseover",b)),y&&z(google.maps.event.addListener(oe,"mouseup",y)),N&&se(google.maps.event.addListener(oe,"rightclick",N)),k&&me(google.maps.event.addListener(oe,"click",k)),j&&le(google.maps.event.addListener(oe,"drag",j)),M&&ce(google.maps.event.addListener(oe,"bounds_changed",M)),R(oe),_&&_(oe),()=>{O!==null&&google.maps.event.removeListener(O),W!==null&&google.maps.event.removeListener(W),Q!==null&&google.maps.event.removeListener(Q),re!==null&&google.maps.event.removeListener(re),T!==null&&google.maps.event.removeListener(T),K!==null&&google.maps.event.removeListener(K),D!==null&&google.maps.event.removeListener(D),E!==null&&google.maps.event.removeListener(E),X!==null&&google.maps.event.removeListener(X),H!==null&&google.maps.event.removeListener(H),te!==null&&google.maps.event.removeListener(te),xe!==null&&google.maps.event.removeListener(xe),L&&L(oe),oe.setMap(null)}},[]),null}h.memo(xN);class yN extends h.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{rectangle:null}),ne(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Yl(Yl({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:zg,eventMap:Ag,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(qe(this.registeredEvents),this.registeredEvents=We({updaterMap:zg,eventMap:Ag,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),qe(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}ne(yN,"contextType",$e);function $g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Xl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$g(Object(n),!0).forEach(function(s){ne(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$g(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var Ug={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Bg={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},bN={};function wN(t){var{options:e,center:n,radius:s,draggable:i,editable:l,visible:u,onDblClick:d,onDragEnd:f,onDragStart:p,onMouseDown:g,onMouseMove:x,onMouseOut:b,onMouseOver:y,onMouseUp:N,onRightClick:k,onClick:j,onDrag:M,onCenterChanged:_,onRadiusChanged:L,onLoad:S,onUnmount:P}=t,R=h.useContext($e),[O,F]=h.useState(null),[W,A]=h.useState(null),[Q,J]=h.useState(null),[re,ee]=h.useState(null),[T,q]=h.useState(null),[K,U]=h.useState(null),[D,V]=h.useState(null),[E,z]=h.useState(null),[X,se]=h.useState(null),[H,me]=h.useState(null),[te,le]=h.useState(null),[xe,ce]=h.useState(null),[oe,Ee]=h.useState(null),[Ue,Ye]=h.useState(null);return h.useEffect(()=>{O!==null&&O.setMap(R)},[R]),h.useEffect(()=>{typeof e<"u"&&O!==null&&O.setOptions(e)},[O,e]),h.useEffect(()=>{typeof i<"u"&&O!==null&&O.setDraggable(i)},[O,i]),h.useEffect(()=>{typeof l<"u"&&O!==null&&O.setEditable(l)},[O,l]),h.useEffect(()=>{typeof u<"u"&&O!==null&&O.setVisible(u)},[O,u]),h.useEffect(()=>{typeof s=="number"&&O!==null&&O.setRadius(s)},[O,s]),h.useEffect(()=>{typeof n<"u"&&O!==null&&O.setCenter(n)},[O,n]),h.useEffect(()=>{O&&d&&(W!==null&&google.maps.event.removeListener(W),A(google.maps.event.addListener(O,"dblclick",d)))},[d]),h.useEffect(()=>{O&&f&&(Q!==null&&google.maps.event.removeListener(Q),J(google.maps.event.addListener(O,"dragend",f)))},[f]),h.useEffect(()=>{O&&p&&(re!==null&&google.maps.event.removeListener(re),ee(google.maps.event.addListener(O,"dragstart",p)))},[p]),h.useEffect(()=>{O&&g&&(T!==null&&google.maps.event.removeListener(T),q(google.maps.event.addListener(O,"mousedown",g)))},[g]),h.useEffect(()=>{O&&x&&(K!==null&&google.maps.event.removeListener(K),U(google.maps.event.addListener(O,"mousemove",x)))},[x]),h.useEffect(()=>{O&&b&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(O,"mouseout",b)))},[b]),h.useEffect(()=>{O&&y&&(E!==null&&google.maps.event.removeListener(E),z(google.maps.event.addListener(O,"mouseover",y)))},[y]),h.useEffect(()=>{O&&N&&(X!==null&&google.maps.event.removeListener(X),se(google.maps.event.addListener(O,"mouseup",N)))},[N]),h.useEffect(()=>{O&&k&&(H!==null&&google.maps.event.removeListener(H),me(google.maps.event.addListener(O,"rightclick",k)))},[k]),h.useEffect(()=>{O&&j&&(te!==null&&google.maps.event.removeListener(te),le(google.maps.event.addListener(O,"click",j)))},[j]),h.useEffect(()=>{O&&M&&(xe!==null&&google.maps.event.removeListener(xe),ce(google.maps.event.addListener(O,"drag",M)))},[M]),h.useEffect(()=>{O&&_&&(oe!==null&&google.maps.event.removeListener(oe),Ee(google.maps.event.addListener(O,"center_changed",_)))},[j]),h.useEffect(()=>{O&&L&&(Ue!==null&&google.maps.event.removeListener(Ue),Ye(google.maps.event.addListener(O,"radius_changed",L)))},[L]),h.useEffect(()=>{var De=new google.maps.Circle(Xl(Xl({},e||bN),{},{map:R}));return typeof s=="number"&&De.setRadius(s),typeof n<"u"&&De.setCenter(n),typeof s=="number"&&De.setRadius(s),typeof u<"u"&&De.setVisible(u),typeof l<"u"&&De.setEditable(l),typeof i<"u"&&De.setDraggable(i),d&&A(google.maps.event.addListener(De,"dblclick",d)),f&&J(google.maps.event.addListener(De,"dragend",f)),p&&ee(google.maps.event.addListener(De,"dragstart",p)),g&&q(google.maps.event.addListener(De,"mousedown",g)),x&&U(google.maps.event.addListener(De,"mousemove",x)),b&&V(google.maps.event.addListener(De,"mouseout",b)),y&&z(google.maps.event.addListener(De,"mouseover",y)),N&&se(google.maps.event.addListener(De,"mouseup",N)),k&&me(google.maps.event.addListener(De,"rightclick",k)),j&&le(google.maps.event.addListener(De,"click",j)),M&&ce(google.maps.event.addListener(De,"drag",M)),_&&Ee(google.maps.event.addListener(De,"center_changed",_)),L&&Ye(google.maps.event.addListener(De,"radius_changed",L)),F(De),S&&S(De),()=>{W!==null&&google.maps.event.removeListener(W),Q!==null&&google.maps.event.removeListener(Q),re!==null&&google.maps.event.removeListener(re),T!==null&&google.maps.event.removeListener(T),K!==null&&google.maps.event.removeListener(K),D!==null&&google.maps.event.removeListener(D),E!==null&&google.maps.event.removeListener(E),X!==null&&google.maps.event.removeListener(X),H!==null&&google.maps.event.removeListener(H),te!==null&&google.maps.event.removeListener(te),oe!==null&&google.maps.event.removeListener(oe),Ue!==null&&google.maps.event.removeListener(Ue),P&&P(De),De.setMap(null)}},[]),null}h.memo(wN);class jN extends h.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{circle:null}),ne(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Xl(Xl({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:Bg,eventMap:Ug,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(qe(this.registeredEvents),this.registeredEvents=We({updaterMap:Bg,eventMap:Ug,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),qe(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}ne(jN,"contextType",$e);function Fg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Ql(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fg(Object(n),!0).forEach(function(s){ne(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var Wg={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Vg={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,s){t.loadGeoJson(e,n,s)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function kN(t){var{options:e,onClick:n,onDblClick:s,onMouseDown:i,onMouseMove:l,onMouseOut:u,onMouseOver:d,onMouseUp:f,onRightClick:p,onAddFeature:g,onRemoveFeature:x,onRemoveProperty:b,onSetGeometry:y,onSetProperty:N,onLoad:k,onUnmount:j}=t,M=h.useContext($e),[_,L]=h.useState(null),[S,P]=h.useState(null),[R,O]=h.useState(null),[F,W]=h.useState(null),[A,Q]=h.useState(null),[J,re]=h.useState(null),[ee,T]=h.useState(null),[q,K]=h.useState(null),[U,D]=h.useState(null),[V,E]=h.useState(null),[z,X]=h.useState(null),[se,H]=h.useState(null),[me,te]=h.useState(null),[le,xe]=h.useState(null);return h.useEffect(()=>{_!==null&&_.setMap(M)},[M]),h.useEffect(()=>{_&&s&&(S!==null&&google.maps.event.removeListener(S),P(google.maps.event.addListener(_,"dblclick",s)))},[s]),h.useEffect(()=>{_&&i&&(R!==null&&google.maps.event.removeListener(R),O(google.maps.event.addListener(_,"mousedown",i)))},[i]),h.useEffect(()=>{_&&l&&(F!==null&&google.maps.event.removeListener(F),W(google.maps.event.addListener(_,"mousemove",l)))},[l]),h.useEffect(()=>{_&&u&&(A!==null&&google.maps.event.removeListener(A),Q(google.maps.event.addListener(_,"mouseout",u)))},[u]),h.useEffect(()=>{_&&d&&(J!==null&&google.maps.event.removeListener(J),re(google.maps.event.addListener(_,"mouseover",d)))},[d]),h.useEffect(()=>{_&&f&&(ee!==null&&google.maps.event.removeListener(ee),T(google.maps.event.addListener(_,"mouseup",f)))},[f]),h.useEffect(()=>{_&&p&&(q!==null&&google.maps.event.removeListener(q),K(google.maps.event.addListener(_,"rightclick",p)))},[p]),h.useEffect(()=>{_&&n&&(U!==null&&google.maps.event.removeListener(U),D(google.maps.event.addListener(_,"click",n)))},[n]),h.useEffect(()=>{_&&g&&(V!==null&&google.maps.event.removeListener(V),E(google.maps.event.addListener(_,"addfeature",g)))},[g]),h.useEffect(()=>{_&&x&&(z!==null&&google.maps.event.removeListener(z),X(google.maps.event.addListener(_,"removefeature",x)))},[x]),h.useEffect(()=>{_&&b&&(se!==null&&google.maps.event.removeListener(se),H(google.maps.event.addListener(_,"removeproperty",b)))},[b]),h.useEffect(()=>{_&&y&&(me!==null&&google.maps.event.removeListener(me),te(google.maps.event.addListener(_,"setgeometry",y)))},[y]),h.useEffect(()=>{_&&N&&(le!==null&&google.maps.event.removeListener(le),xe(google.maps.event.addListener(_,"setproperty",N)))},[N]),h.useEffect(()=>{if(M!==null){var ce=new google.maps.Data(Ql(Ql({},e),{},{map:M}));s&&P(google.maps.event.addListener(ce,"dblclick",s)),i&&O(google.maps.event.addListener(ce,"mousedown",i)),l&&W(google.maps.event.addListener(ce,"mousemove",l)),u&&Q(google.maps.event.addListener(ce,"mouseout",u)),d&&re(google.maps.event.addListener(ce,"mouseover",d)),f&&T(google.maps.event.addListener(ce,"mouseup",f)),p&&K(google.maps.event.addListener(ce,"rightclick",p)),n&&D(google.maps.event.addListener(ce,"click",n)),g&&E(google.maps.event.addListener(ce,"addfeature",g)),x&&X(google.maps.event.addListener(ce,"removefeature",x)),b&&H(google.maps.event.addListener(ce,"removeproperty",b)),y&&te(google.maps.event.addListener(ce,"setgeometry",y)),N&&xe(google.maps.event.addListener(ce,"setproperty",N)),L(ce),k&&k(ce)}return()=>{_&&(S!==null&&google.maps.event.removeListener(S),R!==null&&google.maps.event.removeListener(R),F!==null&&google.maps.event.removeListener(F),A!==null&&google.maps.event.removeListener(A),J!==null&&google.maps.event.removeListener(J),ee!==null&&google.maps.event.removeListener(ee),q!==null&&google.maps.event.removeListener(q),U!==null&&google.maps.event.removeListener(U),V!==null&&google.maps.event.removeListener(V),z!==null&&google.maps.event.removeListener(z),se!==null&&google.maps.event.removeListener(se),me!==null&&google.maps.event.removeListener(me),le!==null&&google.maps.event.removeListener(le),j&&j(_),_.setMap(null))}},[]),null}h.memo(kN);class NN extends h.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{data:null}),ne(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Ql(Ql({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:Vg,eventMap:Wg,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(qe(this.registeredEvents),this.registeredEvents=We({updaterMap:Vg,eventMap:Wg,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),qe(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}ne(NN,"contextType",$e);function Hg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hg(Object(n),!0).forEach(function(s){ne(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var Gg={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Kg={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class SN extends h.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{kmlLayer:null}),ne(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(qg(qg({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:Kg,eventMap:Gg,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(qe(this.registeredEvents),this.registeredEvents=We({updaterMap:Kg,eventMap:Gg,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),qe(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}ne(SN,"contextType",$e);function Q0(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function CN(t,e){return new e(t.lat,t.lng)}function EN(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function _N(t,e,n){return t instanceof e?t:n(t,e)}function LN(t,e,n){return t instanceof e?t:n(t,e)}function PN(t,e,n){var s=t&&t.fromLatLngToDivPixel(n.getNorthEast()),i=t&&t.fromLatLngToDivPixel(n.getSouthWest());return s&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(s.y+e.y,"px"),width:"".concat(s.x-i.x-e.x,"px"),height:"".concat(i.y-s.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function MN(t,e,n){var s=t&&t.fromLatLngToDivPixel(n);if(s){var{x:i,y:l}=s;return{left:"".concat(i+e.x,"px"),top:"".concat(l+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function ex(t,e,n,s){return n!==void 0?PN(t,e,LN(n,google.maps.LatLngBounds,EN)):MN(t,e,_N(s,google.maps.LatLng,CN))}function TN(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function Zg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function ON(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zg(Object(n),!0).forEach(function(s){ne(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function RN(t,e,n,s,i){class l extends google.maps.OverlayView{constructor(d,f,p,g){super(),this.container=d,this.pane=f,this.position=p,this.bounds=g}onAdd(){var d,f=(d=this.getPanes())===null||d===void 0?void 0:d[this.pane];f==null||f.appendChild(this.container)}draw(){var d=this.getProjection(),f=ON({},this.container?Q0(this.container,i):{x:0,y:0}),p=ex(d,f,this.bounds,this.position);for(var[g,x]of Object.entries(p))this.container.style[g]=x}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new l(t,e,n,s)}function Jg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function IN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jg(Object(n),!0).forEach(function(s){ne(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Yg(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function Xg(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function DN(t){var{position:e,bounds:n,mapPaneName:s,zIndex:i,onLoad:l,onUnmount:u,getPixelPositionOffset:d,children:f}=t,p=h.useContext($e),g=h.useMemo(()=>{var b=document.createElement("div");return b.style.position="absolute",b},[]),x=h.useMemo(()=>RN(g,s,e,n,d),[g,s,e,n]);return h.useEffect(()=>(l==null||l(x),x==null||x.setMap(p),()=>{u==null||u(x),x==null||x.setMap(null)}),[p,x]),h.useEffect(()=>{g.style.zIndex="".concat(i)},[i,g]),Zn.createPortal(f,g)}h.memo(DN);class Ua extends h.PureComponent{constructor(e){super(e),ne(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),ne(this,"updatePane",()=>{var s=this.props.mapPaneName,i=this.overlayView.getPanes();Tt(!!s,"OverlayView requires props.mapPaneName but got %s",s),i?this.setState({paneEl:i[s]}):this.setState({paneEl:null})}),ne(this,"onAdd",()=>{var s,i;this.updatePane(),(s=(i=this.props).onLoad)===null||s===void 0||s.call(i,this.overlayView)}),ne(this,"onPositionElement",()=>{var s=this.overlayView.getProjection(),i=IN({x:0,y:0},this.containerRef.current?Q0(this.containerRef.current,this.props.getPixelPositionOffset):{}),l=ex(s,i,this.props.bounds,this.props.position);if(!TN(l,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var u,d,f,p;this.setState({containerStyle:{top:(u=l.top)!==null&&u!==void 0?u:0,left:(d=l.left)!==null&&d!==void 0?d:0,width:(f=l.width)!==null&&f!==void 0?f:0,height:(p=l.height)!==null&&p!==void 0?p:0,position:"absolute"}})}}),ne(this,"draw",()=>{this.onPositionElement()}),ne(this,"onRemove",()=>{var s,i;this.setState(()=>({paneEl:null})),(s=(i=this.props).onUnmount)===null||s===void 0||s.call(i,this.overlayView)}),this.containerRef=h.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=Yg(e.position),s=Yg(this.props.position),i=Xg(e.bounds),l=Xg(this.props.bounds);(n!==s||i!==l)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Zn.createPortal(a.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:h.Children.only(this.props.children)}),e):null}}ne(Ua,"FLOAT_PANE","floatPane");ne(Ua,"MAP_PANE","mapPane");ne(Ua,"MARKER_LAYER","markerLayer");ne(Ua,"OVERLAY_LAYER","overlayLayer");ne(Ua,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");ne(Ua,"contextType",$e);function AN(){}function Qg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function ev(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qg(Object(n),!0).forEach(function(s){ne(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var tv={onDblClick:"dblclick",onClick:"click"},nv={opacity(t,e){t.setOpacity(e)}};function zN(t){var{url:e,bounds:n,options:s,visible:i}=t,l=h.useContext($e),u=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),d=h.useMemo(()=>new google.maps.GroundOverlay(e,u,s),[]);return h.useEffect(()=>{d!==null&&d.setMap(l)},[l]),h.useEffect(()=>{typeof e<"u"&&d!==null&&(d.set("url",e),d.setMap(l))},[d,e]),h.useEffect(()=>{typeof i<"u"&&d!==null&&d.setOpacity(i?1:0)},[d,i]),h.useEffect(()=>{var f=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&d!==null&&(d.set("bounds",f),d.setMap(l))},[d,n]),null}h.memo(zN);class tx extends h.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{groundOverlay:null}),ne(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Tt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,ev(ev({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:nv,eventMap:tv,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(qe(this.registeredEvents),this.registeredEvents=We({updaterMap:nv,eventMap:tv,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}ne(tx,"defaultProps",{onLoad:AN});ne(tx,"contextType",$e);function rv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rv(Object(n),!0).forEach(function(s){ne(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rv(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var sv={},av={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function $N(t){var{data:e,onLoad:n,onUnmount:s,options:i}=t,l=h.useContext($e),[u,d]=h.useState(null);return h.useEffect(()=>{google.maps.visualization||Tt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),h.useEffect(()=>{Tt(!!e,"data property is required in HeatmapLayer %s",e)},[e]),h.useEffect(()=>{u!==null&&u.setMap(l)},[l]),h.useEffect(()=>{i&&u!==null&&u.setOptions(i)},[u,i]),h.useEffect(()=>{var f=new google.maps.visualization.HeatmapLayer(ec(ec({},i),{},{data:e,map:l}));return d(f),n&&n(f),()=>{u!==null&&(s&&s(u),u.setMap(null))}},[]),null}h.memo($N);class UN extends h.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{heatmapLayer:null}),ne(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Tt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Tt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(ec(ec({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=We({updaterMap:av,eventMap:sv,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){qe(this.registeredEvents),this.registeredEvents=We({updaterMap:av,eventMap:sv,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),qe(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}ne(UN,"contextType",$e);var ov={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},iv={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class BN extends h.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{streetViewPanorama:null}),ne(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,s=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=We({updaterMap:iv,eventMap:ov,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({streetViewPanorama:s}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(qe(this.registeredEvents),this.registeredEvents=We({updaterMap:iv,eventMap:ov,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),qe(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}ne(BN,"contextType",$e);class FN extends h.PureComponent{constructor(){super(...arguments),ne(this,"state",{streetViewService:null}),ne(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}ne(FN,"contextType",$e);var lv={onDirectionsChanged:"directions_changed"},cv={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class WN extends h.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{directionsRenderer:null}),ne(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=We({updaterMap:cv,eventMap:lv,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(qe(this.registeredEvents),this.registeredEvents=We({updaterMap:cv,eventMap:lv,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),qe(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}ne(WN,"contextType",$e);var uv={onPlacesChanged:"places_changed"},dv={bounds(t,e){t.setBounds(e)}};class VN extends h.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",h.createRef()),ne(this,"state",{searchBox:null}),ne(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Tt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=We({updaterMap:dv,eventMap:uv,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(qe(this.registeredEvents),this.registeredEvents=We({updaterMap:dv,eventMap:uv,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),qe(this.registeredEvents))}render(){return a.jsx("div",{ref:this.containerElement,children:h.Children.only(this.props.children)})}}ne(VN,"contextType",$e);var fv={onPlaceChanged:"place_changed"},hv={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class nx extends h.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",h.createRef()),ne(this,"state",{autocomplete:null}),ne(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Tt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var s=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=We({updaterMap:hv,eventMap:fv,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({autocomplete:s}),this.setAutocompleteCallback)}}componentDidUpdate(e){qe(this.registeredEvents),this.registeredEvents=We({updaterMap:hv,eventMap:fv,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&qe(this.registeredEvents)}render(){return a.jsx("div",{ref:this.containerElement,className:this.props.className,children:h.Children.only(this.props.children)})}}ne(nx,"defaultProps",{className:""});ne(nx,"contextType",$e);const HN="modulepreload",qN=function(t){return"/"+t},mv={},Ba=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){let u=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));i=u(n.map(p=>{if(p=qN(p),p in mv)return;mv[p]=!0;const g=p.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":HN,g||(b.as="script"),b.crossOrigin="",b.href=p,f&&b.setAttribute("nonce",f),document.head.appendChild(b),g)return new Promise((y,N)=>{b.addEventListener("load",y),b.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return i.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},GN=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ba(async()=>{const{default:s}=await Promise.resolve().then(()=>Fa);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class Cf extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class KN extends Cf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ZN extends Cf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class JN extends Cf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qd||(qd={}));var YN=function(t,e,n,s){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{p(s.next(g))}catch(x){u(x)}}function f(g){try{p(s.throw(g))}catch(x){u(x)}}function p(g){g.done?l(g.value):i(g.value).then(d,f)}p((s=s.apply(t,e||[])).next())})};class XN{constructor(e,{headers:n={},customFetch:s,region:i=qd.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=GN(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var s;return YN(this,void 0,void 0,function*(){try{const{headers:i,method:l,body:u}=n;let d={},{region:f}=n;f||(f=this.region),f&&f!=="any"&&(d["x-region"]=f);let p;u&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(d["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(d["Content-Type"]="application/json",p=JSON.stringify(u)));const g=yield this.fetch(`${this.url}/${e}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:p}).catch(N=>{throw new KN(N)}),x=g.headers.get("x-relay-error");if(x&&x==="true")throw new ZN(g);if(!g.ok)throw new JN(g);let b=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),y;return b==="application/json"?y=yield g.json():b==="application/octet-stream"?y=yield g.blob():b==="text/event-stream"?y=g:b==="multipart/form-data"?y=yield g.formData():y=yield g.text(),{data:y,error:null}}catch(i){return{data:null,error:i}}})}}var zt={},va={},xa={},ya={},ba={},wa={},QN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ia=QN();const eS=Ia.fetch,rx=Ia.fetch.bind(Ia),sx=Ia.Headers,tS=Ia.Request,nS=Ia.Response,Fa=Object.freeze(Object.defineProperty({__proto__:null,Headers:sx,Request:tS,Response:nS,default:rx,fetch:eS},Symbol.toStringTag,{value:"Module"})),rS=wj(Fa);var El={},pv;function ax(){if(pv)return El;pv=1,Object.defineProperty(El,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return El.default=t,El}var gv;function ox(){if(gv)return wa;gv=1;var t=wa&&wa.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(wa,"__esModule",{value:!0});const e=t(rS),n=t(ax());class s{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=Object.assign({},this.headers),this.headers[l]=u,this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,x,b;let y=null,N=null,k=null,j=p.status,M=p.statusText;if(p.ok){if(this.method!=="HEAD"){const P=await p.text();P===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?N=P:N=JSON.parse(P))}const L=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),S=(x=p.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");L&&S&&S.length>1&&(k=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(y={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,k=null,j=406,M="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const L=await p.text();try{y=JSON.parse(L),Array.isArray(y)&&p.status===404&&(N=[],y=null,j=200,M="OK")}catch{p.status===404&&L===""?(j=204,M="No Content"):y={message:L}}if(y&&this.isMaybeSingle&&(!((b=y==null?void 0:y.details)===null||b===void 0)&&b.includes("0 rows"))&&(y=null,j=200,M="OK"),y&&this.shouldThrowOnError)throw new n.default(y)}return{error:y,data:N,count:k,status:j,statusText:M}});return this.shouldThrowOnError||(f=f.catch(p=>{var g,x,b;return{error:{message:`${(g=p==null?void 0:p.name)!==null&&g!==void 0?g:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(x=p==null?void 0:p.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(b=p==null?void 0:p.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),f.then(l,u)}returns(){return this}overrideTypes(){return this}}return wa.default=s,wa}var vv;function ix(){if(vv)return ba;vv=1;var t=ba&&ba.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ba,"__esModule",{value:!0});const e=t(ox());class n extends e.default{select(i){let l=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:l=!0,nullsFirst:u,foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${i}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,l,{foreignTable:u,referencedTable:d=u}={}){const f=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(p,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:l=!1,settings:u=!1,buffers:d=!1,wal:f=!1,format:p="text"}={}){var g;const x=[i?"analyze":null,l?"verbose":null,u?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),b=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${b}"; options=${x};`,p==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ba.default=n,ba}var xv;function Ef(){if(xv)return ya;xv=1;var t=ya&&ya.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ya,"__esModule",{value:!0});const e=t(ix());class n extends e.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}in(i,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${u})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:u,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(i,`${f}fts${p}.${l}`),this}match(i){return Object.entries(i).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(i,l,u){return this.url.searchParams.append(i,`not.${l}.${u}`),this}or(i,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,l,u){return this.url.searchParams.append(i,`${l}.${u}`),this}}return ya.default=n,ya}var yv;function lx(){if(yv)return xa;yv=1;var t=xa&&xa.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(xa,"__esModule",{value:!0});const e=t(Ef());class n{constructor(i,{headers:l={},schema:u,fetch:d}){this.url=i,this.headers=l,this.schema=u,this.fetch=d}select(i,{head:l=!1,count:u}={}){const d=l?"HEAD":"GET";let f=!1;const p=(i??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",p),u&&(this.headers.Prefer=`count=${u}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:l,defaultToNull:u=!0}={}){const d="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),u||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const p=i.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(p.length>0){const g=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:l,ignoreDuplicates:u=!1,count:d,defaultToNull:f=!0}={}){const p="POST",g=[`resolution=${u?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&g.push(this.headers.Prefer),d&&g.push(`count=${d}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(i)){const x=i.reduce((b,y)=>b.concat(Object.keys(y)),[]);if(x.length>0){const b=[...new Set(x)].map(y=>`"${y}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:l}={}){const u="PATCH",d=[];return this.headers.Prefer&&d.push(this.headers.Prefer),l&&d.push(`count=${l}`),this.headers.Prefer=d.join(","),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const l="DELETE",u=[];return i&&u.push(`count=${i}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return xa.default=n,xa}var To={},Oo={},bv;function sS(){return bv||(bv=1,Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.version=void 0,Oo.version="0.0.0-automated"),Oo}var wv;function aS(){if(wv)return To;wv=1,Object.defineProperty(To,"__esModule",{value:!0}),To.DEFAULT_HEADERS=void 0;const t=sS();return To.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},To}var jv;function oS(){if(jv)return va;jv=1;var t=va&&va.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(va,"__esModule",{value:!0});const e=t(lx()),n=t(Ef()),s=aS();class i{constructor(u,{headers:d={},schema:f,fetch:p}={}){this.url=u,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),d),this.schemaName=f,this.fetch=p}from(u){const d=new URL(`${this.url}/${u}`);return new e.default(d,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new i(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:f=!1,get:p=!1,count:g}={}){let x;const b=new URL(`${this.url}/rpc/${u}`);let y;f||p?(x=f?"HEAD":"GET",Object.entries(d).filter(([k,j])=>j!==void 0).map(([k,j])=>[k,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([k,j])=>{b.searchParams.append(k,j)})):(x="POST",y=d);const N=Object.assign({},this.headers);return g&&(N.Prefer=`count=${g}`),new n.default({method:x,url:b,headers:N,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return va.default=i,va}var kv;function iS(){if(kv)return zt;kv=1;var t=zt&&zt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(zt,"__esModule",{value:!0}),zt.PostgrestError=zt.PostgrestBuilder=zt.PostgrestTransformBuilder=zt.PostgrestFilterBuilder=zt.PostgrestQueryBuilder=zt.PostgrestClient=void 0;const e=t(oS());zt.PostgrestClient=e.default;const n=t(lx());zt.PostgrestQueryBuilder=n.default;const s=t(Ef());zt.PostgrestFilterBuilder=s.default;const i=t(ix());zt.PostgrestTransformBuilder=i.default;const l=t(ox());zt.PostgrestBuilder=l.default;const u=t(ax());return zt.PostgrestError=u.default,zt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:u.default},zt}var lS=iS();const cS=xf(lS),{PostgrestClient:uS,PostgrestQueryBuilder:vT,PostgrestFilterBuilder:xT,PostgrestTransformBuilder:yT,PostgrestBuilder:bT,PostgrestError:wT}=cS;function dS(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const fS=dS(),hS="2.11.15",mS=`realtime-js/${hS}`,pS="1.0.0",cx=1e4,gS=1e3;var Bo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Bo||(Bo={}));var Xt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Xt||(Xt={}));var Hn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Hn||(Hn={}));var Gd;(function(t){t.websocket="websocket"})(Gd||(Gd={}));var zs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(zs||(zs={}));class vS{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const i=n.getUint8(1),l=n.getUint8(2);let u=this.HEADER_LENGTH+2;const d=s.decode(e.slice(u,u+i));u=u+i;const f=s.decode(e.slice(u,u+l));u=u+l;const p=JSON.parse(s.decode(e.slice(u,e.byteLength)));return{ref:null,topic:d,event:f,payload:p}}}class ux{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var it;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(it||(it={}));const Nv=(t,e,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((l,u)=>(l[u]=xS(u,t,e,i),l),{})},xS=(t,e,n,s)=>{const i=e.find(d=>d.name===t),l=i==null?void 0:i.type,u=n[t];return l&&!s.includes(l)?dx(l,u):Kd(u)},dx=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return jS(e,n)}switch(t){case it.bool:return yS(e);case it.float4:case it.float8:case it.int2:case it.int4:case it.int8:case it.numeric:case it.oid:return bS(e);case it.json:case it.jsonb:return wS(e);case it.timestamp:return kS(e);case it.abstime:case it.date:case it.daterange:case it.int4range:case it.int8range:case it.money:case it.reltime:case it.text:case it.time:case it.timestamptz:case it.timetz:case it.tsrange:case it.tstzrange:return Kd(e);default:return Kd(e)}},Kd=t=>t,yS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},bS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},wS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},jS=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>dx(e,d))}return t},kS=t=>typeof t=="string"?t.replace(" ","T"):t,fx=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class yd{constructor(e,n,s={},i=cx){this.channel=e,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Sv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Sv||(Sv={}));class Fo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fo.syncState(this.state,i,l,u),this.pendingDiffs.forEach(f=>{this.state=Fo.syncDiff(this.state,f,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},i=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Fo.syncDiff(this.state,i,l,u),d())}),this.onJoin((i,l,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:u})}),this.onLeave((i,l,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,i){const l=this.cloneDeep(e),u=this.transformState(n),d={},f={};return this.map(l,(p,g)=>{u[p]||(f[p]=g)}),this.map(u,(p,g)=>{const x=l[p];if(x){const b=g.map(j=>j.presence_ref),y=x.map(j=>j.presence_ref),N=g.filter(j=>y.indexOf(j.presence_ref)<0),k=x.filter(j=>b.indexOf(j.presence_ref)<0);N.length>0&&(d[p]=N),k.length>0&&(f[p]=k)}else d[p]=g}),this.syncDiff(l,{joins:d,leaves:f},s,i)}static syncDiff(e,n,s,i){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(l,(d,f)=>{var p;const g=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(f),g.length>0){const x=e[d].map(y=>y.presence_ref),b=g.filter(y=>x.indexOf(y.presence_ref)<0);e[d].unshift(...b)}s(d,g,f)}),this.map(u,(d,f)=>{let p=e[d];if(!p)return;const g=f.map(x=>x.presence_ref);p=p.filter(x=>g.indexOf(x.presence_ref)<0),e[d]=p,i(d,p,f),p.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const i=e[s];return"metas"in i?n[s]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Cv||(Cv={}));var Ev;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ev||(Ev={}));var Nr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Nr||(Nr={}));class _f{constructor(e,n={config:{}},s){this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=Xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new yd(this,Hn.join,this.params,this.timeout),this.rejoinTimer=new ux(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hn.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new Fo(this),this.broadcastEndpointURL=fx(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Xt.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params;this._onError(g=>e==null?void 0:e(Nr.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Nr.CLOSED));const f={},p={broadcast:l,presence:u,postgres_changes:(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&i!==void 0?i:[],private:d};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket.setAuth(),g===void 0){e==null||e(Nr.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,y=(x=b==null?void 0:b.length)!==null&&x!==void 0?x:0,N=[];for(let k=0;k<y;k++){const j=b[k],{filter:{event:M,schema:_,table:L,filter:S}}=j,P=g&&g[k];if(P&&P.event===M&&P.schema===_&&P.table===L&&P.filter===S)N.push(Object.assign(Object.assign({},j),{id:P.id}));else{this.unsubscribe(),this.state=Xt.errored,e==null||e(Nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(Nr.SUBSCRIBED);return}}).receive("error",g=>{this.state=Xt.errored,e==null||e(Nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this._on(e,n,s)}async send(e,n={}){var s,i;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:u}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=p.body)===null||i===void 0?void 0:i.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,f;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Xt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new yd(this,Hn.leave,{},e),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,s){const i=new AbortController,l=setTimeout(()=>i.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(l),u}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new yd(this,e,n,s);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var i,l;const u=e.toLocaleLowerCase(),{close:d,error:f,leave:p,join:g}=Hn;if(s&&[d,f,p,g].indexOf(u)>=0&&s!==this._joinRef())return;let b=this._onMessage(u,n,s);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var N,k,j;return((N=y.filter)===null||N===void 0?void 0:N.event)==="*"||((j=(k=y.filter)===null||k===void 0?void 0:k.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===u}).map(y=>y.callback(b,s)):(l=this.bindings[u])===null||l===void 0||l.filter(y=>{var N,k,j,M,_,L;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in y){const S=y.id,P=(N=y.filter)===null||N===void 0?void 0:N.event;return S&&((k=n.ids)===null||k===void 0?void 0:k.includes(S))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const S=(_=(M=y==null?void 0:y.filter)===null||M===void 0?void 0:M.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return S==="*"||S===((L=n==null?void 0:n.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===u}).map(y=>{if(typeof b=="object"&&"ids"in b){const N=b.data,{schema:k,table:j,commit_timestamp:M,type:_,errors:L}=N;b=Object.assign(Object.assign({},{schema:k,table:j,commit_timestamp:M,eventType:_,new:{},old:{},errors:L}),this._getPayloadRecords(N))}y.callback(b,s)})}_isClosed(){return this.state===Xt.closed}_isJoined(){return this.state===Xt.joined}_isJoining(){return this.state===Xt.joining}_isLeaving(){return this.state===Xt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const i=e.toLocaleLowerCase(),l={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&_f.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Hn.close,{},e)}_onError(e){this._on(Hn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Nv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Nv(e.columns,e.old_record)),n}}const _v=()=>{},NS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class SS{constructor(e,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cx,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_v,this.ref=0,this.logger=_v,this.conn=null,this.sendBuffer=[],this.serializer=new vS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...d)=>Ba(async()=>{const{default:f}=await Promise.resolve().then(()=>Fa);return{default:f}},void 0).then(({default:f})=>f(...d)):u=fetch,(...d)=>u(...d)},this.endPoint=`${e}/${Gd.websocket}`,this.httpEndpoint=fx(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(l,u)=>u(JSON.stringify(l)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ux(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=fS),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pS}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Bo.connecting:return zs.Connecting;case Bo.open:return zs.Open;case Bo.closing:return zs.Closing;default:return zs.Closed}}isConnected(){return this.connectionState()===zs.Open}channel(e,n={config:{}}){const s=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===s);if(i)return i;{const l=new _f(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:s,payload:i,ref:l}=e,u=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${s} (${l})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:mS};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Hn.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(gS,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:s,event:i,payload:l,ref:u}=n;s==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${s} ${i} ${u&&"("+u+")"||""}`,l),Array.from(this.channels).filter(d=>d._isMember(s)).forEach(d=>d._trigger(i,l,u)),this.stateChangeCallbacks.message.forEach(d=>d(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Hn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${s}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([NS],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class Lf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function $t(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class CS extends Lf{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zd extends Lf{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var ES=function(t,e,n,s){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{p(s.next(g))}catch(x){u(x)}}function f(g){try{p(s.throw(g))}catch(x){u(x)}}function p(g){g.done?l(g.value):i(g.value).then(d,f)}p((s=s.apply(t,e||[])).next())})};const hx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ba(async()=>{const{default:s}=await Promise.resolve().then(()=>Fa);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},_S=()=>ES(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ba(()=>Promise.resolve().then(()=>Fa),void 0)).Response:Response}),Jd=t=>{if(Array.isArray(t))return t.map(n=>Jd(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=Jd(s)}),e};var Ks=function(t,e,n,s){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{p(s.next(g))}catch(x){u(x)}}function f(g){try{p(s.throw(g))}catch(x){u(x)}}function p(g){g.done?l(g.value):i(g.value).then(d,f)}p((s=s.apply(t,e||[])).next())})};const bd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),LS=(t,e,n)=>Ks(void 0,void 0,void 0,function*(){const s=yield _S();t instanceof s&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new CS(bd(i),t.status||500))}).catch(i=>{e(new Zd(bd(i),i))}):e(new Zd(bd(t),t))}),PS=(t,e,n,s)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(i.body=JSON.stringify(s)),Object.assign(Object.assign({},i),n))};function li(t,e,n,s,i,l){return Ks(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(n,PS(e,s,i,l)).then(f=>{if(!f.ok)throw f;return s!=null&&s.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>LS(f,d,s))})})}function tc(t,e,n,s){return Ks(this,void 0,void 0,function*(){return li(t,"GET",e,n,s)})}function as(t,e,n,s,i){return Ks(this,void 0,void 0,function*(){return li(t,"POST",e,s,i,n)})}function MS(t,e,n,s,i){return Ks(this,void 0,void 0,function*(){return li(t,"PUT",e,s,i,n)})}function TS(t,e,n,s){return Ks(this,void 0,void 0,function*(){return li(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function mx(t,e,n,s,i){return Ks(this,void 0,void 0,function*(){return li(t,"DELETE",e,s,i,n)})}var un=function(t,e,n,s){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{p(s.next(g))}catch(x){u(x)}}function f(g){try{p(s.throw(g))}catch(x){u(x)}}function p(g){g.done?l(g.value):i(g.value).then(d,f)}p((s=s.apply(t,e||[])).next())})};const OS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class RS{constructor(e,n={},s,i){this.url=e,this.headers=n,this.bucketId=s,this.fetch=hx(i)}uploadOrUpdate(e,n,s,i){return un(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Lv),i);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",this.encodeMetadata(f))):(l=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),i!=null&&i.headers&&(d=Object.assign(Object.assign({},d),i.headers));const p=this._removeEmptyFolders(n),g=this._getFinalPath(p),x=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:e,body:l,headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{})),b=yield x.json();return x.ok?{data:{path:p,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(l){if($t(l))return{data:null,error:l};throw l}})}upload(e,n,s){return un(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,i){return un(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",n);try{let f;const p=Object.assign({upsert:Lv.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.append("cacheControl",p.cacheControl)):(f=s,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const x=yield this.fetch(d.toString(),{method:"PUT",body:f,headers:g}),b=yield x.json();return x.ok?{data:{path:l,fullPath:b.Key},error:null}:{data:null,error:b}}catch(f){if($t(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return un(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const l=yield as(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),u=new URL(this.url+l.url),d=u.searchParams.get("token");if(!d)throw new Lf("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}})}update(e,n,s){return un(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return un(this,void 0,void 0,function*(){try{return{data:yield as(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if($t(i))return{data:null,error:i};throw i}})}copy(e,n,s){return un(this,void 0,void 0,function*(){try{return{data:{path:(yield as(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if($t(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,s){return un(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),l=yield as(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(i){if($t(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,s){return un(this,void 0,void 0,function*(){try{const i=yield as(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(i){if($t(i))return{data:null,error:i};throw i}})}download(e,n){return un(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=l?`?${l}`:"";try{const d=this._getFinalPath(e);return{data:yield(yield tc(this.fetch,`${this.url}/${i}/${d}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if($t(d))return{data:null,error:d};throw d}})}info(e){return un(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield tc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Jd(s),error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}})}exists(e){return un(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield TS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if($t(s)&&s instanceof Zd){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),i=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&i.push(l);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&i.push(f);let p=i.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${p}`)}}}remove(e){return un(this,void 0,void 0,function*(){try{return{data:yield mx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}})}list(e,n,s){return un(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},OS),n),{prefix:e||""});return{data:yield as(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if($t(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const IS="2.7.1",DS={"X-Client-Info":`storage-js/${IS}`};var ja=function(t,e,n,s){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{p(s.next(g))}catch(x){u(x)}}function f(g){try{p(s.throw(g))}catch(x){u(x)}}function p(g){g.done?l(g.value):i(g.value).then(d,f)}p((s=s.apply(t,e||[])).next())})};class AS{constructor(e,n={},s){this.url=e,this.headers=Object.assign(Object.assign({},DS),n),this.fetch=hx(s)}listBuckets(){return ja(this,void 0,void 0,function*(){try{return{data:yield tc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if($t(e))return{data:null,error:e};throw e}})}getBucket(e){return ja(this,void 0,void 0,function*(){try{return{data:yield tc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return ja(this,void 0,void 0,function*(){try{return{data:yield as(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return ja(this,void 0,void 0,function*(){try{return{data:yield MS(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}})}emptyBucket(e){return ja(this,void 0,void 0,function*(){try{return{data:yield as(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ja(this,void 0,void 0,function*(){try{return{data:yield mx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}})}}class zS extends AS{constructor(e,n={},s){super(e,n,s)}from(e){return new RS(this.url,this.headers,e,this.fetch)}}const $S="2.50.2";let zo="";typeof Deno<"u"?zo="deno":typeof document<"u"?zo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zo="react-native":zo="node";const US={"X-Client-Info":`supabase-js-${zo}/${$S}`},BS={headers:US},FS={schema:"public"},WS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VS={};var HS=function(t,e,n,s){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{p(s.next(g))}catch(x){u(x)}}function f(g){try{p(s.throw(g))}catch(x){u(x)}}function p(g){g.done?l(g.value):i(g.value).then(d,f)}p((s=s.apply(t,e||[])).next())})};const qS=t=>{let e;return t?e=t:typeof fetch>"u"?e=rx:e=fetch,(...n)=>e(...n)},GS=()=>typeof Headers>"u"?sx:Headers,KS=(t,e,n)=>{const s=qS(n),i=GS();return(l,u)=>HS(void 0,void 0,void 0,function*(){var d;const f=(d=yield e())!==null&&d!==void 0?d:t;let p=new i(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),s(l,Object.assign(Object.assign({},u),{headers:p}))})};var ZS=function(t,e,n,s){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{p(s.next(g))}catch(x){u(x)}}function f(g){try{p(s.throw(g))}catch(x){u(x)}}function p(g){g.done?l(g.value):i(g.value).then(d,f)}p((s=s.apply(t,e||[])).next())})};function JS(t){return t.endsWith("/")?t:t+"/"}function YS(t,e){var n,s;const{db:i,auth:l,realtime:u,global:d}=t,{db:f,auth:p,realtime:g,global:x}=e,b={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},g),u),global:Object.assign(Object.assign(Object.assign({},x),d),{headers:Object.assign(Object.assign({},(n=x==null?void 0:x.headers)!==null&&n!==void 0?n:{}),(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>ZS(this,void 0,void 0,function*(){return""})};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}const px="2.70.0",La=30*1e3,Yd=3,wd=Yd*La,XS="http://localhost:9999",QS="supabase.auth.token",eC={"X-Client-Info":`gotrue-js/${px}`},Xd="X-Supabase-Api-Version",gx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nC=6e5;class Pf extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class rC extends Pf{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function sC(t){return Ae(t)&&t.name==="AuthApiError"}class vx extends Pf{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class vs extends Pf{constructor(e,n,s,i){super(e,s,i),this.name=n,this.status=s}}class ns extends vs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function aC(t){return Ae(t)&&t.name==="AuthSessionMissingError"}class _l extends vs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ll extends vs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Pl extends vs{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function oC(t){return Ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class Pv extends vs{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qd extends vs{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function jd(t){return Ae(t)&&t.name==="AuthRetryableFetchError"}class Mv extends vs{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Wo extends vs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const nc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tv=` 	
\r=`.split(""),iC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Tv.length;e+=1)t[Tv[e].charCodeAt(0)]=-2;for(let e=0;e<nc.length;e+=1)t[nc[e].charCodeAt(0)]=e;return t})();function Ov(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(nc[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(nc[s]),e.queuedBits-=6}}function xx(t,e,n){const s=iC[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Rv(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=u=>{uC(u,s,n)};for(let u=0;u<t.length;u+=1)xx(t.charCodeAt(u),i,l);return e.join("")}function lC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cC(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}lC(s,e)}}function uC(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function dC(t){const e=[],n={queue:0,queuedBits:0},s=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)xx(t.charCodeAt(i),n,s);return new Uint8Array(e)}function fC(t){const e=[];return cC(t,n=>e.push(n)),new Uint8Array(e)}function hC(t){const e=[],n={queue:0,queuedBits:0},s=i=>{e.push(i)};return t.forEach(i=>Ov(i,n,s)),Ov(null,n,s),e.join("")}function mC(t){return Math.round(Date.now()/1e3)+t}function pC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Wn=()=>typeof window<"u"&&typeof document<"u",Ds={tested:!1,writable:!1},Vo=()=>{if(!Wn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ds.tested)return Ds.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ds.tested=!0,Ds.writable=!0}catch{Ds.tested=!0,Ds.writable=!1}return Ds.writable};function gC(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return n.searchParams.forEach((s,i)=>{e[i]=s}),e}const yx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ba(async()=>{const{default:s}=await Promise.resolve().then(()=>Fa);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},vC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",bx=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ml=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Tl=async(t,e)=>{await t.removeItem(e)};class pc{constructor(){this.promise=new pc.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}pc.promiseConstructor=Promise;function kd(t){const e=t.split(".");if(e.length!==3)throw new Wo("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!tC.test(e[s]))throw new Wo("JWT not in base64url format");return{header:JSON.parse(Rv(e[0])),payload:JSON.parse(Rv(e[1])),signature:dC(e[2]),raw:{header:e[0],payload:e[1]}}}async function xC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function yC(t,e){return new Promise((s,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){s(u);return}}catch(u){if(!e(l,u)){i(u);return}}})()})}function bC(t){return("0"+t.toString(16)).substr(-2)}function wC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let l=0;l<56;l++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(e),Array.from(e,bC).join("")}async function jC(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function kC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await jC(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ka(t,e,n=!1){const s=wC();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await bx(t,`${e}-code-verifier`,i);const l=await kC(s);return[l,s===l?"plain":"s256"]}const NC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SC(t){const e=t.headers.get(Xd);if(!e||!e.match(NC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function CC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function EC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _C=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Na(t){if(!_C.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var LC=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n};const As=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),PC=[502,503,504];async function Iv(t){var e;if(!vC(t))throw new Qd(As(t),0);if(PC.includes(t.status))throw new Qd(As(t),t.status);let n;try{n=await t.json()}catch(l){throw new vx(As(l),l)}let s;const i=SC(t);if(i&&i.getTime()>=gx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Mv(As(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new ns}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Mv(As(n),t.status,n.weak_password.reasons);throw new rC(As(n),t.status||500,s)}const MC=(t,e,n,s)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function He(t,e,n,s){var i;const l=Object.assign({},s==null?void 0:s.headers);l[Xd]||(l[Xd]=gx["2024-01-01"].name),s!=null&&s.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(u.redirect_to=s.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await TC(t,e,n+d,{headers:l,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(f):{data:Object.assign({},f),error:null}}async function TC(t,e,n,s,i,l){const u=MC(e,s,i,l);let d;try{d=await t(n,Object.assign({},u))}catch(f){throw console.error(f),new Qd(As(f),0)}if(d.ok||await Iv(d),s!=null&&s.noResolveJson)return d;try{return await d.json()}catch(f){await Iv(f)}}function kr(t){var e;let n=null;DC(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=mC(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function Dv(t){const e=kr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function os(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function OC(t){return{data:t,error:null}}function RC(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:l}=t,u=LC(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:l},f=Object.assign({},u);return{data:{properties:d,user:f},error:null}}function IC(t){return t}function DC(t){return t.access_token&&t.refresh_token&&t.expires_in}const Nd=["global","local","others"];var AC=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n};class zC{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=yx(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Nd[0]){if(Nd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Nd.join(", ")}`);try{return await He(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await He(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:os})}catch(s){if(Ae(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=AC(e,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await He(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:RC,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await He(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:os})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,i,l,u,d,f;try{const p={nextPage:null,lastPage:0,total:0},g=await He(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:IC});if(g.error)throw g.error;const x=await g.json(),b=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,y=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(N=>{const k=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(N.split(";")[1].split("=")[1]);p[`${j}Page`]=k}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(Ae(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Na(e);try{return await He(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:os})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Na(e);try{return await He(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:os})}catch(s){if(Ae(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Na(e);try{return await He(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:os})}catch(s){if(Ae(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Na(e.userId);try{const{data:n,error:s}=await He(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Na(e.userId),Na(e.id);try{return{data:await He(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}}const $C={getItem:t=>Vo()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Vo()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Vo()&&globalThis.localStorage.removeItem(t)}};function Av(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function UC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Sa={debug:!!(globalThis&&Vo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class BC extends wx{}async function FC(t,e,n){Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new BC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Sa.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}UC();const WC={url:XS,storageKey:QS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zv(t,e,n){return await n()}class Jo{constructor(e){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jo.nextInstanceID,Jo.nextInstanceID+=1,this.instanceID>0&&Wn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},WC),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new zC({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=yx(i.fetch),this.lock=i.lock||zv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Wn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=FC:this.lock=zv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Vo()?this.storage=$C:(this.memoryStorage={},this.storage=Av(this.memoryStorage)):(this.memoryStorage={},this.storage=Av(this.memoryStorage)),Wn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${px}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=gC(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Wn()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:l}=await this._getSessionFromURL(n,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),oC(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ae(n)?{error:n}:{error:new vx("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,i;try{const l=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:kr}),{data:u,error:d}=l;if(d||!u)return{data:{user:null,session:null},error:d};const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(l){if(Ae(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var n,s,i;try{let l;if("email"in e){const{email:g,password:x,options:b}=e;let y=null,N=null;this.flowType==="pkce"&&([y,N]=await ka(this.storage,this.storageKey)),l=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:g,password:x,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:y,code_challenge_method:N},xform:kr})}else if("phone"in e){const{phone:g,password:x,options:b}=e;l=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(s=b==null?void 0:b.data)!==null&&s!==void 0?s:{},channel:(i=b==null?void 0:b.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:kr})}else throw new Ll("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return{data:{user:null,session:null},error:d};const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(l){if(Ae(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:d}=e;n=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Dv})}else if("phone"in e){const{phone:l,password:u,options:d}=e;n=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Dv})}else throw new Ll("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new _l}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,s,i,l,u,d,f,p,g,x,b,y;let N,k;if("message"in e)N=e.message,k=e.signature;else{const{chain:j,wallet:M,statement:_,options:L}=e;let S;if(Wn())if(typeof M=="object")S=M;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))S=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=M}const P=new URL((n=L==null?void 0:L.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const R=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L==null?void 0:L.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),_?{statement:_}:null));let O;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")O=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)O=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)N=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),k=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${P.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(s=L==null?void 0:L.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=L==null?void 0:L.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((u=L==null?void 0:L.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((d=L==null?void 0:L.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((f=L==null?void 0:L.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((p=L==null?void 0:L.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((x=(g=L==null?void 0:L.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...L.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const R=await S.signMessage(new TextEncoder().encode(N),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=R}}try{const{data:j,error:M}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:hC(k)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:kr});if(M)throw M;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new _l}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:M})}catch(j){if(Ae(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await Ml(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:l,error:u}=await He(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:kr});if(await Tl(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new _l}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:u})}catch(l){if(Ae(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:n,provider:s,token:i,access_token:l,nonce:u}=e,d=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:kr}),{data:f,error:p}=d;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new _l}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:p})}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,i,l,u;try{if("email"in e){const{email:d,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await ka(this.storage,this.storageKey));const{error:x}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in e){const{phone:d,options:f}=e,{data:p,error:g}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(l=f==null?void 0:f.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(u=f==null?void 0:f.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:g}}throw new Ll("You must provide either an email or phone number.")}catch(d){if(Ae(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var n,s;try{let i,l;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:d}=await He(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:kr});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(i){if(Ae(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,s,i;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await ka(this.storage,this.storageKey)),await He(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:OC})}catch(l){if(Ae(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new ns;const{error:i}=await He(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:i,options:l}=e,{error:u}=await He(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:s,type:i,options:l}=e,{data:u,error:d}=await He(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ll("You must provide either an email or phone number and a type")}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ml(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<wd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,p,g)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,p,g))})}return{data:{session:e},error:null}}const{session:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:os}):await this._useSession(async n=>{var s,i,l;const{data:u,error:d}=n;if(d)throw d;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ns}:await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:os})})}catch(n){if(Ae(n))return aC(n)&&(await this._removeSession(),await Tl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:i,error:l}=s;if(l)throw l;if(!i.session)throw new ns;const u=i.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await ka(this.storage,this.storageKey));const{data:p,error:g}=await He(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:u.access_token,xform:os});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(s){if(Ae(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ns;const n=Date.now()/1e3;let s=n,i=!0,l=null;const{payload:u}=kd(e.access_token);if(u.exp&&(s=u.exp,i=s<=n),i){const{session:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)throw f;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(Ae(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:u,error:d}=n;if(d)throw d;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new ns;const{session:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Wn())throw new Pl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Pl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Pv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Pv("No code detected.");const{data:_,error:L}=await this._exchangeCodeForSession(e.code);if(L)throw L;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:l,refresh_token:u,expires_in:d,expires_at:f,token_type:p}=e;if(!l||!d||!u||!p)throw new Pl("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(d);let b=g+x;f&&(b=parseInt(f));const y=b-g;y*1e3<=La&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${x}s`);const N=b-x;g-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,b,g):g-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,b,g);const{data:k,error:j}=await this._getUser(l);if(j)throw j;const M={provider_token:s,provider_refresh_token:i,access_token:l,expires_in:x,expires_at:b,refresh_token:u,token_type:p,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:e.type},error:null}}catch(s){if(Ae(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ml(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:l}=n;if(l)return{error:l};const u=(s=i.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(sC(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await Tl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=pC(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,i;try{const{data:{session:l},error:u}=n;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await ka(this.storage,this.storageKey,!0));try{return await He(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(Ae(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:s,error:i}=await this._useSession(async l=>{var u,d,f,p,g;const{data:x,error:b}=l;if(b)throw b;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await He(this.fetch,"GET",y,{headers:this.headers,jwt:(g=(p=x.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return Wn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Ae(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,i;const{data:l,error:u}=n;if(u)throw u;return await He(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await yC(async i=>(i>0&&await xC(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await He(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:kr})),(i,l)=>{const u=200*Math.pow(2,i);return l&&jd(l)&&Date.now()+u-s<La})}catch(s){if(this._debug(n,"error",s),Ae(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Wn()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Ml(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((e=s.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<wd;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${wd}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),jd(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new ns;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new pc;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new ns;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={session:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(i,"error",l),Ae(l)){const u={session:null,error:l};return jd(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,s=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(f){l.push(f)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await bx(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Tl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Wn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),La);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-e)/La);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${La}ms, refresh threshold is ${Yd} ticks`),i<=Yd&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof wx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await ka(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(d.toString())}if(s!=null&&s.queryParams){const l=new URLSearchParams(s.queryParams);i.push(l.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:i,error:l}=n;return l?{data:null,error:l}:await He(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,i;const{data:l,error:u}=n;if(u)return{data:null,error:u};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:p}=await He(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:l}=n;if(l)return{data:null,error:l};const{data:u,error:d}=await He(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:l}=n;return l?{data:null,error:l}:await He(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(e==null?void 0:e.factors)||[],i=s.filter(u=>u.factor_type==="totp"&&u.status==="verified"),l=s.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:s,totp:i,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:i},error:l}=e;if(l)return{data:null,error:l};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=kd(i.access_token);let d=null;u.aal&&(d=u.aal);let f=d;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(u=>u.kid===e);if(s||(s=this.jwks.keys.find(u=>u.kid===e),s&&this.jwks_cached_at+nC>Date.now()))return s;const{data:i,error:l}=await He(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;if(!i.keys||i.keys.length===0)throw new Wo("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),s=i.keys.find(u=>u.kid===e),!s)throw new Wo("No matching signing key found in JWKS");return s}async getClaims(e,n={keys:[]}){try{let s=e;if(!s){const{data:y,error:N}=await this.getSession();if(N||!y.session)return{data:null,error:N};s=y.session.access_token}const{header:i,payload:l,signature:u,raw:{header:d,payload:f}}=kd(s);if(CC(l.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(s);if(y)throw y;return{data:{claims:l,header:i,signature:u},error:null}}const p=EC(i.alg),g=await this.fetchJwk(i.kid,n),x=await crypto.subtle.importKey("jwk",g,p,!0,["verify"]);if(!await crypto.subtle.verify(p,x,u,fC(`${d}.${f}`)))throw new Wo("Invalid JWT signature");return{data:{claims:l,header:i,signature:u},error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}}}Jo.nextInstanceID=0;const VC=Jo;class HC extends VC{constructor(e){super(e)}}var qC=function(t,e,n,s){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{p(s.next(g))}catch(x){u(x)}}function f(g){try{p(s.throw(g))}catch(x){u(x)}}function p(g){g.done?l(g.value):i(g.value).then(d,f)}p((s=s.apply(t,e||[])).next())})};class GC{constructor(e,n,s){var i,l,u;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const d=JS(e),f=new URL(d);this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const p=`sb-${f.hostname.split(".")[0]}-auth-token`,g={db:FS,realtime:VS,auth:Object.assign(Object.assign({},WS),{storageKey:p}),global:BS},x=YS(s??{},g);this.storageKey=(i=x.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=x.global.headers)!==null&&l!==void 0?l:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(b,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=x.auth)!==null&&u!==void 0?u:{},this.headers,x.global.fetch),this.fetch=KS(n,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new uS(new URL("rest/v1",f).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),x.accessToken||this._listenForAuthEvents()}get functions(){return new XN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new zS(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return qC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:i,storageKey:l,flowType:u,lock:d,debug:f},p,g){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HC({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),p),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:i,flowType:u,lock:d,debug:f,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new SS(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const KC=(t,e,n)=>new GC(t,e,n),ZC="https://olzsyrwtrabmcfgmyedl.supabase.co",JC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9senN5cnd0cmFibWNmZ215ZWRsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAzOTY1ODcsImV4cCI6MjA2NTk3MjU4N30.v31zrstKbMZ4yTBP6Au-JT6ILKILW6vWt7tBYA8LjLk",ve=KC(ZC,JC),YC=Object.freeze(Object.defineProperty({__proto__:null,supabase:ve},Symbol.toStringTag,{value:"Module"})),jx=h.createContext(null),Tr=()=>{const t=h.useContext(jx);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},XC=({children:t})=>{const[e,n]=h.useState(null);h.useEffect(()=>{const f=localStorage.getItem("currentUser");if(f)try{n(JSON.parse(f))}catch{localStorage.removeItem("currentUser")}},[]);const s=async(f,p)=>{try{const{data:g,error:x}=await ve.from("users").select("*").eq("email",f).maybeSingle();if(x||!g)return{success:!1,message:"No se encontraron datos de usuario"};let b={...g,userData:{name:g.name,avatar:g.avatar}};if(g.type==="business"){const{data:y}=await ve.from("businesses").select("*").eq("owner_id",g.id).maybeSingle();b.businessData=y}return n(b),localStorage.setItem("currentUser",JSON.stringify(b)),{success:!0,message:"Inicio de sesin exitoso"}}catch(g){return{success:!1,message:g.message||"Error en el sistema de autenticacin"}}},i=async(f,p)=>{try{const{data:g,error:x}=await ve.from("users").insert([{email:f.email,type:p,name:f.name,avatar:f.avatar||f.logo||null}]).select().single();if(x||!g)return{success:!1,message:(x==null?void 0:x.message)||"Error al crear usuario en tabla users"};let b=null;if(p==="business"){const{data:N,error:k}=await ve.from("businesses").insert([{name:f.name,description:f.description,category:f.category,island:f.island,location:f.location,coverImage:f.coverImage,logo:f.logo,rating:0,priceRange:f.priceRange,featured:!1,owner_id:g.id,amenities:f.amenities||[],contact:{phone:f.phone,email:f.email,website:f.website,facebook:f.facebook,instagram:f.instagram,twitter:f.twitter,tiktok:f.tiktok,whatsapp:f.whatsapp},facebook:f.facebook,instagram:f.instagram,twitter:f.twitter,tiktok:f.tiktok}]).select().single();if(k||!N)return{success:!1,message:(k==null?void 0:k.message)||"Error al crear negocio"};b=N}const y=p==="business"?{...g,businessData:b}:{...g,userData:{name:g.name,avatar:g.avatar}};return n(y),localStorage.setItem("currentUser",JSON.stringify(y)),{success:!0,message:"Registro completado correctamente."}}catch(g){return{success:!1,message:g.message||"Error al registrar usuario"}}},l=async f=>{if(!e)return!1;try{const{error:p}=await ve.from("users").update({name:f.name,avatar:f.avatar}).eq("id",e.id);if(p)return!1;const g={...e,userData:{...e.userData,name:f.name,avatar:f.avatar},email:e.email};return n(g),localStorage.setItem("currentUser",JSON.stringify(g)),!0}catch{return!1}},u=()=>{n(null),localStorage.removeItem("currentUser")},d=async f=>({error:new Error("Recuperacin de contrasea deshabilitada")});return a.jsx(jx.Provider,{value:{user:e,login:s,register:i,logout:u,updateProfile:l,isAuthenticated:!!e,isBusiness:(e==null?void 0:e.type)==="business",isUser:(e==null?void 0:e.type)==="user",recoverPassword:d},children:t})},QC=h.createContext(null),eE=({children:t})=>{const[e,n]=h.useState([]),{user:s}=Tr();h.useEffect(()=>{},[]);const i=b=>e.filter(y=>y.businessId===b).sort((y,N)=>new Date(N.createdAt).getTime()-new Date(y.createdAt).getTime()),l=async(b,y,N,k="text")=>{if(!s||s.type!=="business")return!1;try{return!!(await(await fetch(`http://localhost:3001/api/businesses/${b}/posts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"Publicacin",content:y,image:N})})).json()).success}catch(j){return console.error("Error creating post:",j),!1}},u=async b=>{if(!s)return!1;try{const y=e.map(N=>{if(N.id===b){const k=[...N.likes],j=k.indexOf(s.id);return j>-1?k.splice(j,1):k.push(s.id),{...N,likes:k}}return N});return n(y),!0}catch(y){return console.error("Error toggling like:",y),!1}},d=async(b,y)=>{var N,k,j,M;if(!s||!y.trim())return!1;try{const _={id:Date.now().toString(),postId:b,userId:s.id,userName:s.type==="business"?((N=s.businessData)==null?void 0:N.name)||"Negocio":((k=s.userData)==null?void 0:k.name)||"Usuario",userAvatar:s.type==="business"?(j=s.businessData)==null?void 0:j.logo:(M=s.userData)==null?void 0:M.avatar,content:y.trim(),createdAt:new Date().toISOString()},L=e.map(S=>S.id===b?{...S,comments:[...S.comments,_]}:S);return n(L),!0}catch(_){return console.error("Error adding comment:",_),!1}},f=async b=>{var y;if(!s||s.type!=="business")return!1;try{const N=e.find(j=>j.id===b);if(!N||N.businessId!==((y=s.businessData)==null?void 0:y.id))return!1;const k=e.filter(j=>j.id!==b);return n(k),!0}catch(N){return console.error("Error deleting post:",N),!1}},p=b=>{if(!s)return!1;const y=e.find(N=>N.id===b);return(y==null?void 0:y.likes.includes(s.id))||!1},g=b=>{const y=e.find(N=>N.id===b);return(y==null?void 0:y.likes.length)||0},x=b=>{const y=e.find(N=>N.id===b);return(y==null?void 0:y.comments.length)||0};return a.jsx(QC.Provider,{value:{posts:e,getPostsByBusiness:i,createPost:l,toggleLike:u,addComment:d,deletePost:f,isLiked:p,getLikesCount:g,getCommentsCount:x},children:t})};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,e)=>{const n=h.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:d="",children:f,...p},g)=>h.createElement("svg",{ref:g,...tE,width:i,height:i,stroke:s,strokeWidth:u?Number(l)*24/Number(i):l,className:["lucide",`lucide-${nE(t)}`,d].join(" "),...p},[...e.map(([x,b])=>h.createElement(x,b)),...Array.isArray(f)?f:[f]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=Te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=Te("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=Te("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=Te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=Te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=Te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=Te("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=Te("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=Te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=Te("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=Te("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=Te("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=Te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=Te("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=Te("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=Te("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=Te("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=Te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=Te("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=Te("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=Te("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=Te("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=Te("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=Te("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=Te("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=Te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=Te("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=Te("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=Te("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Wv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Mx(...t){return e=>{let n=!1;const s=t.map(i=>{const l=Wv(i,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<s.length;i++){const l=s[i];typeof l=="function"?l():Wv(t[i],null)}}}}function ht(...t){return h.useCallback(Mx(...t),t)}function Da(t){const e=wE(t),n=h.forwardRef((s,i)=>{const{children:l,...u}=s,d=h.Children.toArray(l),f=d.find(kE);if(f){const p=f.props.children,g=d.map(x=>x===f?h.Children.count(p)>1?h.Children.only(null):h.isValidElement(p)?p.props.children:null:x);return a.jsx(e,{...u,ref:i,children:h.isValidElement(p)?h.cloneElement(p,void 0,g):null})}return a.jsx(e,{...u,ref:i,children:l})});return n.displayName=`${t}.Slot`,n}var bE=Da("Slot");function wE(t){const e=h.forwardRef((n,s)=>{const{children:i,...l}=n;if(h.isValidElement(i)){const u=SE(i),d=NE(l,i.props);return i.type!==h.Fragment&&(d.ref=s?Mx(s,u):u),h.cloneElement(i,d)}return h.Children.count(i)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var jE=Symbol("radix.slottable");function kE(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jE}function NE(t,e){const n={...e};for(const s in e){const i=t[s],l=e[s];/^on[A-Z]/.test(s)?i&&l?n[s]=(...d)=>{const f=l(...d);return i(...d),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...l}:s==="className"&&(n[s]=[i,l].filter(Boolean).join(" "))}return{...t,...n}}function SE(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Tx(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Tx(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Ox(){for(var t,e,n=0,s="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Tx(t))&&(s&&(s+=" "),s+=e);return s}const Vv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Hv=Ox,Rx=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return Hv(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:l}=e,u=Object.keys(i).map(p=>{const g=n==null?void 0:n[p],x=l==null?void 0:l[p];if(g===null)return null;const b=Vv(g)||Vv(x);return i[p][b]}),d=n&&Object.entries(n).reduce((p,g)=>{let[x,b]=g;return b===void 0||(p[x]=b),p},{}),f=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((p,g)=>{let{class:x,className:b,...y}=g;return Object.entries(y).every(N=>{let[k,j]=N;return Array.isArray(j)?j.includes({...l,...d}[k]):{...l,...d}[k]===j})?[...p,x,b]:p},[]);return Hv(t,u,f,n==null?void 0:n.class,n==null?void 0:n.className)},Mf="-",CE=t=>{const e=_E(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{const d=u.split(Mf);return d[0]===""&&d.length!==1&&d.shift(),Ix(d,e)||EE(u)},getConflictingClassGroupIds:(u,d)=>{const f=n[u]||[];return d&&s[u]?[...f,...s[u]]:f}}},Ix=(t,e)=>{var u;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),i=s?Ix(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const l=t.join(Mf);return(u=e.validators.find(({validator:d})=>d(l)))==null?void 0:u.classGroupId},qv=/^\[(.+)\]$/,EE=t=>{if(qv.test(t)){const e=qv.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},_E=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return PE(Object.entries(t.classGroups),n).forEach(([l,u])=>{rf(u,s,l,e)}),s},rf=(t,e,n,s)=>{t.forEach(i=>{if(typeof i=="string"){const l=i===""?e:Gv(e,i);l.classGroupId=n;return}if(typeof i=="function"){if(LE(i)){rf(i(s),e,n,s);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([l,u])=>{rf(u,Gv(e,l),n,s)})})},Gv=(t,e)=>{let n=t;return e.split(Mf).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},LE=t=>t.isThemeGetter,PE=(t,e)=>e?t.map(([n,s])=>{const i=s.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([u,d])=>[e+u,d])):l);return[n,i]}):t,ME=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const i=(l,u)=>{n.set(l,u),e++,e>t&&(e=0,s=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=s.get(l))!==void 0)return i(l,u),u},set(l,u){n.has(l)?n.set(l,u):i(l,u)}}},Dx="!",TE=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,i=e[0],l=e.length,u=d=>{const f=[];let p=0,g=0,x;for(let j=0;j<d.length;j++){let M=d[j];if(p===0){if(M===i&&(s||d.slice(j,j+l)===e)){f.push(d.slice(g,j)),g=j+l;continue}if(M==="/"){x=j;continue}}M==="["?p++:M==="]"&&p--}const b=f.length===0?d:d.substring(g),y=b.startsWith(Dx),N=y?b.substring(1):b,k=x&&x>g?x-g:void 0;return{modifiers:f,hasImportantModifier:y,baseClassName:N,maybePostfixModifierPosition:k}};return n?d=>n({className:d,parseClassName:u}):u},OE=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},RE=t=>({cache:ME(t.cacheSize),parseClassName:TE(t),...CE(t)}),IE=/\s+/,DE=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=e,l=[],u=t.trim().split(IE);let d="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{modifiers:g,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:y}=n(p);let N=!!y,k=s(N?b.substring(0,y):b);if(!k){if(!N){d=p+(d.length>0?" "+d:d);continue}if(k=s(b),!k){d=p+(d.length>0?" "+d:d);continue}N=!1}const j=OE(g).join(":"),M=x?j+Dx:j,_=M+k;if(l.includes(_))continue;l.push(_);const L=i(k,N);for(let S=0;S<L.length;++S){const P=L[S];l.push(M+P)}d=p+(d.length>0?" "+d:d)}return d};function AE(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Ax(e))&&(s&&(s+=" "),s+=n);return s}const Ax=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=Ax(t[s]))&&(n&&(n+=" "),n+=e);return n};function zE(t,...e){let n,s,i,l=u;function u(f){const p=e.reduce((g,x)=>x(g),t());return n=RE(p),s=n.cache.get,i=n.cache.set,l=d,d(f)}function d(f){const p=s(f);if(p)return p;const g=DE(f,n);return i(f,g),g}return function(){return l(AE.apply(null,arguments))}}const ut=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},zx=/^\[(?:([a-z-]+):)?(.+)\]$/i,$E=/^\d+\/\d+$/,UE=new Set(["px","full","screen"]),BE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,VE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jr=t=>Ma(t)||UE.has(t)||$E.test(t),Xr=t=>Wa(t,"length",QE),Ma=t=>!!t&&!Number.isNaN(Number(t)),Sd=t=>Wa(t,"number",Ma),Io=t=>!!t&&Number.isInteger(Number(t)),qE=t=>t.endsWith("%")&&Ma(t.slice(0,-1)),ze=t=>zx.test(t),Qr=t=>BE.test(t),GE=new Set(["length","size","percentage"]),KE=t=>Wa(t,GE,$x),ZE=t=>Wa(t,"position",$x),JE=new Set(["image","url"]),YE=t=>Wa(t,JE,t_),XE=t=>Wa(t,"",e_),Do=()=>!0,Wa=(t,e,n)=>{const s=zx.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},QE=t=>FE.test(t)&&!WE.test(t),$x=()=>!1,e_=t=>VE.test(t),t_=t=>HE.test(t),n_=()=>{const t=ut("colors"),e=ut("spacing"),n=ut("blur"),s=ut("brightness"),i=ut("borderColor"),l=ut("borderRadius"),u=ut("borderSpacing"),d=ut("borderWidth"),f=ut("contrast"),p=ut("grayscale"),g=ut("hueRotate"),x=ut("invert"),b=ut("gap"),y=ut("gradientColorStops"),N=ut("gradientColorStopPositions"),k=ut("inset"),j=ut("margin"),M=ut("opacity"),_=ut("padding"),L=ut("saturate"),S=ut("scale"),P=ut("sepia"),R=ut("skew"),O=ut("space"),F=ut("translate"),W=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto",ze,e],J=()=>[ze,e],re=()=>["",jr,Xr],ee=()=>["auto",Ma,ze],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",ze],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>[Ma,ze];return{cacheSize:500,separator:":",theme:{colors:[Do],spacing:[jr,Xr],blur:["none","",Qr,ze],brightness:E(),borderColor:[t],borderRadius:["none","","full",Qr,ze],borderSpacing:J(),borderWidth:re(),contrast:E(),grayscale:D(),hueRotate:E(),invert:D(),gap:J(),gradientColorStops:[t],gradientColorStopPositions:[qE,Xr],inset:Q(),margin:Q(),opacity:E(),padding:J(),saturate:E(),scale:E(),sepia:D(),skew:E(),space:J(),translate:J()},classGroups:{aspect:[{aspect:["auto","square","video",ze]}],container:["container"],columns:[{columns:[Qr]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),ze]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[k]}],"inset-x":[{"inset-x":[k]}],"inset-y":[{"inset-y":[k]}],start:[{start:[k]}],end:[{end:[k]}],top:[{top:[k]}],right:[{right:[k]}],bottom:[{bottom:[k]}],left:[{left:[k]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Io,ze]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ze]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Io,ze]}],"grid-cols":[{"grid-cols":[Do]}],"col-start-end":[{col:["auto",{span:["full",Io,ze]},ze]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[Do]}],"row-start-end":[{row:["auto",{span:[Io,ze]},ze]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ze]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ze,e]}],"min-w":[{"min-w":[ze,e,"min","max","fit"]}],"max-w":[{"max-w":[ze,e,"none","full","min","max","fit","prose",{screen:[Qr]},Qr]}],h:[{h:[ze,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ze,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ze,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ze,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Qr,Xr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sd]}],"font-family":[{font:[Do]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ze]}],"line-clamp":[{"line-clamp":["none",Ma,Sd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",jr,ze]}],"list-image":[{"list-image":["none",ze]}],"list-style-type":[{list:["none","disc","decimal",ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[M]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[M]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",jr,Xr]}],"underline-offset":[{"underline-offset":["auto",jr,ze]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:J()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[M]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),ZE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",KE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},YE]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[M]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[M]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[jr,ze]}],"outline-w":[{outline:[jr,Xr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[M]}],"ring-offset-w":[{"ring-offset":[jr,Xr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Qr,XE]}],"shadow-color":[{shadow:[Do]}],opacity:[{opacity:[M]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Qr,ze]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[x]}],saturate:[{saturate:[L]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[M]}],"backdrop-saturate":[{"backdrop-saturate":[L]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ze]}],duration:[{duration:E()}],ease:[{ease:["linear","in","out","in-out",ze]}],delay:[{delay:E()}],animate:[{animate:["none","spin","ping","pulse","bounce",ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Io,ze]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ze]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ze]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":J()}],"scroll-mx":[{"scroll-mx":J()}],"scroll-my":[{"scroll-my":J()}],"scroll-ms":[{"scroll-ms":J()}],"scroll-me":[{"scroll-me":J()}],"scroll-mt":[{"scroll-mt":J()}],"scroll-mr":[{"scroll-mr":J()}],"scroll-mb":[{"scroll-mb":J()}],"scroll-ml":[{"scroll-ml":J()}],"scroll-p":[{"scroll-p":J()}],"scroll-px":[{"scroll-px":J()}],"scroll-py":[{"scroll-py":J()}],"scroll-ps":[{"scroll-ps":J()}],"scroll-pe":[{"scroll-pe":J()}],"scroll-pt":[{"scroll-pt":J()}],"scroll-pr":[{"scroll-pr":J()}],"scroll-pb":[{"scroll-pb":J()}],"scroll-pl":[{"scroll-pl":J()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ze]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[jr,Xr,Sd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},r_=zE(n_);function Je(...t){return r_(Ox(t))}const s_=Rx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-zinc-300",{variants:{variant:{default:"bg-zinc-900 text-zinc-50 shadow hover:bg-zinc-900/90 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90",destructive:"bg-red-500 text-zinc-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-zinc-50 dark:hover:bg-red-900/90",outline:"border border-zinc-200 bg-white shadow-sm hover:bg-zinc-100 hover:text-zinc-900 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",secondary:"bg-zinc-100 text-zinc-900 shadow-sm hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",ghost:"hover:bg-zinc-100 hover:text-zinc-900 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",link:"text-zinc-900 underline-offset-4 hover:underline dark:text-zinc-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ie=h.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...i},l)=>{const u=s?bE:"button";return a.jsx(u,{className:Je(s_({variant:e,size:n,className:t})),ref:l,...i})});ie.displayName="Button";const Cr=h.forwardRef(({className:t,type:e,...n},s)=>a.jsx("input",{type:e,className:Je("flex h-9 w-full rounded-md border border-zinc-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-zinc-950 placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",t),ref:s,...n}));Cr.displayName="Input";const es=t=>t.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").trim(),Fs=()=>{const[t,e]=h.useState(null),[n,s]=h.useState(!0),[i,l]=h.useState(null),[u,d]=h.useState({}),[f,p]=h.useState({query:"",category:"",island:"",priceRange:""});h.useEffect(()=>{(async()=>{try{s(!0);const{data:L,error:S}=await ve.from("businesses").select("*, followers(count)").returns();if(S)throw S;const P={},R=L.map(O=>{var A,Q;P[String(O.id)]=((Q=(A=O.followers)==null?void 0:A[0])==null?void 0:Q.count)||0;const{followers:F,...W}=O;return W});e({businesses:R}),d(P)}catch(L){l(L.message||"Error desconocido")}finally{s(!1)}})()},[]);const g=h.useMemo(()=>t?Array.from(new Set(t.businesses.map(_=>{var L;return(L=_.category)==null?void 0:L.trim()}))).filter(Boolean).sort():[],[t]),x=h.useMemo(()=>t?Array.from(new Set(t.businesses.map(_=>{var L;return(L=_.island)==null?void 0:L.trim()}))).filter(Boolean).sort():[],[t]),b=h.useMemo(()=>{if(!t)return[];const _=es(f.query);return t.businesses.filter(L=>{if(L.is_public===!1)return!1;const S=es(L.name),P=es(L.description||""),R=es(L.location||""),O=!_||S.includes(_)||P.includes(_)||R.includes(_),F=!f.category||es(L.category)===es(f.category),W=!f.island||es(L.island)===es(f.island),A=!f.priceRange||L.priceRange===f.priceRange;return O&&F&&W&&A})},[t,f]),y=h.useMemo(()=>t?[...t.businesses].sort((_,L)=>(u[L.id]||0)-(u[_.id]||0)).map((_,L)=>({..._,featured:L<6,followers:u[_.id]||0})):[],[t,u]),N=h.useMemo(()=>y.filter(_=>_.featured),[y]);return{businesses:b,featuredBusinesses:N,mostFollowedBusinesses:y,categories:g,islands:x,filters:f,loading:n,error:i,updateFilters:_=>{p(L=>({...L,..._}))},clearFilters:()=>{p({query:"",category:"",island:"",priceRange:""})},getBusinessById:_=>t==null?void 0:t.businesses.find(L=>L.id===_),totalBusinesses:(t==null?void 0:t.businesses.length)||0,filteredCount:b.length,followersMap:u}},kn=()=>{const[t,e]=h.useState(!1),[n,s]=h.useState(!1),[i,l]=h.useState(""),[u,d]=h.useState(!1),[f,p]=h.useState(!1),g=ii(),x=Jn(),{businesses:b}=Fs(),y=[{name:"Inicio",href:"/",icon:cE},{name:"Directorio",href:"/directorio",icon:_r}],N=j=>g.pathname===j,k=i.length>0?b.filter(j=>j.name.toLowerCase().includes(i.toLowerCase())):[];return a.jsxs("header",{className:"bg-white shadow-md border-b border-gray-200 sticky top-0 z-50",children:[a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs(vt,{to:"/",className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Qt,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"hidden sm:block",children:[a.jsx("span",{className:"text-xl font-bold text-blue-600",children:"RoaBusiness"}),a.jsx("span",{className:"text-sm text-gray-600 block leading-none",children:"Directory"})]})]}),a.jsx("div",{className:"hidden md:flex flex-1 max-w-lg mx-8 relative",children:a.jsxs("div",{className:"relative w-full",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:a.jsx(Xo,{className:"h-4 w-4 text-gray-400"})}),a.jsx(Cr,{type:"text",placeholder:"Buscar negocios, hoteles, restaurantes...",value:i,onChange:j=>{l(j.target.value),d(j.target.value.length>0)},onFocus:()=>d(i.length>0),onBlur:()=>setTimeout(()=>d(!1),150),className:"w-full pl-10 py-2 bg-gray-100 border-gray-200 rounded-full focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoComplete:"off"}),u&&k.length>0&&a.jsx("div",{className:"absolute left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-72 overflow-y-auto",children:k.map(j=>a.jsxs("button",{className:"w-full flex items-center px-4 py-2 hover:bg-blue-50 text-left gap-3",onMouseDown:()=>{l(""),d(!1),x(`/negocio/${j.id}`)},children:[a.jsx("img",{src:j.logo,alt:j.name,className:"w-8 h-8 rounded-full object-cover border border-gray-200"}),a.jsx("span",{className:"font-medium text-gray-800",children:j.name}),a.jsx("span",{className:"ml-auto text-xs text-gray-500",children:j.island})]},j.id))})]})}),a.jsx("nav",{className:"hidden md:flex items-center space-x-1",children:y.map(j=>{const M=j.icon;return a.jsxs(vt,{to:j.href,className:Je("flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200",N(j.href)?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600 hover:bg-gray-50"),children:[a.jsx(M,{className:"h-4 w-4 mr-2"}),j.name]},j.name)})}),a.jsx("div",{className:"md:hidden",children:a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>e(!t),className:"text-gray-600 hover:text-blue-600",children:t?a.jsx(ur,{className:"h-6 w-6"}):a.jsx(Ul,{className:"h-6 w-6"})})})]}),a.jsx("div",{className:"md:hidden pb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:a.jsx(Xo,{className:"h-4 w-4 text-gray-400"})}),a.jsx(Cr,{type:"text",placeholder:"Buscar...",value:i,onChange:j=>{l(j.target.value),d(j.target.value.length>0)},onFocus:()=>d(i.length>0),onBlur:()=>setTimeout(()=>d(!1),150),className:"w-full pl-10 py-2 bg-gray-100 border-gray-200 rounded-full"}),u&&k.length>0&&a.jsx("div",{className:"absolute left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-72 overflow-y-auto",children:k.map(j=>a.jsxs("button",{className:"w-full flex items-center px-4 py-2 hover:bg-blue-50 text-left gap-3",onMouseDown:()=>{l(""),d(!1),x(`/negocio/${j.id}`)},children:[a.jsx("img",{src:j.logo,alt:j.name,className:"w-8 h-8 rounded-full object-cover border border-gray-200"}),a.jsx("span",{className:"font-medium text-gray-800",children:j.name}),a.jsx("span",{className:"ml-auto text-xs text-gray-500",children:j.island})]},j.id))})]})})]}),t&&a.jsx("div",{className:"md:hidden bg-white border-t border-gray-200",children:a.jsx("nav",{className:"px-4 py-3 space-y-1",children:y.map(j=>{const M=j.icon;return a.jsxs(vt,{to:j.href,onClick:()=>e(!1),className:Je("flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200",N(j.href)?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-blue-600 hover:bg-gray-50"),children:[a.jsx(M,{className:"h-4 w-4 mr-3"}),j.name]},j.name)})})})]})},Qo=()=>a.jsx("footer",{className:"bg-white text-gray-800 border-t border-gray-200",children:a.jsxs("div",{className:"container mx-auto px-6 py-14",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-10",children:[a.jsxs("div",{className:"md:col-span-2 space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-tr from-yellow-400 via-red-400 to-pink-500 rounded-full flex items-center justify-center shadow-lg shadow-pink-300/50",children:a.jsx(Qt,{className:"h-7 w-7 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-extrabold text-pink-600 leading-none",children:"RoaBusiness"}),a.jsx("p",{className:"text-pink-400 text-sm -mt-1",children:"Tu gua completa de Honduras"})]})]}),a.jsx("p",{className:"text-gray-600 max-w-lg leading-relaxed",children:"Descubre los mejores negocios, restaurantes, hoteles y actividades en las hermosas Islas de la Baha. Tu puerta de entrada al paraso caribeo de Honduras."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold mb-6 text-pink-600 tracking-wide",children:"Enlaces Rpidos"}),a.jsx("ul",{className:"space-y-3",children:[{label:"Inicio",to:"/"},{label:"Directorio de Negocios",to:"/directorio"},{label:"Sobre las Islas",to:"/sobre-las-islas"},{label:"Contacto",to:"/contacto"}].map(({label:t,to:e})=>a.jsx("li",{children:a.jsx(vt,{to:e,className:"text-gray-600 hover:text-pink-600 transition-colors",children:t})},e))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold mb-6 text-pink-600 tracking-wide",children:"Nuestras Islas"}),a.jsx("ul",{className:"space-y-4 text-gray-600",children:[{name:"Roatn",desc:"La isla principal"},{name:"Utila",desc:"Paraso del buceo"},{name:"Guanaja",desc:"La isla verde"}].map(({name:t,desc:e})=>a.jsxs("li",{className:"hover:text-pink-600 transition-colors cursor-default",children:[a.jsx("p",{className:"font-semibold text-lg",children:t}),a.jsx("p",{className:"text-sm",children:e})]},t))})]})]}),a.jsxs("div",{className:"border-t border-pink-200 mt-12 pt-8 flex flex-col md:flex-row items-center justify-between text-sm text-gray-500 space-y-4 md:space-y-0",children:[a.jsx("p",{children:" 2025 RoaBusiness. Todos los derechos reservados."}),a.jsxs("div",{className:"flex space-x-8",children:[a.jsx(vt,{to:"/privacidad",className:"hover:text-pink-600 transition-colors",children:"Poltica de Privacidad"}),a.jsx(vt,{to:"/terminos",className:"hover:text-pink-600 transition-colors",children:"Trminos de Uso"})]})]})]})}),a_=Rx("inline-flex items-center rounded-md border border-zinc-200 px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 dark:border-zinc-800 dark:focus:ring-zinc-300",{variants:{variant:{default:"border-transparent bg-zinc-900 text-zinc-50 shadow hover:bg-zinc-900/80 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/80",secondary:"border-transparent bg-zinc-100 text-zinc-900 hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",destructive:"border-transparent bg-red-500 text-zinc-50 shadow hover:bg-red-500/80 dark:bg-red-900 dark:text-zinc-50 dark:hover:bg-red-900/80",outline:"text-zinc-950 dark:text-zinc-50"}},defaultVariants:{variant:"default"}});function xt({className:t,variant:e,...n}){return a.jsx("div",{className:Je(a_({variant:e}),t),...n})}function Ge(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function o_(t,e){const n=h.createContext(e),s=l=>{const{children:u,...d}=l,f=h.useMemo(()=>d,Object.values(d));return a.jsx(n.Provider,{value:f,children:u})};s.displayName=t+"Provider";function i(l){const u=h.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[s,i]}function xs(t,e=[]){let n=[];function s(l,u){const d=h.createContext(u),f=n.length;n=[...n,u];const p=x=>{var M;const{scope:b,children:y,...N}=x,k=((M=b==null?void 0:b[t])==null?void 0:M[f])||d,j=h.useMemo(()=>N,Object.values(N));return a.jsx(k.Provider,{value:j,children:y})};p.displayName=l+"Provider";function g(x,b){var k;const y=((k=b==null?void 0:b[t])==null?void 0:k[f])||d,N=h.useContext(y);if(N)return N;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[p,g]}const i=()=>{const l=n.map(u=>h.createContext(u));return function(d){const f=(d==null?void 0:d[t])||l;return h.useMemo(()=>({[`__scope${t}`]:{...d,[t]:f}}),[d,f])}};return i.scopeName=t,[s,i_(i,...e)]}function i_(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=s.reduce((d,{useScope:f,scopeName:p})=>{const x=f(l)[`__scope${p}`];return{...d,...x}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}var Ot=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},l_=yf[" useId ".trim().toString()]||(()=>{}),c_=0;function ds(t){const[e,n]=h.useState(l_());return Ot(()=>{n(s=>s??String(c_++))},[t]),e?`radix-${e}`:""}var u_=yf[" useInsertionEffect ".trim().toString()]||Ot;function Aa({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[i,l,u]=d_({defaultProp:e,onChange:n}),d=t!==void 0,f=d?t:i;{const g=h.useRef(t!==void 0);h.useEffect(()=>{const x=g.current;x!==d&&console.warn(`${s} is changing from ${x?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,s])}const p=h.useCallback(g=>{var x;if(d){const b=f_(g)?g(t):g;b!==t&&((x=u.current)==null||x.call(u,b))}else l(g)},[d,t,l,u]);return[f,p]}function d_({defaultProp:t,onChange:e}){const[n,s]=h.useState(t),i=h.useRef(n),l=h.useRef(e);return u_(()=>{l.current=e},[e]),h.useEffect(()=>{var u;i.current!==n&&((u=l.current)==null||u.call(l,n),i.current=n)},[n,i]),[n,s,l]}function f_(t){return typeof t=="function"}var h_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ve=h_.reduce((t,e)=>{const n=Da(`Primitive.${e}`),s=h.forwardRef((i,l)=>{const{asChild:u,...d}=i,f=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(f,{...d,ref:l})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function m_(t,e){t&&Zn.flushSync(()=>t.dispatchEvent(e))}function Lr(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function p_(t,e=globalThis==null?void 0:globalThis.document){const n=Lr(t);h.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var g_="DismissableLayer",sf="dismissableLayer.update",v_="dismissableLayer.pointerDownOutside",x_="dismissableLayer.focusOutside",Kv,Ux=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tf=h.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...f}=t,p=h.useContext(Ux),[g,x]=h.useState(null),b=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=h.useState({}),N=ht(e,O=>x(O)),k=Array.from(p.layers),[j]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),M=k.indexOf(j),_=g?k.indexOf(g):-1,L=p.layersWithOutsidePointerEventsDisabled.size>0,S=_>=M,P=w_(O=>{const F=O.target,W=[...p.branches].some(A=>A.contains(F));!S||W||(i==null||i(O),u==null||u(O),O.defaultPrevented||d==null||d())},b),R=j_(O=>{const F=O.target;[...p.branches].some(A=>A.contains(F))||(l==null||l(O),u==null||u(O),O.defaultPrevented||d==null||d())},b);return p_(O=>{_===p.layers.size-1&&(s==null||s(O),!O.defaultPrevented&&d&&(O.preventDefault(),d()))},b),h.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Kv=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),Zv(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Kv)}},[g,b,n,p]),h.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),Zv())},[g,p]),h.useEffect(()=>{const O=()=>y({});return document.addEventListener(sf,O),()=>document.removeEventListener(sf,O)},[]),a.jsx(Ve.div,{...f,ref:N,style:{pointerEvents:L?S?"auto":"none":void 0,...t.style},onFocusCapture:Ge(t.onFocusCapture,R.onFocusCapture),onBlurCapture:Ge(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Ge(t.onPointerDownCapture,P.onPointerDownCapture)})});Tf.displayName=g_;var y_="DismissableLayerBranch",b_=h.forwardRef((t,e)=>{const n=h.useContext(Ux),s=h.useRef(null),i=ht(e,s);return h.useEffect(()=>{const l=s.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),a.jsx(Ve.div,{...t,ref:i})});b_.displayName=y_;function w_(t,e=globalThis==null?void 0:globalThis.document){const n=Lr(t),s=h.useRef(!1),i=h.useRef(()=>{});return h.useEffect(()=>{const l=d=>{if(d.target&&!s.current){let f=function(){Bx(v_,n,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function j_(t,e=globalThis==null?void 0:globalThis.document){const n=Lr(t),s=h.useRef(!1);return h.useEffect(()=>{const i=l=>{l.target&&!s.current&&Bx(x_,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Zv(){const t=new CustomEvent(sf);document.dispatchEvent(t)}function Bx(t,e,n,{discrete:s}){const i=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),s?m_(i,l):i.dispatchEvent(l)}var Cd="focusScope.autoFocusOnMount",Ed="focusScope.autoFocusOnUnmount",Jv={bubbles:!1,cancelable:!0},k_="FocusScope",Of=h.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...u}=t,[d,f]=h.useState(null),p=Lr(i),g=Lr(l),x=h.useRef(null),b=ht(e,k=>f(k)),y=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(s){let k=function(L){if(y.paused||!d)return;const S=L.target;d.contains(S)?x.current=S:rs(x.current,{select:!0})},j=function(L){if(y.paused||!d)return;const S=L.relatedTarget;S!==null&&(d.contains(S)||rs(x.current,{select:!0}))},M=function(L){if(document.activeElement===document.body)for(const P of L)P.removedNodes.length>0&&rs(d)};document.addEventListener("focusin",k),document.addEventListener("focusout",j);const _=new MutationObserver(M);return d&&_.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",j),_.disconnect()}}},[s,d,y.paused]),h.useEffect(()=>{if(d){Xv.add(y);const k=document.activeElement;if(!d.contains(k)){const M=new CustomEvent(Cd,Jv);d.addEventListener(Cd,p),d.dispatchEvent(M),M.defaultPrevented||(N_(L_(Fx(d)),{select:!0}),document.activeElement===k&&rs(d))}return()=>{d.removeEventListener(Cd,p),setTimeout(()=>{const M=new CustomEvent(Ed,Jv);d.addEventListener(Ed,g),d.dispatchEvent(M),M.defaultPrevented||rs(k??document.body,{select:!0}),d.removeEventListener(Ed,g),Xv.remove(y)},0)}}},[d,p,g,y]);const N=h.useCallback(k=>{if(!n&&!s||y.paused)return;const j=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,M=document.activeElement;if(j&&M){const _=k.currentTarget,[L,S]=S_(_);L&&S?!k.shiftKey&&M===S?(k.preventDefault(),n&&rs(L,{select:!0})):k.shiftKey&&M===L&&(k.preventDefault(),n&&rs(S,{select:!0})):M===_&&k.preventDefault()}},[n,s,y.paused]);return a.jsx(Ve.div,{tabIndex:-1,...u,ref:b,onKeyDown:N})});Of.displayName=k_;function N_(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(rs(s,{select:e}),document.activeElement!==n)return}function S_(t){const e=Fx(t),n=Yv(e,t),s=Yv(e.reverse(),t);return[n,s]}function Fx(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Yv(t,e){for(const n of t)if(!C_(n,{upTo:e}))return n}function C_(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function E_(t){return t instanceof HTMLInputElement&&"select"in t}function rs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&E_(t)&&e&&t.select()}}var Xv=__();function __(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Qv(t,e),t.unshift(e)},remove(e){var n;t=Qv(t,e),(n=t[0])==null||n.resume()}}}function Qv(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function L_(t){return t.filter(e=>e.tagName!=="A")}var P_="Portal",Rf=h.forwardRef((t,e)=>{var d;const{container:n,...s}=t,[i,l]=h.useState(!1);Ot(()=>l(!0),[]);const u=n||i&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?C0.createPortal(a.jsx(Ve.div,{...s,ref:e}),u):null});Rf.displayName=P_;function M_(t,e){return h.useReducer((n,s)=>e[n][s]??n,t)}var fi=t=>{const{present:e,children:n}=t,s=T_(e),i=typeof n=="function"?n({present:s.isPresent}):h.Children.only(n),l=ht(s.ref,O_(i));return typeof n=="function"||s.isPresent?h.cloneElement(i,{ref:l}):null};fi.displayName="Presence";function T_(t){const[e,n]=h.useState(),s=h.useRef(null),i=h.useRef(t),l=h.useRef("none"),u=t?"mounted":"unmounted",[d,f]=M_(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const p=Ol(s.current);l.current=d==="mounted"?p:"none"},[d]),Ot(()=>{const p=s.current,g=i.current;if(g!==t){const b=l.current,y=Ol(p);t?f("MOUNT"):y==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(g&&b!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,f]),Ot(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,x=y=>{const k=Ol(s.current).includes(y.animationName);if(y.target===e&&k&&(f("ANIMATION_END"),!i.current)){const j=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=j)})}},b=y=>{y.target===e&&(l.current=Ol(s.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",x),e.addEventListener("animationend",x),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",x),e.removeEventListener("animationend",x)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:h.useCallback(p=>{s.current=p?getComputedStyle(p):null,n(p)},[])}}function Ol(t){return(t==null?void 0:t.animationName)||"none"}function O_(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var _d=0;function Wx(){h.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??e0()),document.body.insertAdjacentElement("beforeend",t[1]??e0()),_d++,()=>{_d===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),_d--}},[])}function e0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var sr=function(){return sr=Object.assign||function(e){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},sr.apply(this,arguments)};function Vx(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function R_(t,e,n){if(n||arguments.length===2)for(var s=0,i=e.length,l;s<i;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return t.concat(l||Array.prototype.slice.call(e))}var Bl="right-scroll-bar-position",Fl="width-before-scroll-bar",I_="with-scroll-bars-hidden",D_="--removed-body-scroll-bar-size";function Ld(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function A_(t,e){var n=h.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=e,n.facade}var z_=typeof window<"u"?h.useLayoutEffect:h.useEffect,t0=new WeakMap;function $_(t,e){var n=A_(null,function(s){return t.forEach(function(i){return Ld(i,s)})});return z_(function(){var s=t0.get(n);if(s){var i=new Set(s),l=new Set(t),u=n.current;i.forEach(function(d){l.has(d)||Ld(d,null)}),l.forEach(function(d){i.has(d)||Ld(d,u)})}t0.set(n,t)},[t]),n}function U_(t){return t}function B_(t,e){e===void 0&&(e=U_);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var u=e(l,s);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(l){for(s=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){s=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(l),u=n}var f=function(){var g=u;u=[],g.forEach(l)},p=function(){return Promise.resolve().then(f)};p(),n={push:function(g){u.push(g),p()},filter:function(g){return u=u.filter(g),n}}}};return i}function F_(t){t===void 0&&(t={});var e=B_(null);return e.options=sr({async:!0,ssr:!1},t),e}var Hx=function(t){var e=t.sideCar,n=Vx(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return h.createElement(s,sr({},n))};Hx.isSideCarExport=!0;function W_(t,e){return t.useMedium(e),Hx}var qx=F_(),Pd=function(){},vc=h.forwardRef(function(t,e){var n=h.useRef(null),s=h.useState({onScrollCapture:Pd,onWheelCapture:Pd,onTouchMoveCapture:Pd}),i=s[0],l=s[1],u=t.forwardProps,d=t.children,f=t.className,p=t.removeScrollBar,g=t.enabled,x=t.shards,b=t.sideCar,y=t.noRelative,N=t.noIsolation,k=t.inert,j=t.allowPinchZoom,M=t.as,_=M===void 0?"div":M,L=t.gapMode,S=Vx(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=b,R=$_([n,e]),O=sr(sr({},S),i);return h.createElement(h.Fragment,null,g&&h.createElement(P,{sideCar:qx,removeScrollBar:p,shards:x,noRelative:y,noIsolation:N,inert:k,setCallbacks:l,allowPinchZoom:!!j,lockRef:n,gapMode:L}),u?h.cloneElement(h.Children.only(d),sr(sr({},O),{ref:R})):h.createElement(_,sr({},O,{className:f,ref:R}),d))});vc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vc.classNames={fullWidth:Fl,zeroRight:Bl};var V_=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function H_(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=V_();return e&&t.setAttribute("nonce",e),t}function q_(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function G_(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var K_=function(){var t=0,e=null;return{add:function(n){t==0&&(e=H_())&&(q_(e,n),G_(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Z_=function(){var t=K_();return function(e,n){h.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Gx=function(){var t=Z_(),e=function(n){var s=n.styles,i=n.dynamic;return t(s,i),null};return e},J_={left:0,top:0,right:0,gap:0},Md=function(t){return parseInt(t||"",10)||0},Y_=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Md(n),Md(s),Md(i)]},X_=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return J_;var e=Y_(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},Q_=Gx(),Ta="data-scroll-locked",eL=function(t,e,n,s){var i=t.left,l=t.top,u=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(I_,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(Ta,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bl,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Fl,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Bl," .").concat(Bl,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Fl," .").concat(Fl,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ta,`] {
    `).concat(D_,": ").concat(d,`px;
  }
`)},n0=function(){var t=parseInt(document.body.getAttribute(Ta)||"0",10);return isFinite(t)?t:0},tL=function(){h.useEffect(function(){return document.body.setAttribute(Ta,(n0()+1).toString()),function(){var t=n0()-1;t<=0?document.body.removeAttribute(Ta):document.body.setAttribute(Ta,t.toString())}},[])},nL=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,i=s===void 0?"margin":s;tL();var l=h.useMemo(function(){return X_(i)},[i]);return h.createElement(Q_,{styles:eL(l,!e,i,n?"":"!important")})},af=!1;if(typeof window<"u")try{var Rl=Object.defineProperty({},"passive",{get:function(){return af=!0,!0}});window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{af=!1}var Ca=af?{passive:!1}:!1,rL=function(t){return t.tagName==="TEXTAREA"},Kx=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!rL(t)&&n[e]==="visible")},sL=function(t){return Kx(t,"overflowY")},aL=function(t){return Kx(t,"overflowX")},r0=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=Zx(t,s);if(i){var l=Jx(t,s),u=l[1],d=l[2];if(u>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},oL=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},iL=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},Zx=function(t,e){return t==="v"?sL(e):aL(e)},Jx=function(t,e){return t==="v"?oL(e):iL(e)},lL=function(t,e){return t==="h"&&e==="rtl"?-1:1},cL=function(t,e,n,s,i){var l=lL(t,window.getComputedStyle(e).direction),u=l*s,d=n.target,f=e.contains(d),p=!1,g=u>0,x=0,b=0;do{if(!d)break;var y=Jx(t,d),N=y[0],k=y[1],j=y[2],M=k-j-l*N;(N||M)&&Zx(t,d)&&(x+=M,b+=N);var _=d.parentNode;d=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!f&&d!==document.body||f&&(e.contains(d)||e===d));return(g&&Math.abs(x)<1||!g&&Math.abs(b)<1)&&(p=!0),p},Il=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},s0=function(t){return[t.deltaX,t.deltaY]},a0=function(t){return t&&"current"in t?t.current:t},uL=function(t,e){return t[0]===e[0]&&t[1]===e[1]},dL=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},fL=0,Ea=[];function hL(t){var e=h.useRef([]),n=h.useRef([0,0]),s=h.useRef(),i=h.useState(fL++)[0],l=h.useState(Gx)[0],u=h.useRef(t);h.useEffect(function(){u.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var k=R_([t.lockRef.current],(t.shards||[]).map(a0),!0).filter(Boolean);return k.forEach(function(j){return j.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),k.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=h.useCallback(function(k,j){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!u.current.allowPinchZoom;var M=Il(k),_=n.current,L="deltaX"in k?k.deltaX:_[0]-M[0],S="deltaY"in k?k.deltaY:_[1]-M[1],P,R=k.target,O=Math.abs(L)>Math.abs(S)?"h":"v";if("touches"in k&&O==="h"&&R.type==="range")return!1;var F=r0(O,R);if(!F)return!0;if(F?P=O:(P=O==="v"?"h":"v",F=r0(O,R)),!F)return!1;if(!s.current&&"changedTouches"in k&&(L||S)&&(s.current=P),!P)return!0;var W=s.current||P;return cL(W,j,k,W==="h"?L:S)},[]),f=h.useCallback(function(k){var j=k;if(!(!Ea.length||Ea[Ea.length-1]!==l)){var M="deltaY"in j?s0(j):Il(j),_=e.current.filter(function(P){return P.name===j.type&&(P.target===j.target||j.target===P.shadowParent)&&uL(P.delta,M)})[0];if(_&&_.should){j.cancelable&&j.preventDefault();return}if(!_){var L=(u.current.shards||[]).map(a0).filter(Boolean).filter(function(P){return P.contains(j.target)}),S=L.length>0?d(j,L[0]):!u.current.noIsolation;S&&j.cancelable&&j.preventDefault()}}},[]),p=h.useCallback(function(k,j,M,_){var L={name:k,delta:j,target:M,should:_,shadowParent:mL(M)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function(S){return S!==L})},1)},[]),g=h.useCallback(function(k){n.current=Il(k),s.current=void 0},[]),x=h.useCallback(function(k){p(k.type,s0(k),k.target,d(k,t.lockRef.current))},[]),b=h.useCallback(function(k){p(k.type,Il(k),k.target,d(k,t.lockRef.current))},[]);h.useEffect(function(){return Ea.push(l),t.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Ca),document.addEventListener("touchmove",f,Ca),document.addEventListener("touchstart",g,Ca),function(){Ea=Ea.filter(function(k){return k!==l}),document.removeEventListener("wheel",f,Ca),document.removeEventListener("touchmove",f,Ca),document.removeEventListener("touchstart",g,Ca)}},[]);var y=t.removeScrollBar,N=t.inert;return h.createElement(h.Fragment,null,N?h.createElement(l,{styles:dL(i)}):null,y?h.createElement(nL,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function mL(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const pL=W_(qx,hL);var If=h.forwardRef(function(t,e){return h.createElement(vc,sr({},t,{ref:e,sideCar:pL}))});If.classNames=vc.classNames;var gL=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},_a=new WeakMap,Dl=new WeakMap,Al={},Td=0,Yx=function(t){return t&&(t.host||Yx(t.parentNode))},vL=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=Yx(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},xL=function(t,e,n,s){var i=vL(e,Array.isArray(t)?t:[t]);Al[n]||(Al[n]=new WeakMap);var l=Al[n],u=[],d=new Set,f=new Set(i),p=function(x){!x||d.has(x)||(d.add(x),p(x.parentNode))};i.forEach(p);var g=function(x){!x||f.has(x)||Array.prototype.forEach.call(x.children,function(b){if(d.has(b))g(b);else try{var y=b.getAttribute(s),N=y!==null&&y!=="false",k=(_a.get(b)||0)+1,j=(l.get(b)||0)+1;_a.set(b,k),l.set(b,j),u.push(b),k===1&&N&&Dl.set(b,!0),j===1&&b.setAttribute(n,"true"),N||b.setAttribute(s,"true")}catch(M){console.error("aria-hidden: cannot operate on ",b,M)}})};return g(e),d.clear(),Td++,function(){u.forEach(function(x){var b=_a.get(x)-1,y=l.get(x)-1;_a.set(x,b),l.set(x,y),b||(Dl.has(x)||x.removeAttribute(s),Dl.delete(x)),y||x.removeAttribute(n)}),Td--,Td||(_a=new WeakMap,_a=new WeakMap,Dl=new WeakMap,Al={})}},Xx=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),i=gL(t);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),xL(s,i,n,"aria-hidden")):function(){return null}},xc="Dialog",[Qx,jT]=xs(xc),[yL,Yn]=Qx(xc),ey=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:i,onOpenChange:l,modal:u=!0}=t,d=h.useRef(null),f=h.useRef(null),[p,g]=Aa({prop:s,defaultProp:i??!1,onChange:l,caller:xc});return a.jsx(yL,{scope:e,triggerRef:d,contentRef:f,contentId:ds(),titleId:ds(),descriptionId:ds(),open:p,onOpenChange:g,onOpenToggle:h.useCallback(()=>g(x=>!x),[g]),modal:u,children:n})};ey.displayName=xc;var ty="DialogTrigger",bL=h.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=Yn(ty,n),l=ht(e,i.triggerRef);return a.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":zf(i.open),...s,ref:l,onClick:Ge(t.onClick,i.onOpenToggle)})});bL.displayName=ty;var Df="DialogPortal",[wL,ny]=Qx(Df,{forceMount:void 0}),ry=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:i}=t,l=Yn(Df,e);return a.jsx(wL,{scope:e,forceMount:n,children:h.Children.map(s,u=>a.jsx(fi,{present:n||l.open,children:a.jsx(Rf,{asChild:!0,container:i,children:u})}))})};ry.displayName=Df;var oc="DialogOverlay",sy=h.forwardRef((t,e)=>{const n=ny(oc,t.__scopeDialog),{forceMount:s=n.forceMount,...i}=t,l=Yn(oc,t.__scopeDialog);return l.modal?a.jsx(fi,{present:s||l.open,children:a.jsx(kL,{...i,ref:e})}):null});sy.displayName=oc;var jL=Da("DialogOverlay.RemoveScroll"),kL=h.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=Yn(oc,n);return a.jsx(If,{as:jL,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Ve.div,{"data-state":zf(i.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),Ws="DialogContent",ay=h.forwardRef((t,e)=>{const n=ny(Ws,t.__scopeDialog),{forceMount:s=n.forceMount,...i}=t,l=Yn(Ws,t.__scopeDialog);return a.jsx(fi,{present:s||l.open,children:l.modal?a.jsx(NL,{...i,ref:e}):a.jsx(SL,{...i,ref:e})})});ay.displayName=Ws;var NL=h.forwardRef((t,e)=>{const n=Yn(Ws,t.__scopeDialog),s=h.useRef(null),i=ht(e,n.contentRef,s);return h.useEffect(()=>{const l=s.current;if(l)return Xx(l)},[]),a.jsx(oy,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ge(t.onCloseAutoFocus,l=>{var u;l.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Ge(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&l.preventDefault()}),onFocusOutside:Ge(t.onFocusOutside,l=>l.preventDefault())})}),SL=h.forwardRef((t,e)=>{const n=Yn(Ws,t.__scopeDialog),s=h.useRef(!1),i=h.useRef(!1);return a.jsx(oy,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,d;(u=t.onCloseAutoFocus)==null||u.call(t,l),l.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),l.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:l=>{var f,p;(f=t.onInteractOutside)==null||f.call(t,l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;((p=n.triggerRef.current)==null?void 0:p.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),oy=h.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,...u}=t,d=Yn(Ws,n),f=h.useRef(null),p=ht(e,f);return Wx(),a.jsxs(a.Fragment,{children:[a.jsx(Of,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:l,children:a.jsx(Tf,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":zf(d.open),...u,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(CL,{titleId:d.titleId}),a.jsx(_L,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Af="DialogTitle",iy=h.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=Yn(Af,n);return a.jsx(Ve.h2,{id:i.titleId,...s,ref:e})});iy.displayName=Af;var ly="DialogDescription",cy=h.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=Yn(ly,n);return a.jsx(Ve.p,{id:i.descriptionId,...s,ref:e})});cy.displayName=ly;var uy="DialogClose",dy=h.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=Yn(uy,n);return a.jsx(Ve.button,{type:"button",...s,ref:e,onClick:Ge(t.onClick,()=>i.onOpenChange(!1))})});dy.displayName=uy;function zf(t){return t?"open":"closed"}var fy="DialogTitleWarning",[kT,hy]=o_(fy,{contentName:Ws,titleName:Af,docsSlug:"dialog"}),CL=({titleId:t})=>{const e=hy(fy),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return h.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},EL="DialogDescriptionWarning",_L=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${hy(EL).contentName}}.`;return h.useEffect(()=>{var l;const i=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},LL=ey,PL=ry,my=sy,py=ay,gy=iy,vy=cy,ML=dy;const Er=LL,TL=PL,xy=h.forwardRef(({className:t,...e},n)=>a.jsx(my,{ref:n,className:Je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));xy.displayName=my.displayName;const ls=h.forwardRef(({className:t,children:e,...n},s)=>a.jsxs(TL,{children:[a.jsx(xy,{}),a.jsxs(py,{ref:s,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-zinc-800 dark:bg-zinc-950",t),...n,children:[e,a.jsxs(ML,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-500 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-400",children:[a.jsx(ur,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ls.displayName=py.displayName;const Us=({className:t,...e})=>a.jsx("div",{className:Je("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Us.displayName="DialogHeader";const Ho=({className:t,...e})=>a.jsx("div",{className:Je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ho.displayName="DialogFooter";const Bs=h.forwardRef(({className:t,...e},n)=>a.jsx(gy,{ref:n,className:Je("text-lg font-semibold leading-none tracking-tight",t),...e}));Bs.displayName=gy.displayName;const qo=h.forwardRef(({className:t,...e},n)=>a.jsx(vy,{ref:n,className:Je("text-sm text-zinc-500 dark:text-zinc-400",t),...e}));qo.displayName=vy.displayName;const hi=({className:t="",size:e=20})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor",className:t,children:a.jsx("path",{d:"M12.75 2h2.25a.75.75 0 0 1 .75.75v1.5a4.5 4.5 0 0 0 4.5 4.5h1.5a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.75.75h-1.5a6.75 6.75 0 0 1-6.75-6.75V2.75A.75.75 0 0 1 12.75 2zm-2.25 6.75A6.75 6.75 0 1 0 17.25 15.5v-2.25a.75.75 0 0 0-.75-.75h-2.25a.75.75 0 0 0-.75.75v2.25a3 3 0 1 1-3-3h.75a.75.75 0 0 0 .75-.75V8.75a.75.75 0 0 0-.75-.75h-2.25a.75.75 0 0 0-.75.75v2.25z"})}),$f=({business:t,isOpen:e,onClose:n,contacts:s})=>{const[i,l]=h.useState({name:"",email:"",phone:"",message:""}),u=d=>d?`https://${d.replace(/^https?:\/\//,"")}`:"";return a.jsx(Er,{open:e,onOpenChange:n,children:a.jsxs(ls,{className:"sm:max-w-lg px-6 py-5 rounded-2xl",children:[a.jsx(Us,{children:a.jsxs(Bs,{className:"flex items-center space-x-3 text-xl font-semibold text-gray-900",children:[a.jsx("img",{src:t.logo,alt:t.name,className:"w-10 h-10 rounded-full object-cover border"}),a.jsxs("span",{children:["Contactar a ",t.name]})]})}),a.jsxs("div",{className:"space-y-6 text-sm",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3 text-gray-700 shadow-inner",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Qt,{className:"h-4 w-4 text-gray-500"}),a.jsxs("span",{children:[t.location,", ",t.island]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jn,{className:"h-4 w-4 text-gray-500"}),a.jsx("a",{href:`tel:${(s==null?void 0:s.phone)||""}`,className:"text-blue-600 hover:underline",children:(s==null?void 0:s.phone)||"No disponible"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fn,{className:"h-4 w-4 text-gray-500"}),a.jsx("a",{href:`mailto:${(s==null?void 0:s.email)||""}`,className:"text-blue-600 hover:underline",children:(s==null?void 0:s.email)||"No disponible"})]}),(s==null?void 0:s.website)&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cr,{className:"h-4 w-4 text-gray-500"}),a.jsx("a",{href:u(s.website),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:s.website})]})]}),a.jsxs("div",{className:"border-t pt-4 flex flex-wrap gap-2",children:[a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>window.open(`tel:${(s==null?void 0:s.phone)||""}`),className:"flex-1 flex items-center justify-center gap-2",children:[a.jsx(jn,{className:"h-4 w-4"})," Llamar"]}),a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>window.open(`mailto:${(s==null?void 0:s.email)||""}`),className:"flex-1 flex items-center justify-center gap-2",children:[a.jsx(fn,{className:"h-4 w-4"})," Email"]}),(s==null?void 0:s.website)&&a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>window.open(u(s.website),"_blank"),className:"flex-1 flex items-center justify-center gap-2",children:[a.jsx(cr,{className:"h-4 w-4"})," Web"]}),(s==null?void 0:s.phone)&&a.jsxs(ie,{size:"sm",onClick:()=>{const d=s.phone.replace(/\D/g,"");window.open(`https://wa.me/${d}`)},className:"flex-1 flex items-center justify-center gap-2 bg-green-500 hover:bg-green-600 text-white","aria-label":"Contactar por WhatsApp",children:[a.jsx("svg",{viewBox:"0 0 32 32",width:"20",height:"20",fill:"currentColor",className:"mr-1",children:a.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.637.86 5.08 2.34 7.09L4 29l7.18-2.31A12.93 12.93 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 22c-1.98 0-3.89-.52-5.54-1.5l-.39-.23-4.27 1.37 1.4-4.15-.25-.4A9.93 9.93 0 0 1 6 15c0-5.514 4.486-10 10-10s10 4.486 10 10-4.486 10-10 10zm5.07-7.75c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.34.42-.51.14-.17.18-.29.28-.48.09-.19.05-.36-.02-.5-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.62-.47-.16-.01-.36-.01-.56-.01-.19 0-.5.07-.76.36-.26.28-1 1-.97 2.43.03 1.43 1.03 2.81 1.18 3.01.15.2 2.03 3.1 4.93 4.22.69.3 1.23.48 1.65.61.69.22 1.32.19 1.82.12.56-.08 1.65-.67 1.88-1.32.23-.65.23-1.2.16-1.32-.07-.12-.25-.19-.53-.33z"})}),"WhatsApp"]})]}),(t.facebook||t.instagram||t.twitter||t.tiktok)&&a.jsxs("div",{className:"flex gap-3 mt-2 justify-center",children:[t.facebook&&a.jsx("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",className:"hover:scale-110 transition-transform",children:a.jsx(ci,{className:"h-5 w-5 text-blue-600"})}),t.instagram&&a.jsx("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"hover:scale-110 transition-transform",children:a.jsx(ui,{className:"h-5 w-5 text-pink-500"})}),t.twitter&&a.jsx("a",{href:t.twitter,target:"_blank",rel:"noopener noreferrer","aria-label":"X",className:"hover:scale-110 transition-transform",children:a.jsx(di,{className:"h-5 w-5 text-blue-400"})}),t.tiktok&&a.jsx("a",{href:t.tiktok,target:"_blank",rel:"noopener noreferrer","aria-label":"TikTok",className:"hover:scale-110 transition-transform",children:a.jsx(hi,{className:"h-5 w-5 text-black"})})]})]})]})})},OL=({business:t,isOpen:e,onClose:n})=>{const[s,i]=h.useState(0);h.useEffect(()=>{e&&i(0)},[e,t.gallery]);const l=()=>{i(g=>g===t.gallery.length-1?0:g+1)},u=()=>{i(g=>g===0?t.gallery.length-1:g-1)},d=g=>{i(g)},f=()=>{const g=document.createElement("a");g.href=t.gallery[s],g.download=`${t.name}-imagen-${s+1}.jpg`,document.body.appendChild(g),g.click(),document.body.removeChild(g)},p=async()=>{if(navigator.share)try{await navigator.share({title:`${t.name} - Galera`,text:`Mira esta imagen de ${t.name} en ${t.island}`,url:window.location.href})}catch(g){console.log("Error sharing:",g)}else navigator.clipboard.writeText(window.location.href)};return!e||!t.gallery||t.gallery.length===0?null:a.jsx(Er,{open:e,onOpenChange:n,children:a.jsx(ls,{className:"max-w-6xl w-full h-[90vh] p-0",children:a.jsxs("div",{className:"relative h-full bg-black",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 bg-gradient-to-b from-black/80 to-transparent p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:t.logo,alt:t.name,className:"w-10 h-10 rounded-full object-cover border-2 border-white"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-semibold",children:t.name}),a.jsxs("p",{className:"text-gray-300 text-sm",children:[s+1," de ",t.gallery.length]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ie,{variant:"ghost",size:"sm",onClick:p,className:"text-white hover:bg-white/20",children:a.jsx(Px,{className:"h-4 w-4"})}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:f,className:"text-white hover:bg-white/20",children:a.jsx(_x,{className:"h-4 w-4"})}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:n,className:"text-white hover:bg-white/20",children:a.jsx(ur,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"relative h-full flex items-center justify-center",children:[a.jsx("img",{src:t.gallery[s],alt:`${t.name} - Imagen ${s+1}`,className:"max-h-full max-w-full object-contain"}),t.gallery.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(ie,{variant:"ghost",size:"lg",onClick:u,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 rounded-full w-12 h-12",children:a.jsx(sE,{className:"h-6 w-6"})}),a.jsx(ie,{variant:"ghost",size:"lg",onClick:l,className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 rounded-full w-12 h-12",children:a.jsx(Cx,{className:"h-6 w-6"})})]})]}),t.gallery.length>1&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:a.jsx("div",{className:"flex justify-center space-x-2 overflow-x-auto",children:t.gallery.map((g,x)=>a.jsx("button",{onClick:()=>d(x),className:Je("flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all",x===s?"border-blue-500 opacity-100":"border-white/30 opacity-60 hover:opacity-80"),children:a.jsx("img",{src:g,alt:`Thumbnail ${x+1}`,className:"w-full h-full object-cover"})},x))})}),t.gallery.length>1&&a.jsx("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2",children:a.jsx("div",{className:"flex space-x-2",children:t.gallery.map((g,x)=>a.jsx("button",{onClick:()=>d(x),className:Je("w-2 h-2 rounded-full transition-all",x===s?"bg-white":"bg-white/40 hover:bg-white/60")},x))})})]})})})};function yy(t){const[e,n]=h.useState(null),[s,i]=h.useState(!0),[l,u]=h.useState(null);async function d(){i(!0),u(null);const{data:p,error:g}=await ve.from("contacts").select("phone, email, website").eq("business_id",t).maybeSingle();if(g){u(g.message),n(null),i(!1);return}n(p||null),i(!1)}h.useEffect(()=>{t&&d()},[t]);async function f({phone:p,email:g,website:x}){i(!0),u(null);const{error:b}=await ve.from("contacts").upsert([{business_id:t,phone:p,email:g,website:x}],{onConflict:"business_id"});return b?(u(b.message),i(!1),!1):(await d(),i(!1),!0)}return{contacts:e,loading:s,error:l,updateContacts:f}}const by=({business:t,followers:e,variant:n="default"})=>{var k,j;const[s,i]=h.useState(!1),[l,u]=h.useState(!1),[d,f]=h.useState(!1),[p,g]=h.useState(0),{contacts:x}=yy(t.id),b=t.contact||null,y=M=>{switch(M){case"$":return"Econmico";case"$$":return"Moderado";case"$$$":return"Caro";case"$$$$":return"Muy Caro";default:return"No especificado"}},N={Roatn:"bg-teal-100 text-teal-800",Utila:"bg-emerald-100 text-emerald-800",Guanaja:"bg-indigo-100 text-indigo-800","Jose Santos Guardiola":"bg-pink-100 text-pink-800"};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:Je("bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden group relative cursor-pointer p-2","w-full max-w-[170px] min-w-0 mx-auto",n==="compact"?"max-w-[170px] p-2":"max-w-xs"),style:{minWidth:0},onClick:()=>{Date.now()-p<500||u(!0)},children:[a.jsx("div",{className:"p-4 border-b border-gray-100 bg-gradient-to-b from-gray-50 to-white",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:t.logo,alt:`${t.name} logo`,className:"w-14 h-14 rounded-full object-cover border-2 border-teal-200 shadow-sm"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-lg text-gray-900 transition-colors duration-200",children:t.name}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-2",children:[a.jsx(Qt,{className:"h-4 w-4 text-teal-500"}),a.jsxs("span",{children:[t.location,", ",t.island]})]})]})]})}),a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:t.coverImage,alt:t.name,className:"w-full h-56 object-cover cursor-pointer group-hover:scale-105 transition-transform duration-500",onClick:M=>{M.stopPropagation(),f(!0)}}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx(xt,{className:Je("font-semibold shadow-sm",N[t.island]||"bg-gray-200 text-gray-700"),children:t.island})}),t.gallery&&t.gallery.length>1&&a.jsx("div",{className:"absolute bottom-4 right-4",children:a.jsxs(ie,{size:"sm",variant:"secondary",onClick:()=>f(!0),className:"bg-black bg-opacity-60 text-white hover:bg-opacity-80 rounded-full px-3 py-1",children:[a.jsx(hs,{className:"h-4 w-4 mr-1"})," +",(((k=t.gallery)==null?void 0:k.length)||0)-1]})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(xt,{variant:"outline",className:"text-teal-600 border-teal-600 font-medium",children:t.category}),a.jsx("div",{className:"flex items-center space-x-2 text-sm",children:a.jsx("span",{className:"text-gray-600 font-medium",children:y(t.priceRange)})})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 leading-relaxed",children:t.description||"Sin descripcin disponible"}),a.jsx("div",{className:"mb-4",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:t.amenities&&t.amenities.length>0?a.jsxs(a.Fragment,{children:[t.amenities.slice(0,3).map((M,_)=>a.jsx(xt,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700",children:M},_)),t.amenities.length>3&&a.jsxs(xt,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700",children:["+",(((j=t.amenities)==null?void 0:j.length)||0)-3]})]}):a.jsx("span",{className:"text-xs text-gray-400",children:"Sin amenidades"})})}),a.jsxs("div",{className:"border-t border-gray-100 pt-3",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsx("div",{className:"flex space-x-3"})}),a.jsxs("div",{className:"flex space-x-2 mt-2",children:[a.jsxs(ie,{variant:"outline",size:"sm",onClick:M=>{M.stopPropagation(),u(!0)},className:"flex-1 border-blue-600 text-blue-600 hover:bg-blue-50 rounded-full font-semibold",children:[a.jsx(jn,{className:"h-4 w-4 mr-1"}),"Contactar"]}),(x==null?void 0:x.website)&&a.jsxs(ie,{variant:"outline",size:"sm",onClick:M=>{M.stopPropagation(),window.open(`https://${x.website}`,"_blank")},className:"flex-1 border-blue-600 text-blue-600 hover:bg-blue-50 rounded-full font-semibold",children:[a.jsx(cr,{className:"h-4 w-4 mr-1"}),"Sitio Web"]})]}),a.jsx("div",{className:"flex space-x-2 mt-2",children:typeof e=="number"&&a.jsxs(ie,{variant:"outline",size:"sm",className:"flex-1 border-blue-600 text-blue-600 hover:bg-blue-50 rounded-full font-semibold cursor-default select-none",tabIndex:-1,"aria-disabled":"true",disabled:!0,children:[a.jsx("span",{className:"font-bold",children:e})," seguidores"]})})]})]}),a.jsx($f,{business:t,isOpen:l,onClose:()=>{u(!1),g(Date.now())},contacts:x||b}),a.jsx(OL,{business:t,isOpen:d,onClose:()=>f(!1)})]})})},RL=({isStandalone:t,installPromptRef:e})=>{const[n,s]=h.useState(!1);return a.jsxs("section",{className:"py-20 bg-gradient-to-b from-white to-blue-50",children:[a.jsxs("div",{className:"container mx-auto px-6 max-w-7xl",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-5xl font-extrabold text-gray-900 mb-4 tracking-tight underline decoration-pink-500 decoration-4 underline-offset-8"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[{name:"Roatn",desc:"La isla principal",img:"/images/roatan-beach.png"},{name:"Utila",desc:"Paraso del buceo",img:"/images/utila-diving.jpg"},{name:"Guanaja",desc:"La isla verde",img:"/images/guanaja-beach.jpeg"}].map(({name:i,desc:l,img:u})=>a.jsxs("div",{className:"group cursor-pointer rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-shadow duration-500 relative",tabIndex:0,"aria-label":`${i} - ${l}`,children:[a.jsx("img",{src:u,alt:i,className:"w-full h-72 object-cover group-hover:scale-110 transition-transform duration-500 ease-in-out",loading:"lazy"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-80 group-hover:opacity-60 transition-opacity duration-500"}),a.jsxs("div",{className:"absolute bottom-6 left-6 z-10 text-white",children:[a.jsx("h3",{className:"text-3xl font-extrabold drop-shadow-md",children:i}),a.jsx("p",{className:"text-lg opacity-90 drop-shadow-md",children:l})]})]},i))}),a.jsx("div",{className:"flex justify-center mt-16",children:a.jsxs("button",{onClick:async()=>{if(t){alert("Ya tienes RoaBusiness como app en tu dispositivo!");return}if(e.current){e.current.prompt();const{outcome:i}=await e.current.userChoice;if(i==="accepted")return}s(!0)},className:"group bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-10 py-4 rounded-full shadow-lg flex items-center gap-3 text-lg font-semibold focus:outline-none focus-visible:ring-4 focus-visible:ring-blue-400 transition-transform transform hover:scale-105 active:scale-95","aria-label":"Instalar RoaBusiness en tu dispositivo",type:"button",children:[a.jsx(_x,{className:"h-6 w-6 text-white transition-transform duration-500 group-hover:animate-bounce"}),"Instalar RoaBusiness (Acceso Directo)"]})}),n&&a.jsx("div",{role:"dialog","aria-modal":"true",className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-6 z-50",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-8 shadow-xl relative animate-fadeInUp",children:[a.jsx("button",{onClick:()=>s(!1),"aria-label":"Cerrar tutorial",className:"absolute top-4 right-4 text-gray-400 hover:text-gray-700 transition",children:""}),a.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/2288/2288494.png",alt:"Icono RoaBusiness",className:"w-20 h-20 mx-auto mb-4 rounded-full shadow",style:{background:"#fff"}}),a.jsx("h3",{className:"text-xl font-bold mb-4 text-center text-gray-900",children:"Cmo agregar RoaBusiness a tu pantalla de inicio?"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-700 text-left",children:[a.jsxs("li",{children:["Abre el men ",a.jsx("b",{children:""})," o ",a.jsx("b",{children:"Compartir"})," de tu navegador."]}),a.jsxs("li",{children:["Selecciona ",a.jsx("b",{children:'"Agregar a pantalla de inicio"'})," o ",a.jsx("b",{children:'"Instalar app"'}),"."]}),a.jsx("li",{children:"Confirma la instalacin. Listo!"})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx("button",{onClick:()=>s(!1),className:"text-blue-600 hover:underline font-semibold focus:outline-none",children:"Cerrar"})})]})})]}),a.jsx("style",{children:`
        @keyframes fadeInUp {
          0% {
            opacity: 0;
            transform: translateY(20px);
          }
          100% {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fadeInUp {
          animation: fadeInUp 0.5s ease forwards;
        }
      `})]})},IL=()=>{const t="Descubre las Islas de la Baha",[e,n]=h.useState(!1),[s,i]=h.useState(!1),[l,u]=h.useState(""),[d,f]=h.useState(!1),[p,g]=h.useState(0),[x,b]=h.useState(!1),[y,N]=h.useState(!1);h.useRef(null);const{businesses:k}=Fs(),{user:j}=Tr(),M=k.filter(L=>L.is_public!==!1).length;h.useEffect(()=>{if(M===0){g(0);return}let L=0;const P=Math.max(Math.floor(1200/M),20),R=setInterval(()=>{L+=1,g(O=>O<M?O+1:(clearInterval(R),O)),L>=M&&clearInterval(R)},P);return()=>clearInterval(R)},[M]),h.useEffect(()=>{if(!e)return;let L=0;const S=()=>{L<=t.length?(u(t.slice(0,L)),L++,setTimeout(S,80)):f(!0)};S()},[e]);const _=()=>{n(!0),setTimeout(()=>i(!0),600)};return h.useEffect(()=>{const L=P=>{P.ctrlKey&&(P.key==="u"||P.key==="U")&&(P.preventDefault(),P.stopPropagation())};window.addEventListener("keydown",L);const S=P=>{P.target.tagName==="IMG"&&P.preventDefault()};return window.addEventListener("contextmenu",S),()=>{window.removeEventListener("keydown",L),window.removeEventListener("contextmenu",S)}},[]),a.jsx(a.Fragment,{children:a.jsxs("section",{className:"relative h-screen flex items-center justify-center overflow-hidden bg-black",children:[a.jsx("img",{src:"https://i.imgur.com/IyMgElg.jpeg",alt:"Islas de la Baha",className:`w-full h-full object-cover absolute inset-0 transition-opacity duration-[1200ms] ease-in-out ${e?"opacity-100":"opacity-0"}`,onLoad:_,style:{zIndex:1}}),!s&&a.jsx("svg",{className:"absolute inset-0 w-full h-full z-20 pointer-events-none",viewBox:"0 0 100 100",children:a.jsxs("circle",{cx:"50",cy:"60",r:"1",fill:"rgba(255,255,255,0.15)",children:[a.jsx("animate",{attributeName:"r",from:"1",to:"80",dur:"1s",begin:"0s",fill:"freeze",keySplines:"0.4 0 0.2 1",calcMode:"spline"}),a.jsx("animate",{attributeName:"opacity",from:"0.7",to:"0",dur:"1s",begin:"0s",fill:"freeze"})]})}),a.jsx("div",{className:`absolute inset-0 w-full h-full pointer-events-none transition-all duration-1000 ${s?"mask-reveal":""}`,style:{background:"linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.6))",zIndex:2,maskImage:s?"radial-gradient(circle at 50% 60%, white 100%, transparent 100%)":"radial-gradient(circle at 50% 60%, white 0%, transparent 0%)",WebkitMaskImage:s?"radial-gradient(circle at 50% 60%, white 100%, transparent 100%)":"radial-gradient(circle at 50% 60%, white 0%, transparent 0%)",transition:"mask-image 1s, -webkit-mask-image 1s"}}),a.jsxs("div",{className:"relative z-10 text-center text-white px-6 max-w-5xl mx-auto flex flex-col items-center",children:[a.jsxs("h1",{className:"text-2xl xs:text-3xl sm:text-4xl md:text-6xl lg:text-7xl font-extrabold mb-4 sm:mb-6 drop-shadow-lg leading-tight min-h-[3.5rem] sm:min-h-[5rem]","aria-label":t,"aria-live":"polite",children:[l,a.jsx("span",{className:"text-blue-400 block animate-pulse",children:" "})]}),a.jsx("p",{className:`text-base xs:text-lg sm:text-xl md:text-2xl mb-6 sm:mb-10 max-w-xs xs:max-w-md sm:max-w-3xl mx-auto leading-relaxed text-gray-100 drop-shadow-md transform transition-opacity duration-900 ${d?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,children:"El paraso caribeo de Honduras te espera. Explora los mejores negocios, restaurantes, hoteles y actividades en Roatn, Utila y Guanaja."}),a.jsxs("div",{className:`flex flex-col sm:flex-row gap-4 justify-center transform transition-opacity duration-900 ${d?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,children:[a.jsx(vt,{to:"/directorio","aria-label":"Explorar directorio de negocios",children:a.jsxs(ie,{size:"lg",className:"group relative inline-flex items-center justify-center px-8 py-4 text-lg font-medium text-white bg-blue-600 rounded-full shadow-lg transition-all duration-300 hover:bg-blue-700 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-400",children:[a.jsx(Xo,{className:"mr-2 h-5 w-5 transition-transform duration-300 group-hover:-translate-y-0.5 group-hover:scale-110"}),"Explorar Directorio"]})}),a.jsx(vt,{to:"/sobre-las-islas","aria-label":"Conocer las islas",children:a.jsxs(ie,{variant:"outline",size:"lg",className:"group relative inline-flex items-center justify-center px-8 py-4 border-2 border-white text-white bg-transparent rounded-full text-lg font-medium transition-all duration-300 hover:bg-white hover:text-blue-600 hover:scale-105 shadow-md focus:outline-none focus:ring-4 focus:ring-white",children:[a.jsx(Qt,{className:"mr-2 h-5 w-5 transition-transform duration-300 group-hover:-translate-y-0.5 group-hover:scale-110"}),"Conoce las Islas"]})}),!j&&a.jsx(vt,{to:"/registrar-usuario","aria-label":"Crear cuenta",children:a.jsx(ie,{variant:"secondary",size:"lg",className:"group relative inline-flex items-center justify-center px-8 py-4 border-2 border-blue-600 text-blue-600 bg-white rounded-full text-lg font-bold transition-all duration-300 hover:bg-blue-50 hover:text-blue-800 hover:scale-105 shadow-md focus:outline-none focus:ring-4 focus:ring-blue-200",children:"Crear cuenta"})})]}),a.jsx("div",{className:"text-base xs:text-lg sm:text-2xl md:text-4xl font-bold text-blue-200 drop-shadow",children:p}),a.jsx("p",{className:"text-white text-[10px] xs:text-xs sm:text-base md:text-xl leading-tight",children:"Negocios Destacados"})]})]})})},wy=()=>{const t=[{name:"Roatn",description:"La isla ms grande y desarrollada del archipilago, con infraestructura turstica completa, incluyendo el Aeropuerto Internacional Juan Manuel Glvez, hoteles, restaurantes y una amplia oferta de actividades acuticas y terrestres.",area:"127 km",population:"aprox. 120,000",highlights:["West Bay Beach  considerada una de las mejores playas del Caribe","West End Village  centro cultural y gastronmico","Parque Gumbalimba  reserva natural y zoolgico","Reserva de monos Daniel Johnson"],image:"/images/roatan-beach.png",color:"bg-blue-100 text-blue-800"},{name:"Utila",description:"Pequea isla reconocida mundialmente por ser uno de los destinos de buceo ms accesibles y econmicos. Popular por los avistamientos frecuentes de tiburones ballena, as como por su ambiente relajado y su vibrante comunidad de buzos.",area:"41 km",population:"aprox. 5,000",highlights:["Buceo con tiburones ballena","Escuelas de buceo certificadas PADI","Vida nocturna sencilla y amigable","Estacin de investigacin de iguanas"],image:"/images/utila-diving.jpg",color:"bg-green-100 text-green-800"},{name:"Guanaja",description:'Isla ms remota y verde, con un paisaje montaoso y canales naturales que le han dado el apodo de "Venecia del Caribe". Ideal para ecoturismo, exploracin de manglares y pesca deportiva.',area:"55 km",population:"aprox. 6,000",highlights:["Ecoturismo en reas protegidas","Canales naturales y manglares","Pesca deportiva y deportes acuticos","Pueblos con arquitectura tradicional"],image:"/images/guanaja-beach.jpeg",color:"bg-purple-100 text-purple-800"}],e=[{icon:Qt,title:"Ubicacin",description:"Situadas entre 30 y 60 km de la costa norte de Honduras, en el Mar Caribe."},{icon:yE,title:"Arrecife Mesoamericano",description:"Forman parte del Sistema Arrecifal Mesoamericano, el segundo arrecife de coral ms grande del mundo."},{icon:oE,title:"Biodiversidad Marina",description:"Hogar de ms de 500 especies marinas, incluyendo peces tropicales, tortugas y manates."},{icon:xE,title:"Ecosistemas Diversos",description:"Combina manglares, bosques tropicales y playas, ofreciendo hbitats para flora y fauna nicas."},{icon:_r,title:"Cultura Vibrante",description:"Una mezcla de races garfuna, inglesas, espaolas y mayas que se refleja en su msica, gastronoma y tradiciones."},{icon:rE,title:"Destino Turstico",description:"Principal destino de Honduras para ecoturismo, buceo y turismo de aventura, con un crecimiento sostenible."}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white to-blue-50",children:[a.jsx("section",{className:"relative h-96 flex items-center justify-center overflow-hidden",children:a.jsxs("div",{className:"relative z-10 text-center text-BLACK px-4 max-w-3xl animate-fadeInDown",children:[a.jsx("h1",{className:"text-5xl font-extrabold mb-4 tracking-tight drop-shadow-lg",children:"Sobre las Islas de la Baha"}),a.jsx("p",{className:"text-xl max-w-xl mx-auto drop-shadow-md",children:"Descubre la historia, cultura y belleza natural del paraso caribeo de Honduras"})]})}),a.jsxs("div",{className:"container mx-auto px-6 py-12 space-y-20",children:[a.jsxs("section",{className:"max-w-4xl mx-auto text-center animate-fadeInUp",children:[a.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 mb-6 underline decoration-pink-500 underline-offset-8 decoration-4",children:"Un Paraso Caribeo nico"}),a.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:"Las Islas de la Baha, un archipilago hondureo en el Mar Caribe, son mundialmente reconocidas por sus arrecifes de coral prstinos y su biodiversidad marina excepcional."}),a.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Con siglos de historia desde sus races indgenas y coloniales hasta su desarrollo actual como destino turstico de clase mundial, las islas ofrecen una mezcla perfecta de aventura, cultura y relajacin en un entorno natural incomparable."})]}),a.jsxs("section",{className:"animate-fadeInUp delay-150",children:[a.jsxs("div",{className:"text-center mb-14",children:[a.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 mb-4 underline decoration-blue-400 underline-offset-8 decoration-4",children:"Datos Fascinantes"}),a.jsx("p",{className:"text-lg text-gray-700 max-w-xl mx-auto",children:"Conoce los aspectos ms destacados y nicos de nuestras islas"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:e.map((n,s)=>{const i=n.icon;return a.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-shadow transform hover:-translate-y-1 cursor-pointer",children:[a.jsxs("div",{className:"flex items-center mb-5",children:[a.jsx("div",{className:"w-14 h-14 bg-gradient-to-tr from-blue-300 to-blue-500 rounded-lg flex items-center justify-center mr-5 text-white shadow-md",children:a.jsx(i,{className:"h-7 w-7"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:n.title})]}),a.jsx("p",{className:"text-gray-700",children:n.description})]},s)})})]}),a.jsxs("section",{className:"animate-fadeInUp delay-300",children:[a.jsxs("div",{className:"text-center mb-14",children:[a.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 mb-4 underline decoration-green-400 underline-offset-8 decoration-4",children:"Nuestras Tres Islas"}),a.jsx("p",{className:"text-lg text-gray-700 max-w-xl mx-auto",children:"Cada isla tiene su propia personalidad, historia y atractivos naturales."})]}),a.jsx("div",{className:"space-y-16",children:t.map((n,s)=>a.jsxs("div",{className:`bg-white rounded-3xl shadow-lg overflow-hidden flex flex-col lg:flex-row ${s%2===1?"lg:flex-row-reverse":""} animate-slideIn`,children:[a.jsxs("div",{className:"lg:w-1/2 overflow-hidden group relative",children:[a.jsx("img",{src:n.image,alt:`Imagen de ${n.name}`,className:"w-full h-72 lg:h-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),a.jsxs("div",{className:"lg:w-1/2 p-10 flex flex-col justify-center",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("h3",{className:"text-3xl font-extrabold text-gray-900 mr-4",children:n.name}),a.jsx(xt,{className:`${n.color} px-4 py-1 text-sm font-semibold shadow-md transition-transform hover:scale-110`,children:"Isla Principal"})]}),a.jsx("p",{className:"text-gray-700 mb-8 leading-relaxed",children:n.description}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8 text-gray-600",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-1 text-gray-900",children:"rea"}),a.jsx("p",{children:n.area})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-1 text-gray-900",children:"Poblacin"}),a.jsx("p",{children:n.population})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Atractivos Principales:"}),a.jsx("div",{className:"flex flex-wrap gap-3",children:n.highlights.map((i,l)=>a.jsx(xt,{variant:"outline",className:"cursor-default hover:bg-gray-200 transition-colors",children:i},l))})]})]})]},n.name))})]}),a.jsx("section",{className:"animate-fadeInUp delay-450",children:a.jsxs("div",{className:"bg-white rounded-3xl p-10 lg:p-16 shadow-lg",children:[a.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 mb-8 text-center underline decoration-pink-400 underline-offset-8 decoration-4",children:"Historia y Cultura"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 text-gray-700 leading-relaxed",children:[a.jsxs("div",{className:"space-y-10",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-semibold mb-3",children:"poca Precolombina y Colonial"}),a.jsx("p",{children:"Habitadas originalmente por indgenas Pech, las islas fueron visitadas por Cristbal Coln en 1502. En los siglos XVII y XVIII, sirvieron como refugio para piratas y corsarios del Caribe."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-semibold mb-3",children:"Influencia Britnica"}),a.jsx("p",{children:"La colonizacin britnica dej una huella cultural y lingstica que persiste, con el ingls y el criollo ampliamente hablados a pesar de ser parte de Honduras desde 1859."})]})]}),a.jsxs("div",{className:"space-y-10",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-semibold mb-3",children:"Cultura Garfuna"}),a.jsx("p",{children:"Los garfunas, descendientes de africanos y caribes, llegaron en el siglo XVIII. Su msica, gastronoma y tradiciones son fundamentales en la identidad islea."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-semibold mb-3",children:"Turismo Moderno"}),a.jsx("p",{children:"Desde los aos 70, las islas se han desarrollado como destino turstico de renombre mundial, enfocado en buceo, ecoturismo y conservacin ambiental."})]})]})]})]})}),a.jsx("section",{className:"animate-fadeInUp delay-600",children:a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-3xl p-10 lg:p-16 shadow-lg",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 mb-4 underline decoration-green-400 underline-offset-8 decoration-4",children:"Conservacin y Sostenibilidad"}),a.jsx("p",{className:"text-lg text-gray-700 max-w-3xl mx-auto",children:"Las Islas de la Baha estn comprometidas con la proteccin y el manejo sostenible de sus recursos naturales para preservar su biodiversidad y belleza nica."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 text-gray-700 leading-relaxed",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-md hover:shadow-xl transition-shadow",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Arrecife Mesoamericano"}),a.jsx("p",{children:"Parte del segundo arrecife de coral ms grande del mundo, protegido mediante reas marinas reguladas y proyectos de restauracin coralina."})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-md hover:shadow-xl transition-shadow",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Turismo Responsable"}),a.jsx("p",{children:"Se fomentan prcticas sostenibles que minimizan el impacto ambiental, regulan actividades acuticas y promueven la educacin ambiental entre visitantes y residentes."})]})]})]})})]}),a.jsx("style",{children:`
        @keyframes fadeInUp {
          0% {
            opacity: 0;
            transform: translateY(30px);
          }
          100% {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes fadeInDown {
          0% {
            opacity: 0;
            transform: translateY(-30px);
          }
          100% {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes slideIn {
          0% {
            opacity: 0;
            transform: translateX(-40px);
          }
          100% {
            opacity: 1;
            transform: translateX(0);
          }
        }
        .animate-fadeInUp {
          animation: fadeInUp 0.8s ease forwards;
        }
        .animate-fadeInDown {
          animation: fadeInDown 0.8s ease forwards;
        }
        .animate-slideIn {
          animation: slideIn 0.9s ease forwards;
        }
        .delay-150 {
          animation-delay: 0.15s;
        }
        .delay-300 {
          animation-delay: 0.3s;
        }
        .delay-450 {
          animation-delay: 0.45s;
        }
        .delay-600 {
          animation-delay: 0.6s;
        }
      `})]})},DL=()=>{const{mostFollowedBusinesses:t,loading:e,followersMap:n}=Fs(),{businesses:s}=Fs(),i=s.filter(j=>j.is_public!==!1).length,[l,u]=h.useState(0),d=h.useRef(null),[f,p]=h.useState(!1),[g,x]=h.useState(!1),[b,y]=h.useState(!1),[N,k]=h.useState(!1);return h.useEffect(()=>{x(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0),window.addEventListener("beforeinstallprompt",j=>{j.preventDefault(),d.current=j})},[]),h.useEffect(()=>{let j=0;if(i===0){u(0);return}const _=Math.max(Math.floor(1200/i),20),L=setInterval(()=>{j+=1,u(S=>S<i?S+1:(clearInterval(L),S)),j>=i&&clearInterval(L)},_);return()=>clearInterval(L)},[i]),a.jsxs("div",{className:"min-h-screen",children:[a.jsx(kn,{}),a.jsx(IL,{}),a.jsx("section",{className:"py-16 bg-gray-50",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16 max-w-3xl mx-auto px-4",children:[a.jsx("h2",{className:"text-5xl font-extrabold text-gray-900 mb-4 tracking-tight drop-shadow-md",children:"Negocios Destacados"}),a.jsxs("p",{className:"text-lg md:text-xl text-gray-600 max-w-xl mx-auto leading-relaxed",children:["Descubre los negocios con ms ",a.jsx("span",{className:"font-semibold text-teal-600",children:"seguidores"})," en las Islas de la Baha"]}),a.jsxs("div",{className:"mt-6 flex justify-center space-x-3",children:[a.jsx("span",{className:"inline-block w-20 h-1 bg-teal-500 rounded-full animate-pulse"}),a.jsx("span",{className:"inline-block w-12 h-1 bg-teal-300 rounded-full animate-pulse delay-150"}),a.jsx("span",{className:"inline-block w-8 h-1 bg-teal-200 rounded-full animate-pulse delay-300"})]})]}),e?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((j,M)=>a.jsxs("div",{className:"bg-white rounded-lg p-6 animate-pulse",children:[a.jsx("div",{className:"h-48 bg-gray-300 rounded-lg mb-4"}),a.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),a.jsx("div",{className:"h-4 bg-gray-300 rounded w-2/3"})]},M))}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.filter(j=>j.is_public!==!1).slice(0,6).map(j=>a.jsx(by,{business:j,followers:n[j.id]||0},j.id))}),a.jsx("div",{className:"text-center mt-12",children:a.jsx(vt,{to:"/directorio",children:a.jsx("div",{className:"flex justify-center",children:a.jsxs(ie,{size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center gap-2 px-6 py-3 rounded-full shadow-lg transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-blue-300",children:["Ver Todos los Negocios",a.jsx(Cx,{className:"ml-1 h-5 w-5 transition-transform duration-300 group-hover:translate-x-1"})]})})})})]})}),a.jsx(wy,{}),a.jsx(RL,{isStandalone:g,installPromptRef:d}),a.jsx(Qo,{})]})},jy=h.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:Je("flex min-h-[60px] w-full rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",t),ref:n,...e}));jy.displayName="Textarea";function o0(t,[e,n]){return Math.min(n,Math.max(e,t))}function ky(t){const e=t+"CollectionProvider",[n,s]=xs(e),[i,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=k=>{const{scope:j,children:M}=k,_=ge.useRef(null),L=ge.useRef(new Map).current;return a.jsx(i,{scope:j,itemMap:L,collectionRef:_,children:M})};u.displayName=e;const d=t+"CollectionSlot",f=Da(d),p=ge.forwardRef((k,j)=>{const{scope:M,children:_}=k,L=l(d,M),S=ht(j,L.collectionRef);return a.jsx(f,{ref:S,children:_})});p.displayName=d;const g=t+"CollectionItemSlot",x="data-radix-collection-item",b=Da(g),y=ge.forwardRef((k,j)=>{const{scope:M,children:_,...L}=k,S=ge.useRef(null),P=ht(j,S),R=l(g,M);return ge.useEffect(()=>(R.itemMap.set(S,{ref:S,...L}),()=>void R.itemMap.delete(S))),a.jsx(b,{[x]:"",ref:P,children:_})});y.displayName=g;function N(k){const j=l(t+"CollectionConsumer",k);return ge.useCallback(()=>{const _=j.collectionRef.current;if(!_)return[];const L=Array.from(_.querySelectorAll(`[${x}]`));return Array.from(j.itemMap.values()).sort((R,O)=>L.indexOf(R.ref.current)-L.indexOf(O.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:u,Slot:p,ItemSlot:y},N,s]}var AL=h.createContext(void 0);function Uf(t){const e=h.useContext(AL);return t||e||"ltr"}const zL=["top","right","bottom","left"],ms=Math.min,wn=Math.max,ic=Math.round,zl=Math.floor,lr=t=>({x:t,y:t}),$L={left:"right",right:"left",bottom:"top",top:"bottom"},UL={start:"end",end:"start"};function of(t,e,n){return wn(t,ms(e,n))}function Pr(t,e){return typeof t=="function"?t(e):t}function Mr(t){return t.split("-")[0]}function Va(t){return t.split("-")[1]}function Bf(t){return t==="x"?"y":"x"}function Ff(t){return t==="y"?"height":"width"}const BL=new Set(["top","bottom"]);function ir(t){return BL.has(Mr(t))?"y":"x"}function Wf(t){return Bf(ir(t))}function FL(t,e,n){n===void 0&&(n=!1);const s=Va(t),i=Wf(t),l=Ff(i);let u=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=lc(u)),[u,lc(u)]}function WL(t){const e=lc(t);return[lf(t),e,lf(e)]}function lf(t){return t.replace(/start|end/g,e=>UL[e])}const i0=["left","right"],l0=["right","left"],VL=["top","bottom"],HL=["bottom","top"];function qL(t,e,n){switch(t){case"top":case"bottom":return n?e?l0:i0:e?i0:l0;case"left":case"right":return e?VL:HL;default:return[]}}function GL(t,e,n,s){const i=Va(t);let l=qL(Mr(t),n==="start",s);return i&&(l=l.map(u=>u+"-"+i),e&&(l=l.concat(l.map(lf)))),l}function lc(t){return t.replace(/left|right|bottom|top/g,e=>$L[e])}function KL(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ny(t){return typeof t!="number"?KL(t):{top:t,right:t,bottom:t,left:t}}function cc(t){const{x:e,y:n,width:s,height:i}=t;return{width:s,height:i,top:n,left:e,right:e+s,bottom:n+i,x:e,y:n}}function c0(t,e,n){let{reference:s,floating:i}=t;const l=ir(e),u=Wf(e),d=Ff(u),f=Mr(e),p=l==="y",g=s.x+s.width/2-i.width/2,x=s.y+s.height/2-i.height/2,b=s[d]/2-i[d]/2;let y;switch(f){case"top":y={x:g,y:s.y-i.height};break;case"bottom":y={x:g,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:x};break;case"left":y={x:s.x-i.width,y:x};break;default:y={x:s.x,y:s.y}}switch(Va(e)){case"start":y[u]-=b*(n&&p?-1:1);break;case"end":y[u]+=b*(n&&p?-1:1);break}return y}const ZL=async(t,e,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:l=[],platform:u}=n,d=l.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y:x}=c0(p,s,f),b=s,y={},N=0;for(let k=0;k<d.length;k++){const{name:j,fn:M}=d[k],{x:_,y:L,data:S,reset:P}=await M({x:g,y:x,initialPlacement:s,placement:b,strategy:i,middlewareData:y,rects:p,platform:u,elements:{reference:t,floating:e}});g=_??g,x=L??x,y={...y,[j]:{...y[j],...S}},P&&N<=50&&(N++,typeof P=="object"&&(P.placement&&(b=P.placement),P.rects&&(p=P.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:g,y:x}=c0(p,b,f)),k=-1)}return{x:g,y:x,placement:b,strategy:i,middlewareData:y}};async function ei(t,e){var n;e===void 0&&(e={});const{x:s,y:i,platform:l,rects:u,elements:d,strategy:f}=t,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:x="floating",altBoundary:b=!1,padding:y=0}=Pr(e,t),N=Ny(y),j=d[b?x==="floating"?"reference":"floating":x],M=cc(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(j)))==null||n?j:j.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:p,rootBoundary:g,strategy:f})),_=x==="floating"?{x:s,y:i,width:u.floating.width,height:u.floating.height}:u.reference,L=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),S=await(l.isElement==null?void 0:l.isElement(L))?await(l.getScale==null?void 0:l.getScale(L))||{x:1,y:1}:{x:1,y:1},P=cc(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:_,offsetParent:L,strategy:f}):_);return{top:(M.top-P.top+N.top)/S.y,bottom:(P.bottom-M.bottom+N.bottom)/S.y,left:(M.left-P.left+N.left)/S.x,right:(P.right-M.right+N.right)/S.x}}const JL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:i,rects:l,platform:u,elements:d,middlewareData:f}=e,{element:p,padding:g=0}=Pr(t,e)||{};if(p==null)return{};const x=Ny(g),b={x:n,y:s},y=Wf(i),N=Ff(y),k=await u.getDimensions(p),j=y==="y",M=j?"top":"left",_=j?"bottom":"right",L=j?"clientHeight":"clientWidth",S=l.reference[N]+l.reference[y]-b[y]-l.floating[N],P=b[y]-l.reference[y],R=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let O=R?R[L]:0;(!O||!await(u.isElement==null?void 0:u.isElement(R)))&&(O=d.floating[L]||l.floating[N]);const F=S/2-P/2,W=O/2-k[N]/2-1,A=ms(x[M],W),Q=ms(x[_],W),J=A,re=O-k[N]-Q,ee=O/2-k[N]/2+F,T=of(J,ee,re),q=!f.arrow&&Va(i)!=null&&ee!==T&&l.reference[N]/2-(ee<J?A:Q)-k[N]/2<0,K=q?ee<J?ee-J:ee-re:0;return{[y]:b[y]+K,data:{[y]:T,centerOffset:ee-T-K,...q&&{alignmentOffset:K}},reset:q}}}),YL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:i,middlewareData:l,rects:u,initialPlacement:d,platform:f,elements:p}=e,{mainAxis:g=!0,crossAxis:x=!0,fallbackPlacements:b,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:k=!0,...j}=Pr(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const M=Mr(i),_=ir(d),L=Mr(d)===d,S=await(f.isRTL==null?void 0:f.isRTL(p.floating)),P=b||(L||!k?[lc(d)]:WL(d)),R=N!=="none";!b&&R&&P.push(...GL(d,k,N,S));const O=[d,...P],F=await ei(e,j),W=[];let A=((s=l.flip)==null?void 0:s.overflows)||[];if(g&&W.push(F[M]),x){const ee=FL(i,u,S);W.push(F[ee[0]],F[ee[1]])}if(A=[...A,{placement:i,overflows:W}],!W.every(ee=>ee<=0)){var Q,J;const ee=(((Q=l.flip)==null?void 0:Q.index)||0)+1,T=O[ee];if(T&&(!(x==="alignment"?_!==ir(T):!1)||A.every(U=>U.overflows[0]>0&&ir(U.placement)===_)))return{data:{index:ee,overflows:A},reset:{placement:T}};let q=(J=A.filter(K=>K.overflows[0]<=0).sort((K,U)=>K.overflows[1]-U.overflows[1])[0])==null?void 0:J.placement;if(!q)switch(y){case"bestFit":{var re;const K=(re=A.filter(U=>{if(R){const D=ir(U.placement);return D===_||D==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(D=>D>0).reduce((D,V)=>D+V,0)]).sort((U,D)=>U[1]-D[1])[0])==null?void 0:re[0];K&&(q=K);break}case"initialPlacement":q=d;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function u0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function d0(t){return zL.some(e=>t[e]>=0)}const XL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...i}=Pr(t,e);switch(s){case"referenceHidden":{const l=await ei(e,{...i,elementContext:"reference"}),u=u0(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:d0(u)}}}case"escaped":{const l=await ei(e,{...i,altBoundary:!0}),u=u0(l,n.floating);return{data:{escapedOffsets:u,escaped:d0(u)}}}default:return{}}}}},Sy=new Set(["left","top"]);async function QL(t,e){const{placement:n,platform:s,elements:i}=t,l=await(s.isRTL==null?void 0:s.isRTL(i.floating)),u=Mr(n),d=Va(n),f=ir(n)==="y",p=Sy.has(u)?-1:1,g=l&&f?-1:1,x=Pr(e,t);let{mainAxis:b,crossAxis:y,alignmentAxis:N}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return d&&typeof N=="number"&&(y=d==="end"?N*-1:N),f?{x:y*g,y:b*p}:{x:b*p,y:y*g}}const eP=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:i,y:l,placement:u,middlewareData:d}=e,f=await QL(e,t);return u===((n=d.offset)==null?void 0:n.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:i+f.x,y:l+f.y,data:{...f,placement:u}}}}},tP=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:i}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:j=>{let{x:M,y:_}=j;return{x:M,y:_}}},...f}=Pr(t,e),p={x:n,y:s},g=await ei(e,f),x=ir(Mr(i)),b=Bf(x);let y=p[b],N=p[x];if(l){const j=b==="y"?"top":"left",M=b==="y"?"bottom":"right",_=y+g[j],L=y-g[M];y=of(_,y,L)}if(u){const j=x==="y"?"top":"left",M=x==="y"?"bottom":"right",_=N+g[j],L=N-g[M];N=of(_,N,L)}const k=d.fn({...e,[b]:y,[x]:N});return{...k,data:{x:k.x-n,y:k.y-s,enabled:{[b]:l,[x]:u}}}}}},nP=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:i,rects:l,middlewareData:u}=e,{offset:d=0,mainAxis:f=!0,crossAxis:p=!0}=Pr(t,e),g={x:n,y:s},x=ir(i),b=Bf(x);let y=g[b],N=g[x];const k=Pr(d,e),j=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(f){const L=b==="y"?"height":"width",S=l.reference[b]-l.floating[L]+j.mainAxis,P=l.reference[b]+l.reference[L]-j.mainAxis;y<S?y=S:y>P&&(y=P)}if(p){var M,_;const L=b==="y"?"width":"height",S=Sy.has(Mr(i)),P=l.reference[x]-l.floating[L]+(S&&((M=u.offset)==null?void 0:M[x])||0)+(S?0:j.crossAxis),R=l.reference[x]+l.reference[L]+(S?0:((_=u.offset)==null?void 0:_[x])||0)-(S?j.crossAxis:0);N<P?N=P:N>R&&(N=R)}return{[b]:y,[x]:N}}}},rP=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:i,rects:l,platform:u,elements:d}=e,{apply:f=()=>{},...p}=Pr(t,e),g=await ei(e,p),x=Mr(i),b=Va(i),y=ir(i)==="y",{width:N,height:k}=l.floating;let j,M;x==="top"||x==="bottom"?(j=x,M=b===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(M=x,j=b==="end"?"top":"bottom");const _=k-g.top-g.bottom,L=N-g.left-g.right,S=ms(k-g[j],_),P=ms(N-g[M],L),R=!e.middlewareData.shift;let O=S,F=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(F=L),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(O=_),R&&!b){const A=wn(g.left,0),Q=wn(g.right,0),J=wn(g.top,0),re=wn(g.bottom,0);y?F=N-2*(A!==0||Q!==0?A+Q:wn(g.left,g.right)):O=k-2*(J!==0||re!==0?J+re:wn(g.top,g.bottom))}await f({...e,availableWidth:F,availableHeight:O});const W=await u.getDimensions(d.floating);return N!==W.width||k!==W.height?{reset:{rects:!0}}:{}}}};function yc(){return typeof window<"u"}function Ha(t){return Cy(t)?(t.nodeName||"").toLowerCase():"#document"}function Nn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fr(t){var e;return(e=(Cy(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Cy(t){return yc()?t instanceof Node||t instanceof Nn(t).Node:!1}function qn(t){return yc()?t instanceof Element||t instanceof Nn(t).Element:!1}function dr(t){return yc()?t instanceof HTMLElement||t instanceof Nn(t).HTMLElement:!1}function f0(t){return!yc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nn(t).ShadowRoot}const sP=new Set(["inline","contents"]);function mi(t){const{overflow:e,overflowX:n,overflowY:s,display:i}=Gn(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!sP.has(i)}const aP=new Set(["table","td","th"]);function oP(t){return aP.has(Ha(t))}const iP=[":popover-open",":modal"];function bc(t){return iP.some(e=>{try{return t.matches(e)}catch{return!1}})}const lP=["transform","translate","scale","rotate","perspective"],cP=["transform","translate","scale","rotate","perspective","filter"],uP=["paint","layout","strict","content"];function Vf(t){const e=Hf(),n=qn(t)?Gn(t):t;return lP.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||cP.some(s=>(n.willChange||"").includes(s))||uP.some(s=>(n.contain||"").includes(s))}function dP(t){let e=ps(t);for(;dr(e)&&!za(e);){if(Vf(e))return e;if(bc(e))return null;e=ps(e)}return null}function Hf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fP=new Set(["html","body","#document"]);function za(t){return fP.has(Ha(t))}function Gn(t){return Nn(t).getComputedStyle(t)}function wc(t){return qn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ps(t){if(Ha(t)==="html")return t;const e=t.assignedSlot||t.parentNode||f0(t)&&t.host||fr(t);return f0(e)?e.host:e}function Ey(t){const e=ps(t);return za(e)?t.ownerDocument?t.ownerDocument.body:t.body:dr(e)&&mi(e)?e:Ey(e)}function ti(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Ey(t),l=i===((s=t.ownerDocument)==null?void 0:s.body),u=Nn(i);if(l){const d=cf(u);return e.concat(u,u.visualViewport||[],mi(i)?i:[],d&&n?ti(d):[])}return e.concat(i,ti(i,[],n))}function cf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _y(t){const e=Gn(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const i=dr(t),l=i?t.offsetWidth:n,u=i?t.offsetHeight:s,d=ic(n)!==l||ic(s)!==u;return d&&(n=l,s=u),{width:n,height:s,$:d}}function qf(t){return qn(t)?t:t.contextElement}function Oa(t){const e=qf(t);if(!dr(e))return lr(1);const n=e.getBoundingClientRect(),{width:s,height:i,$:l}=_y(e);let u=(l?ic(n.width):n.width)/s,d=(l?ic(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const hP=lr(0);function Ly(t){const e=Nn(t);return!Hf()||!e.visualViewport?hP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mP(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nn(t)?!1:e}function Vs(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=qf(t);let u=lr(1);e&&(s?qn(s)&&(u=Oa(s)):u=Oa(t));const d=mP(l,n,s)?Ly(l):lr(0);let f=(i.left+d.x)/u.x,p=(i.top+d.y)/u.y,g=i.width/u.x,x=i.height/u.y;if(l){const b=Nn(l),y=s&&qn(s)?Nn(s):s;let N=b,k=cf(N);for(;k&&s&&y!==N;){const j=Oa(k),M=k.getBoundingClientRect(),_=Gn(k),L=M.left+(k.clientLeft+parseFloat(_.paddingLeft))*j.x,S=M.top+(k.clientTop+parseFloat(_.paddingTop))*j.y;f*=j.x,p*=j.y,g*=j.x,x*=j.y,f+=L,p+=S,N=Nn(k),k=cf(N)}}return cc({width:g,height:x,x:f,y:p})}function Gf(t,e){const n=wc(t).scrollLeft;return e?e.left+n:Vs(fr(t)).left+n}function Py(t,e,n){n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=s.left+e.scrollLeft-(n?0:Gf(t,s)),l=s.top+e.scrollTop;return{x:i,y:l}}function pP(t){let{elements:e,rect:n,offsetParent:s,strategy:i}=t;const l=i==="fixed",u=fr(s),d=e?bc(e.floating):!1;if(s===u||d&&l)return n;let f={scrollLeft:0,scrollTop:0},p=lr(1);const g=lr(0),x=dr(s);if((x||!x&&!l)&&((Ha(s)!=="body"||mi(u))&&(f=wc(s)),dr(s))){const y=Vs(s);p=Oa(s),g.x=y.x+s.clientLeft,g.y=y.y+s.clientTop}const b=u&&!x&&!l?Py(u,f,!0):lr(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-f.scrollLeft*p.x+g.x+b.x,y:n.y*p.y-f.scrollTop*p.y+g.y+b.y}}function gP(t){return Array.from(t.getClientRects())}function vP(t){const e=fr(t),n=wc(t),s=t.ownerDocument.body,i=wn(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),l=wn(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-n.scrollLeft+Gf(t);const d=-n.scrollTop;return Gn(s).direction==="rtl"&&(u+=wn(e.clientWidth,s.clientWidth)-i),{width:i,height:l,x:u,y:d}}function xP(t,e){const n=Nn(t),s=fr(t),i=n.visualViewport;let l=s.clientWidth,u=s.clientHeight,d=0,f=0;if(i){l=i.width,u=i.height;const p=Hf();(!p||p&&e==="fixed")&&(d=i.offsetLeft,f=i.offsetTop)}return{width:l,height:u,x:d,y:f}}const yP=new Set(["absolute","fixed"]);function bP(t,e){const n=Vs(t,!0,e==="fixed"),s=n.top+t.clientTop,i=n.left+t.clientLeft,l=dr(t)?Oa(t):lr(1),u=t.clientWidth*l.x,d=t.clientHeight*l.y,f=i*l.x,p=s*l.y;return{width:u,height:d,x:f,y:p}}function h0(t,e,n){let s;if(e==="viewport")s=xP(t,n);else if(e==="document")s=vP(fr(t));else if(qn(e))s=bP(e,n);else{const i=Ly(t);s={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return cc(s)}function My(t,e){const n=ps(t);return n===e||!qn(n)||za(n)?!1:Gn(n).position==="fixed"||My(n,e)}function wP(t,e){const n=e.get(t);if(n)return n;let s=ti(t,[],!1).filter(d=>qn(d)&&Ha(d)!=="body"),i=null;const l=Gn(t).position==="fixed";let u=l?ps(t):t;for(;qn(u)&&!za(u);){const d=Gn(u),f=Vf(u);!f&&d.position==="fixed"&&(i=null),(l?!f&&!i:!f&&d.position==="static"&&!!i&&yP.has(i.position)||mi(u)&&!f&&My(t,u))?s=s.filter(g=>g!==u):i=d,u=ps(u)}return e.set(t,s),s}function jP(t){let{element:e,boundary:n,rootBoundary:s,strategy:i}=t;const u=[...n==="clippingAncestors"?bc(e)?[]:wP(e,this._c):[].concat(n),s],d=u[0],f=u.reduce((p,g)=>{const x=h0(e,g,i);return p.top=wn(x.top,p.top),p.right=ms(x.right,p.right),p.bottom=ms(x.bottom,p.bottom),p.left=wn(x.left,p.left),p},h0(e,d,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function kP(t){const{width:e,height:n}=_y(t);return{width:e,height:n}}function NP(t,e,n){const s=dr(e),i=fr(e),l=n==="fixed",u=Vs(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const f=lr(0);function p(){f.x=Gf(i)}if(s||!s&&!l)if((Ha(e)!=="body"||mi(i))&&(d=wc(e)),s){const y=Vs(e,!0,l,e);f.x=y.x+e.clientLeft,f.y=y.y+e.clientTop}else i&&p();l&&!s&&i&&p();const g=i&&!s&&!l?Py(i,d):lr(0),x=u.left+d.scrollLeft-f.x-g.x,b=u.top+d.scrollTop-f.y-g.y;return{x,y:b,width:u.width,height:u.height}}function Od(t){return Gn(t).position==="static"}function m0(t,e){if(!dr(t)||Gn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return fr(t)===n&&(n=n.ownerDocument.body),n}function Ty(t,e){const n=Nn(t);if(bc(t))return n;if(!dr(t)){let i=ps(t);for(;i&&!za(i);){if(qn(i)&&!Od(i))return i;i=ps(i)}return n}let s=m0(t,e);for(;s&&oP(s)&&Od(s);)s=m0(s,e);return s&&za(s)&&Od(s)&&!Vf(s)?n:s||dP(t)||n}const SP=async function(t){const e=this.getOffsetParent||Ty,n=this.getDimensions,s=await n(t.floating);return{reference:NP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function CP(t){return Gn(t).direction==="rtl"}const EP={convertOffsetParentRelativeRectToViewportRelativeRect:pP,getDocumentElement:fr,getClippingRect:jP,getOffsetParent:Ty,getElementRects:SP,getClientRects:gP,getDimensions:kP,getScale:Oa,isElement:qn,isRTL:CP};function Oy(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function _P(t,e){let n=null,s;const i=fr(t);function l(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const p=t.getBoundingClientRect(),{left:g,top:x,width:b,height:y}=p;if(d||e(),!b||!y)return;const N=zl(x),k=zl(i.clientWidth-(g+b)),j=zl(i.clientHeight-(x+y)),M=zl(g),L={rootMargin:-N+"px "+-k+"px "+-j+"px "+-M+"px",threshold:wn(0,ms(1,f))||1};let S=!0;function P(R){const O=R[0].intersectionRatio;if(O!==f){if(!S)return u();O?u(!1,O):s=setTimeout(()=>{u(!1,1e-7)},1e3)}O===1&&!Oy(p,t.getBoundingClientRect())&&u(),S=!1}try{n=new IntersectionObserver(P,{...L,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,L)}n.observe(t)}return u(!0),l}function LP(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,p=qf(t),g=i||l?[...p?ti(p):[],...ti(e)]:[];g.forEach(M=>{i&&M.addEventListener("scroll",n,{passive:!0}),l&&M.addEventListener("resize",n)});const x=p&&d?_P(p,n):null;let b=-1,y=null;u&&(y=new ResizeObserver(M=>{let[_]=M;_&&_.target===p&&y&&(y.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var L;(L=y)==null||L.observe(e)})),n()}),p&&!f&&y.observe(p),y.observe(e));let N,k=f?Vs(t):null;f&&j();function j(){const M=Vs(t);k&&!Oy(k,M)&&n(),k=M,N=requestAnimationFrame(j)}return n(),()=>{var M;g.forEach(_=>{i&&_.removeEventListener("scroll",n),l&&_.removeEventListener("resize",n)}),x==null||x(),(M=y)==null||M.disconnect(),y=null,f&&cancelAnimationFrame(N)}}const PP=eP,MP=tP,TP=YL,OP=rP,RP=XL,p0=JL,IP=nP,DP=(t,e,n)=>{const s=new Map,i={platform:EP,...n},l={...i.platform,_c:s};return ZL(t,e,{...i,platform:l})};var AP=typeof document<"u",zP=function(){},Wl=AP?h.useLayoutEffect:zP;function uc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!uc(t[s],e[s]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,i[s]))return!1;for(s=n;s--!==0;){const l=i[s];if(!(l==="_owner"&&t.$$typeof)&&!uc(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function Ry(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function g0(t,e){const n=Ry(t);return Math.round(e*n)/n}function Rd(t){const e=h.useRef(t);return Wl(()=>{e.current=t}),e}function $P(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:l,floating:u}={},transform:d=!0,whileElementsMounted:f,open:p}=t,[g,x]=h.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,y]=h.useState(s);uc(b,s)||y(s);const[N,k]=h.useState(null),[j,M]=h.useState(null),_=h.useCallback(U=>{U!==R.current&&(R.current=U,k(U))},[]),L=h.useCallback(U=>{U!==O.current&&(O.current=U,M(U))},[]),S=l||N,P=u||j,R=h.useRef(null),O=h.useRef(null),F=h.useRef(g),W=f!=null,A=Rd(f),Q=Rd(i),J=Rd(p),re=h.useCallback(()=>{if(!R.current||!O.current)return;const U={placement:e,strategy:n,middleware:b};Q.current&&(U.platform=Q.current),DP(R.current,O.current,U).then(D=>{const V={...D,isPositioned:J.current!==!1};ee.current&&!uc(F.current,V)&&(F.current=V,Zn.flushSync(()=>{x(V)}))})},[b,e,n,Q,J]);Wl(()=>{p===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,x(U=>({...U,isPositioned:!1})))},[p]);const ee=h.useRef(!1);Wl(()=>(ee.current=!0,()=>{ee.current=!1}),[]),Wl(()=>{if(S&&(R.current=S),P&&(O.current=P),S&&P){if(A.current)return A.current(S,P,re);re()}},[S,P,re,A,W]);const T=h.useMemo(()=>({reference:R,floating:O,setReference:_,setFloating:L}),[_,L]),q=h.useMemo(()=>({reference:S,floating:P}),[S,P]),K=h.useMemo(()=>{const U={position:n,left:0,top:0};if(!q.floating)return U;const D=g0(q.floating,g.x),V=g0(q.floating,g.y);return d?{...U,transform:"translate("+D+"px, "+V+"px)",...Ry(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:V}},[n,d,q.floating,g.x,g.y]);return h.useMemo(()=>({...g,update:re,refs:T,elements:q,floatingStyles:K}),[g,re,T,q,K])}const UP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:i}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?p0({element:s.current,padding:i}).fn(n):{}:s?p0({element:s,padding:i}).fn(n):{}}}},BP=(t,e)=>({...PP(t),options:[t,e]}),FP=(t,e)=>({...MP(t),options:[t,e]}),WP=(t,e)=>({...IP(t),options:[t,e]}),VP=(t,e)=>({...TP(t),options:[t,e]}),HP=(t,e)=>({...OP(t),options:[t,e]}),qP=(t,e)=>({...RP(t),options:[t,e]}),GP=(t,e)=>({...UP(t),options:[t,e]});var KP="Arrow",Iy=h.forwardRef((t,e)=>{const{children:n,width:s=10,height:i=5,...l}=t;return a.jsx(Ve.svg,{...l,ref:e,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Iy.displayName=KP;var ZP=Iy;function Dy(t){const[e,n]=h.useState(void 0);return Ot(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let u,d;if("borderBoxSize"in l){const f=l.borderBoxSize,p=Array.isArray(f)?f[0]:f;u=p.inlineSize,d=p.blockSize}else u=t.offsetWidth,d=t.offsetHeight;n({width:u,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var Kf="Popper",[Ay,zy]=xs(Kf),[JP,$y]=Ay(Kf),Uy=t=>{const{__scopePopper:e,children:n}=t,[s,i]=h.useState(null);return a.jsx(JP,{scope:e,anchor:s,onAnchorChange:i,children:n})};Uy.displayName=Kf;var By="PopperAnchor",Fy=h.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...i}=t,l=$y(By,n),u=h.useRef(null),d=ht(e,u);return h.useEffect(()=>{l.onAnchorChange((s==null?void 0:s.current)||u.current)}),s?null:a.jsx(Ve.div,{...i,ref:d})});Fy.displayName=By;var Zf="PopperContent",[YP,XP]=Ay(Zf),Wy=h.forwardRef((t,e)=>{var te,le,xe,ce,oe,Ee;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:l="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:x="partial",hideWhenDetached:b=!1,updatePositionStrategy:y="optimized",onPlaced:N,...k}=t,j=$y(Zf,n),[M,_]=h.useState(null),L=ht(e,Ue=>_(Ue)),[S,P]=h.useState(null),R=Dy(S),O=(R==null?void 0:R.width)??0,F=(R==null?void 0:R.height)??0,W=s+(l!=="center"?"-"+l:""),A=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},Q=Array.isArray(p)?p:[p],J=Q.length>0,re={padding:A,boundary:Q.filter(e4),altBoundary:J},{refs:ee,floatingStyles:T,placement:q,isPositioned:K,middlewareData:U}=$P({strategy:"fixed",placement:W,whileElementsMounted:(...Ue)=>LP(...Ue,{animationFrame:y==="always"}),elements:{reference:j.anchor},middleware:[BP({mainAxis:i+F,alignmentAxis:u}),f&&FP({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?WP():void 0,...re}),f&&VP({...re}),HP({...re,apply:({elements:Ue,rects:Ye,availableWidth:De,availableHeight:bt})=>{const{width:mt,height:kt}=Ye.reference,dt=Ue.floating.style;dt.setProperty("--radix-popper-available-width",`${De}px`),dt.setProperty("--radix-popper-available-height",`${bt}px`),dt.setProperty("--radix-popper-anchor-width",`${mt}px`),dt.setProperty("--radix-popper-anchor-height",`${kt}px`)}}),S&&GP({element:S,padding:d}),t4({arrowWidth:O,arrowHeight:F}),b&&qP({strategy:"referenceHidden",...re})]}),[D,V]=qy(q),E=Lr(N);Ot(()=>{K&&(E==null||E())},[K,E]);const z=(te=U.arrow)==null?void 0:te.x,X=(le=U.arrow)==null?void 0:le.y,se=((xe=U.arrow)==null?void 0:xe.centerOffset)!==0,[H,me]=h.useState();return Ot(()=>{M&&me(window.getComputedStyle(M).zIndex)},[M]),a.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:K?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[(ce=U.transformOrigin)==null?void 0:ce.x,(oe=U.transformOrigin)==null?void 0:oe.y].join(" "),...((Ee=U.hide)==null?void 0:Ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(YP,{scope:n,placedSide:D,onArrowChange:P,arrowX:z,arrowY:X,shouldHideArrow:se,children:a.jsx(Ve.div,{"data-side":D,"data-align":V,...k,ref:L,style:{...k.style,animation:K?void 0:"none"}})})})});Wy.displayName=Zf;var Vy="PopperArrow",QP={top:"bottom",right:"left",bottom:"top",left:"right"},Hy=h.forwardRef(function(e,n){const{__scopePopper:s,...i}=e,l=XP(Vy,s),u=QP[l.placedSide];return a.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:a.jsx(ZP,{...i,ref:n,style:{...i.style,display:"block"}})})});Hy.displayName=Vy;function e4(t){return t!==null}var t4=t=>({name:"transformOrigin",options:t,fn(e){var j,M,_;const{placement:n,rects:s,middlewareData:i}=e,u=((j=i.arrow)==null?void 0:j.centerOffset)!==0,d=u?0:t.arrowWidth,f=u?0:t.arrowHeight,[p,g]=qy(n),x={start:"0%",center:"50%",end:"100%"}[g],b=(((M=i.arrow)==null?void 0:M.x)??0)+d/2,y=(((_=i.arrow)==null?void 0:_.y)??0)+f/2;let N="",k="";return p==="bottom"?(N=u?x:`${b}px`,k=`${-f}px`):p==="top"?(N=u?x:`${b}px`,k=`${s.floating.height+f}px`):p==="right"?(N=`${-f}px`,k=u?x:`${y}px`):p==="left"&&(N=`${s.floating.width+f}px`,k=u?x:`${y}px`),{data:{x:N,y:k}}}});function qy(t){const[e,n="center"]=t.split("-");return[e,n]}var n4=Uy,r4=Fy,s4=Wy,a4=Hy;function Gy(t){const e=h.useRef({value:t,previous:t});return h.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Ky=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),o4="VisuallyHidden",i4=h.forwardRef((t,e)=>a.jsx(Ve.span,{...t,ref:e,style:{...Ky,...t.style}}));i4.displayName=o4;var l4=[" ","Enter","ArrowUp","ArrowDown"],c4=[" ","Enter"],Hs="Select",[jc,kc,u4]=ky(Hs),[qa,NT]=xs(Hs,[u4,zy]),Nc=zy(),[d4,ys]=qa(Hs),[f4,h4]=qa(Hs),Zy=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:i,onOpenChange:l,value:u,defaultValue:d,onValueChange:f,dir:p,name:g,autoComplete:x,disabled:b,required:y,form:N}=t,k=Nc(e),[j,M]=h.useState(null),[_,L]=h.useState(null),[S,P]=h.useState(!1),R=Uf(p),[O,F]=Aa({prop:s,defaultProp:i??!1,onChange:l,caller:Hs}),[W,A]=Aa({prop:u,defaultProp:d,onChange:f,caller:Hs}),Q=h.useRef(null),J=j?N||!!j.closest("form"):!0,[re,ee]=h.useState(new Set),T=Array.from(re).map(q=>q.props.value).join(";");return a.jsx(n4,{...k,children:a.jsxs(d4,{required:y,scope:e,trigger:j,onTriggerChange:M,valueNode:_,onValueNodeChange:L,valueNodeHasChildren:S,onValueNodeHasChildrenChange:P,contentId:ds(),value:W,onValueChange:A,open:O,onOpenChange:F,dir:R,triggerPointerDownPosRef:Q,disabled:b,children:[a.jsx(jc.Provider,{scope:e,children:a.jsx(f4,{scope:t.__scopeSelect,onNativeOptionAdd:h.useCallback(q=>{ee(K=>new Set(K).add(q))},[]),onNativeOptionRemove:h.useCallback(q=>{ee(K=>{const U=new Set(K);return U.delete(q),U})},[]),children:n})}),J?a.jsxs(yb,{"aria-hidden":!0,required:y,tabIndex:-1,name:g,autoComplete:x,value:W,onChange:q=>A(q.target.value),disabled:b,form:N,children:[W===void 0?a.jsx("option",{value:""}):null,Array.from(re)]},T):null]})})};Zy.displayName=Hs;var Jy="SelectTrigger",Yy=h.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...i}=t,l=Nc(n),u=ys(Jy,n),d=u.disabled||s,f=ht(e,u.onTriggerChange),p=kc(n),g=h.useRef("touch"),[x,b,y]=wb(k=>{const j=p().filter(L=>!L.disabled),M=j.find(L=>L.value===u.value),_=jb(j,k,M);_!==void 0&&u.onValueChange(_.value)}),N=k=>{d||(u.onOpenChange(!0),y()),k&&(u.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return a.jsx(r4,{asChild:!0,...l,children:a.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":bb(u.value)?"":void 0,...i,ref:f,onClick:Ge(i.onClick,k=>{k.currentTarget.focus(),g.current!=="mouse"&&N(k)}),onPointerDown:Ge(i.onPointerDown,k=>{g.current=k.pointerType;const j=k.target;j.hasPointerCapture(k.pointerId)&&j.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(N(k),k.preventDefault())}),onKeyDown:Ge(i.onKeyDown,k=>{const j=x.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&b(k.key),!(j&&k.key===" ")&&l4.includes(k.key)&&(N(),k.preventDefault())})})})});Yy.displayName=Jy;var Xy="SelectValue",Qy=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:i,children:l,placeholder:u="",...d}=t,f=ys(Xy,n),{onValueNodeHasChildrenChange:p}=f,g=l!==void 0,x=ht(e,f.onValueNodeChange);return Ot(()=>{p(g)},[p,g]),a.jsx(Ve.span,{...d,ref:x,style:{pointerEvents:"none"},children:bb(f.value)?a.jsx(a.Fragment,{children:u}):l})});Qy.displayName=Xy;var m4="SelectIcon",eb=h.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...i}=t;return a.jsx(Ve.span,{"aria-hidden":!0,...i,ref:e,children:s||""})});eb.displayName=m4;var p4="SelectPortal",tb=t=>a.jsx(Rf,{asChild:!0,...t});tb.displayName=p4;var qs="SelectContent",nb=h.forwardRef((t,e)=>{const n=ys(qs,t.__scopeSelect),[s,i]=h.useState();if(Ot(()=>{i(new DocumentFragment)},[]),!n.open){const l=s;return l?Zn.createPortal(a.jsx(rb,{scope:t.__scopeSelect,children:a.jsx(jc.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),l):null}return a.jsx(sb,{...t,ref:e})});nb.displayName=qs;var Vn=10,[rb,bs]=qa(qs),g4="SelectContentImpl",v4=Da("SelectContent.RemoveScroll"),sb=h.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:l,onPointerDownOutside:u,side:d,sideOffset:f,align:p,alignOffset:g,arrowPadding:x,collisionBoundary:b,collisionPadding:y,sticky:N,hideWhenDetached:k,avoidCollisions:j,...M}=t,_=ys(qs,n),[L,S]=h.useState(null),[P,R]=h.useState(null),O=ht(e,te=>S(te)),[F,W]=h.useState(null),[A,Q]=h.useState(null),J=kc(n),[re,ee]=h.useState(!1),T=h.useRef(!1);h.useEffect(()=>{if(L)return Xx(L)},[L]),Wx();const q=h.useCallback(te=>{const[le,...xe]=J().map(Ee=>Ee.ref.current),[ce]=xe.slice(-1),oe=document.activeElement;for(const Ee of te)if(Ee===oe||(Ee==null||Ee.scrollIntoView({block:"nearest"}),Ee===le&&P&&(P.scrollTop=0),Ee===ce&&P&&(P.scrollTop=P.scrollHeight),Ee==null||Ee.focus(),document.activeElement!==oe))return},[J,P]),K=h.useCallback(()=>q([F,L]),[q,F,L]);h.useEffect(()=>{re&&K()},[re,K]);const{onOpenChange:U,triggerPointerDownPosRef:D}=_;h.useEffect(()=>{if(L){let te={x:0,y:0};const le=ce=>{var oe,Ee;te={x:Math.abs(Math.round(ce.pageX)-(((oe=D.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((Ee=D.current)==null?void 0:Ee.y)??0))}},xe=ce=>{te.x<=10&&te.y<=10?ce.preventDefault():L.contains(ce.target)||U(!1),document.removeEventListener("pointermove",le),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",xe,{capture:!0})}}},[L,U,D]),h.useEffect(()=>{const te=()=>U(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[U]);const[V,E]=wb(te=>{const le=J().filter(oe=>!oe.disabled),xe=le.find(oe=>oe.ref.current===document.activeElement),ce=jb(le,te,xe);ce&&setTimeout(()=>ce.ref.current.focus())}),z=h.useCallback((te,le,xe)=>{const ce=!T.current&&!xe;(_.value!==void 0&&_.value===le||ce)&&(W(te),ce&&(T.current=!0))},[_.value]),X=h.useCallback(()=>L==null?void 0:L.focus(),[L]),se=h.useCallback((te,le,xe)=>{const ce=!T.current&&!xe;(_.value!==void 0&&_.value===le||ce)&&Q(te)},[_.value]),H=s==="popper"?uf:ab,me=H===uf?{side:d,sideOffset:f,align:p,alignOffset:g,arrowPadding:x,collisionBoundary:b,collisionPadding:y,sticky:N,hideWhenDetached:k,avoidCollisions:j}:{};return a.jsx(rb,{scope:n,content:L,viewport:P,onViewportChange:R,itemRefCallback:z,selectedItem:F,onItemLeave:X,itemTextRefCallback:se,focusSelectedItem:K,selectedItemText:A,position:s,isPositioned:re,searchRef:V,children:a.jsx(If,{as:v4,allowPinchZoom:!0,children:a.jsx(Of,{asChild:!0,trapped:_.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Ge(i,te=>{var le;(le=_.trigger)==null||le.focus({preventScroll:!0}),te.preventDefault()}),children:a.jsx(Tf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:a.jsx(H,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:te=>te.preventDefault(),...M,...me,onPlaced:()=>ee(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:Ge(M.onKeyDown,te=>{const le=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!le&&te.key.length===1&&E(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let ce=J().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(te.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const oe=te.target,Ee=ce.indexOf(oe);ce=ce.slice(Ee+1)}setTimeout(()=>q(ce)),te.preventDefault()}})})})})})})});sb.displayName=g4;var x4="SelectItemAlignedPosition",ab=h.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...i}=t,l=ys(qs,n),u=bs(qs,n),[d,f]=h.useState(null),[p,g]=h.useState(null),x=ht(e,O=>g(O)),b=kc(n),y=h.useRef(!1),N=h.useRef(!0),{viewport:k,selectedItem:j,selectedItemText:M,focusSelectedItem:_}=u,L=h.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&p&&k&&j&&M){const O=l.trigger.getBoundingClientRect(),F=p.getBoundingClientRect(),W=l.valueNode.getBoundingClientRect(),A=M.getBoundingClientRect();if(l.dir!=="rtl"){const oe=A.left-F.left,Ee=W.left-oe,Ue=O.left-Ee,Ye=O.width+Ue,De=Math.max(Ye,F.width),bt=window.innerWidth-Vn,mt=o0(Ee,[Vn,Math.max(Vn,bt-De)]);d.style.minWidth=Ye+"px",d.style.left=mt+"px"}else{const oe=F.right-A.right,Ee=window.innerWidth-W.right-oe,Ue=window.innerWidth-O.right-Ee,Ye=O.width+Ue,De=Math.max(Ye,F.width),bt=window.innerWidth-Vn,mt=o0(Ee,[Vn,Math.max(Vn,bt-De)]);d.style.minWidth=Ye+"px",d.style.right=mt+"px"}const Q=b(),J=window.innerHeight-Vn*2,re=k.scrollHeight,ee=window.getComputedStyle(p),T=parseInt(ee.borderTopWidth,10),q=parseInt(ee.paddingTop,10),K=parseInt(ee.borderBottomWidth,10),U=parseInt(ee.paddingBottom,10),D=T+q+re+U+K,V=Math.min(j.offsetHeight*5,D),E=window.getComputedStyle(k),z=parseInt(E.paddingTop,10),X=parseInt(E.paddingBottom,10),se=O.top+O.height/2-Vn,H=J-se,me=j.offsetHeight/2,te=j.offsetTop+me,le=T+q+te,xe=D-le;if(le<=se){const oe=Q.length>0&&j===Q[Q.length-1].ref.current;d.style.bottom="0px";const Ee=p.clientHeight-k.offsetTop-k.offsetHeight,Ue=Math.max(H,me+(oe?X:0)+Ee+K),Ye=le+Ue;d.style.height=Ye+"px"}else{const oe=Q.length>0&&j===Q[0].ref.current;d.style.top="0px";const Ue=Math.max(se,T+k.offsetTop+(oe?z:0)+me)+xe;d.style.height=Ue+"px",k.scrollTop=le-se+k.offsetTop}d.style.margin=`${Vn}px 0`,d.style.minHeight=V+"px",d.style.maxHeight=J+"px",s==null||s(),requestAnimationFrame(()=>y.current=!0)}},[b,l.trigger,l.valueNode,d,p,k,j,M,l.dir,s]);Ot(()=>L(),[L]);const[S,P]=h.useState();Ot(()=>{p&&P(window.getComputedStyle(p).zIndex)},[p]);const R=h.useCallback(O=>{O&&N.current===!0&&(L(),_==null||_(),N.current=!1)},[L,_]);return a.jsx(b4,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:y,onScrollButtonChange:R,children:a.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(Ve.div,{...i,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});ab.displayName=x4;var y4="SelectPopperPosition",uf=h.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=Vn,...l}=t,u=Nc(n);return a.jsx(s4,{...u,...l,ref:e,align:s,collisionPadding:i,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});uf.displayName=y4;var[b4,Jf]=qa(qs,{}),df="SelectViewport",ob=h.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...i}=t,l=bs(df,n),u=Jf(df,n),d=ht(e,l.onViewportChange),f=h.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(jc.Slot,{scope:n,children:a.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ge(i.onScroll,p=>{const g=p.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:b}=u;if(b!=null&&b.current&&x){const y=Math.abs(f.current-g.scrollTop);if(y>0){const N=window.innerHeight-Vn*2,k=parseFloat(x.style.minHeight),j=parseFloat(x.style.height),M=Math.max(k,j);if(M<N){const _=M+y,L=Math.min(N,_),S=_-L;x.style.height=L+"px",x.style.bottom==="0px"&&(g.scrollTop=S>0?S:0,x.style.justifyContent="flex-end")}}}f.current=g.scrollTop})})})]})});ob.displayName=df;var ib="SelectGroup",[w4,j4]=qa(ib),k4=h.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=ds();return a.jsx(w4,{scope:n,id:i,children:a.jsx(Ve.div,{role:"group","aria-labelledby":i,...s,ref:e})})});k4.displayName=ib;var lb="SelectLabel",cb=h.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=j4(lb,n);return a.jsx(Ve.div,{id:i.id,...s,ref:e})});cb.displayName=lb;var dc="SelectItem",[N4,ub]=qa(dc),db=h.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:l,...u}=t,d=ys(dc,n),f=bs(dc,n),p=d.value===s,[g,x]=h.useState(l??""),[b,y]=h.useState(!1),N=ht(e,_=>{var L;return(L=f.itemRefCallback)==null?void 0:L.call(f,_,s,i)}),k=ds(),j=h.useRef("touch"),M=()=>{i||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(N4,{scope:n,value:s,disabled:i,textId:k,isSelected:p,onItemTextChange:h.useCallback(_=>{x(L=>L||((_==null?void 0:_.textContent)??"").trim())},[]),children:a.jsx(jc.ItemSlot,{scope:n,value:s,disabled:i,textValue:g,children:a.jsx(Ve.div,{role:"option","aria-labelledby":k,"data-highlighted":b?"":void 0,"aria-selected":p&&b,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:N,onFocus:Ge(u.onFocus,()=>y(!0)),onBlur:Ge(u.onBlur,()=>y(!1)),onClick:Ge(u.onClick,()=>{j.current!=="mouse"&&M()}),onPointerUp:Ge(u.onPointerUp,()=>{j.current==="mouse"&&M()}),onPointerDown:Ge(u.onPointerDown,_=>{j.current=_.pointerType}),onPointerMove:Ge(u.onPointerMove,_=>{var L;j.current=_.pointerType,i?(L=f.onItemLeave)==null||L.call(f):j.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ge(u.onPointerLeave,_=>{var L;_.currentTarget===document.activeElement&&((L=f.onItemLeave)==null||L.call(f))}),onKeyDown:Ge(u.onKeyDown,_=>{var S;((S=f.searchRef)==null?void 0:S.current)!==""&&_.key===" "||(c4.includes(_.key)&&M(),_.key===" "&&_.preventDefault())})})})})});db.displayName=dc;var $o="SelectItemText",fb=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:i,...l}=t,u=ys($o,n),d=bs($o,n),f=ub($o,n),p=h4($o,n),[g,x]=h.useState(null),b=ht(e,M=>x(M),f.onItemTextChange,M=>{var _;return(_=d.itemTextRefCallback)==null?void 0:_.call(d,M,f.value,f.disabled)}),y=g==null?void 0:g.textContent,N=h.useMemo(()=>a.jsx("option",{value:f.value,disabled:f.disabled,children:y},f.value),[f.disabled,f.value,y]),{onNativeOptionAdd:k,onNativeOptionRemove:j}=p;return Ot(()=>(k(N),()=>j(N)),[k,j,N]),a.jsxs(a.Fragment,{children:[a.jsx(Ve.span,{id:f.textId,...l,ref:b}),f.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Zn.createPortal(l.children,u.valueNode):null]})});fb.displayName=$o;var hb="SelectItemIndicator",mb=h.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return ub(hb,n).isSelected?a.jsx(Ve.span,{"aria-hidden":!0,...s,ref:e}):null});mb.displayName=hb;var ff="SelectScrollUpButton",pb=h.forwardRef((t,e)=>{const n=bs(ff,t.__scopeSelect),s=Jf(ff,t.__scopeSelect),[i,l]=h.useState(!1),u=ht(e,s.onScrollButtonChange);return Ot(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=f.scrollTop>0;l(p)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?a.jsx(vb,{...t,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});pb.displayName=ff;var hf="SelectScrollDownButton",gb=h.forwardRef((t,e)=>{const n=bs(hf,t.__scopeSelect),s=Jf(hf,t.__scopeSelect),[i,l]=h.useState(!1),u=ht(e,s.onScrollButtonChange);return Ot(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=f.scrollHeight-f.clientHeight,g=Math.ceil(f.scrollTop)<p;l(g)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?a.jsx(vb,{...t,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});gb.displayName=hf;var vb=h.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=t,l=bs("SelectScrollButton",n),u=h.useRef(null),d=kc(n),f=h.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return h.useEffect(()=>()=>f(),[f]),Ot(()=>{var g;const p=d().find(x=>x.ref.current===document.activeElement);(g=p==null?void 0:p.ref.current)==null||g.scrollIntoView({block:"nearest"})},[d]),a.jsx(Ve.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ge(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(s,50))}),onPointerMove:Ge(i.onPointerMove,()=>{var p;(p=l.onItemLeave)==null||p.call(l),u.current===null&&(u.current=window.setInterval(s,50))}),onPointerLeave:Ge(i.onPointerLeave,()=>{f()})})}),S4="SelectSeparator",xb=h.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return a.jsx(Ve.div,{"aria-hidden":!0,...s,ref:e})});xb.displayName=S4;var mf="SelectArrow",C4=h.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=Nc(n),l=ys(mf,n),u=bs(mf,n);return l.open&&u.position==="popper"?a.jsx(a4,{...i,...s,ref:e}):null});C4.displayName=mf;var E4="SelectBubbleInput",yb=h.forwardRef(({__scopeSelect:t,value:e,...n},s)=>{const i=h.useRef(null),l=ht(s,i),u=Gy(e);return h.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==e&&g){const x=new Event("change",{bubbles:!0});g.call(d,e),d.dispatchEvent(x)}},[u,e]),a.jsx(Ve.select,{...n,style:{...Ky,...n.style},ref:l,defaultValue:e})});yb.displayName=E4;function bb(t){return t===""||t===void 0}function wb(t){const e=Lr(t),n=h.useRef(""),s=h.useRef(0),i=h.useCallback(u=>{const d=n.current+u;e(d),function f(p){n.current=p,window.clearTimeout(s.current),p!==""&&(s.current=window.setTimeout(()=>f(""),1e3))}(d)},[e]),l=h.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,l]}function jb(t,e,n){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let u=_4(t,Math.max(l,0));i.length===1&&(u=u.filter(p=>p!==n));const f=u.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function _4(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var L4=Zy,kb=Yy,P4=Qy,M4=eb,T4=tb,Nb=nb,O4=ob,Sb=cb,Cb=db,R4=fb,I4=mb,Eb=pb,_b=gb,Lb=xb;const Pb=L4,Mb=P4,Yf=h.forwardRef(({className:t,children:e,...n},s)=>a.jsxs(kb,{ref:s,className:Je("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus:ring-zinc-300",t),...n,children:[e,a.jsx(M4,{asChild:!0,children:a.jsx(Sx,{className:"h-4 w-4 opacity-50"})})]}));Yf.displayName=kb.displayName;const Tb=h.forwardRef(({className:t,...e},n)=>a.jsx(Eb,{ref:n,className:Je("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(aE,{className:"h-4 w-4"})}));Tb.displayName=Eb.displayName;const Ob=h.forwardRef(({className:t,...e},n)=>a.jsx(_b,{ref:n,className:Je("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Sx,{className:"h-4 w-4"})}));Ob.displayName=_b.displayName;const Xf=h.forwardRef(({className:t,children:e,position:n="popper",...s},i)=>a.jsx(T4,{children:a.jsxs(Nb,{ref:i,className:Je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white text-zinc-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[a.jsx(Tb,{}),a.jsx(O4,{className:Je("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(Ob,{})]})}));Xf.displayName=Nb.displayName;const D4=h.forwardRef(({className:t,...e},n)=>a.jsx(Sb,{ref:n,className:Je("px-2 py-1.5 text-sm font-semibold",t),...e}));D4.displayName=Sb.displayName;const Sr=h.forwardRef(({className:t,children:e,...n},s)=>a.jsxs(Cb,{ref:s,className:Je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",t),...n,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(I4,{children:a.jsx(Nx,{className:"h-4 w-4"})})}),a.jsx(R4,{children:e})]}));Sr.displayName=Cb.displayName;const A4=h.forwardRef(({className:t,...e},n)=>a.jsx(Lb,{ref:n,className:Je("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",t),...e}));A4.displayName=Lb.displayName;const z4=()=>{const[t,e]=h.useState({name:"",email:"",phone:"",subject:"",message:"",businessType:"",website:""}),n=d=>d?`https://${d.replace(/^https?:\/\//,"")}`:"",s=d=>{d.preventDefault(),{...t,website:n(t.website)},Ce.success("Mensaje enviado exitosamente! Nos pondremos en contacto contigo pronto."),e({name:"",email:"",phone:"",subject:"",message:"",businessType:"",website:""})},i=d=>{e(f=>({...f,[d.target.name]:d.target.value}))},l=[{icon:fn,title:"Correo Electrnico",content:"info@bayislandsdirectory.com",description:"Envanos un email y te responderemos en 24 horas"},{icon:jn,title:"Telfono",content:"+504 2445-0000",description:"Llmanos de lunes a viernes, 8:00 AM - 6:00 PM"},{icon:Qt,title:"Ubicacin",content:"Roatn, Islas de la Baha, Honduras",description:"Oficina principal en West End Village"},{icon:Ex,title:"Horario de Atencin",content:"Lunes a Domingo: 8:00 AM - 8:00 PM",description:"Soporte disponible todos los das del ao"}],u=[{icon:rc,title:"Registra tu Negocio",description:"Incluye tu empresa en nuestro directorio y alcanza ms clientes"},{icon:_r,title:"Informacin Turstica",description:"Obtn consejos y recomendaciones para tu visita a las islas"},{icon:lE,title:"Soporte Tcnico",description:"Ayuda con el uso de nuestra plataforma y servicios digitales"}];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(kn,{}),a.jsxs("section",{className:"relative h-64 flex items-center justify-center overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('/images/hero-beach.jpg')"}}),a.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Contctanos"}),a.jsx("p",{className:"text-xl max-w-2xl mx-auto",children:"Estamos aqu para ayudarte con cualquier pregunta sobre las Islas de la Baha"})]})]}),a.jsxs("div",{className:"container mx-auto px-4 py-12",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Cmo podemos ayudarte?"}),a.jsx("div",{className:"space-y-6",children:l.map((d,f)=>{const p=d.icon;return a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(p,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:d.title}),a.jsx("a",{href:n(d.content),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 font-medium mb-1 block",children:d.content}),a.jsx("p",{className:"text-sm text-gray-600",children:d.description})]})]},f)})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Nuestros Servicios"}),a.jsx("div",{className:"space-y-4",children:u.map((d,f)=>{const p=d.icon;return a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(p,{className:"h-4 w-4 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:d.title}),a.jsx("p",{className:"text-sm text-gray-600",children:d.description})]})]},f)})})]})]}),a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Envanos un Mensaje"}),a.jsxs("form",{onSubmit:s,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre completo *"}),a.jsx(Cr,{id:"name",name:"name",type:"text",required:!0,value:t.name,onChange:i,placeholder:"Tu nombre completo"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electrnico *"}),a.jsx(Cr,{id:"email",name:"email",type:"email",required:!0,value:t.email,onChange:i,placeholder:"tu@email.com"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),a.jsx(Cr,{id:"phone",name:"phone",type:"tel",value:t.phone,onChange:i,placeholder:"+504 0000-0000"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"businessType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de consulta"}),a.jsxs(Pb,{value:t.businessType,onValueChange:d=>e(f=>({...f,businessType:d})),children:[a.jsx(Yf,{children:a.jsx(Mb,{placeholder:"Selecciona una opcin"})}),a.jsxs(Xf,{children:[a.jsx(Sr,{value:"tourism",children:"Informacin Turstica"}),a.jsx(Sr,{value:"business",children:"Registrar Negocio"}),a.jsx(Sr,{value:"partnership",children:"Alianzas Comerciales"}),a.jsx(Sr,{value:"support",children:"Soporte Tcnico"}),a.jsx(Sr,{value:"media",children:"Medios de Comunicacin"}),a.jsx(Sr,{value:"other",children:"Otro"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Asunto *"}),a.jsx(Cr,{id:"subject",name:"subject",type:"text",required:!0,value:t.subject,onChange:i,placeholder:"Breve descripcin del tema"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensaje *"}),a.jsx(jy,{id:"message",name:"message",required:!0,value:t.message,onChange:i,placeholder:"Escribe tu mensaje detallado aqu...",rows:6})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700 mb-2",children:"Sitio web"}),a.jsx(Cr,{id:"website",name:"website",type:"url",value:t.website,onChange:i,placeholder:"https://tusitio.com"})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"* Campos obligatorios"}),a.jsxs(ie,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-8",children:[a.jsx(mE,{className:"h-4 w-4 mr-2"}),"Enviar Mensaje"]})]})]})]}),a.jsxs("div",{className:"bg-blue-50 rounded-xl p-8 mt-8",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Tienes un negocio en las Islas de la Baha?"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"nete a nuestro directorio y conecta con miles de turistas que visitan las islas cada ao. Ofrecemos diferentes planes para adaptarnos a las necesidades de tu negocio."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx(ie,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Registrar mi Negocio"}),a.jsx(ie,{variant:"outline",children:"Ver Planes y Precios"})]})]})]})]}),a.jsx("section",{className:"mt-16",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:"Preguntas Frecuentes"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Cmo puedo registrar mi negocio?"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Contctanos a travs del formulario o llmanos directamente. Te guiaremos en el proceso de registro paso a paso."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Qu informacin necesito de las islas?"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Podemos ayudarte con informacin sobre transporte, alojamiento, actividades y recomendaciones locales."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Tienen oficina fsica?"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Nuestra oficina principal est en West End Village, Roatn. Tambin ofrecemos atencin virtual para mayor comodidad."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"En qu idiomas atienden?"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Ofrecemos atencin en espaol e ingls para adaptarnos a todos nuestros visitantes y empresarios locales."})]})]})]})})]}),a.jsx(Qo,{})]})};function Ht(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function $4(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const $l=43200,v0=1440;let U4={};function B4(){return U4}function x0(t){const e=Ht(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Vl(t,e){const n=Ht(t),s=Ht(e),i=n.getTime()-s.getTime();return i<0?-1:i>0?1:i}function F4(t){return $4(t,Date.now())}function W4(t,e){const n=Ht(t),s=Ht(e),i=n.getFullYear()-s.getFullYear(),l=n.getMonth()-s.getMonth();return i*12+l}function V4(t){return e=>{const s=(t?Math[t]:Math.trunc)(e);return s===0?0:s}}function H4(t,e){return+Ht(t)-+Ht(e)}function q4(t){const e=Ht(t);return e.setHours(23,59,59,999),e}function G4(t){const e=Ht(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function K4(t){const e=Ht(t);return+q4(e)==+G4(e)}function Z4(t,e){const n=Ht(t),s=Ht(e),i=Vl(n,s),l=Math.abs(W4(n,s));let u;if(l<1)u=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*l);let d=Vl(n,s)===-i;K4(Ht(t))&&l===1&&Vl(t,s)===1&&(d=!1),u=i*(l-Number(d))}return u===0?0:u}function J4(t,e,n){const s=H4(t,e)/1e3;return V4(n==null?void 0:n.roundingMethod)(s)}const Y4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},X4=(t,e,n)=>{let s;const i=Y4[t];return typeof i=="string"?s=i:e===1?s=i.one:s=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Ra(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Q4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nM={date:Ra({formats:Q4,defaultWidth:"full"}),time:Ra({formats:eM,defaultWidth:"full"}),dateTime:Ra({formats:tM,defaultWidth:"full"})},rM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sM=(t,e,n,s)=>rM[t];function ar(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let i;if(s==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,d=n!=null&&n.width?String(n.width):u;i=t.formattingValues[d]||t.formattingValues[u]}else{const u=t.defaultWidth,d=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[d]||t.values[u]}const l=t.argumentCallback?t.argumentCallback(e):e;return i[l]}}const aM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dM=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},fM={ordinalNumber:dM,era:ar({values:aM,defaultWidth:"wide"}),quarter:ar({values:oM,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ar({values:iM,defaultWidth:"wide"}),day:ar({values:lM,defaultWidth:"wide"}),dayPeriod:ar({values:cM,defaultWidth:"wide",formattingValues:uM,defaultFormattingWidth:"wide"})};function or(t){return(e,n={})=>{const s=n.width,i=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],l=e.match(i);if(!l)return null;const u=l[0],d=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(d)?mM(d,x=>x.test(u)):hM(d,x=>x.test(u));let p;p=t.valueCallback?t.valueCallback(f):f,p=n.valueCallback?n.valueCallback(p):p;const g=e.slice(u.length);return{value:p,rest:g}}}function hM(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function mM(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Rb(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const i=s[0],l=e.match(t.parsePattern);if(!l)return null;let u=t.valueCallback?t.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(i.length);return{value:u,rest:d}}}const pM=/^(\d+)(th|st|nd|rd)?/i,gM=/\d+/i,vM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xM={any:[/^b/i,/^(a|c)/i]},yM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bM={any:[/1/i,/2/i,/3/i,/4/i]},wM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},EM={ordinalNumber:Rb({matchPattern:pM,parsePattern:gM,valueCallback:t=>parseInt(t,10)}),era:or({matchPatterns:vM,defaultMatchWidth:"wide",parsePatterns:xM,defaultParseWidth:"any"}),quarter:or({matchPatterns:yM,defaultMatchWidth:"wide",parsePatterns:bM,defaultParseWidth:"any",valueCallback:t=>t+1}),month:or({matchPatterns:wM,defaultMatchWidth:"wide",parsePatterns:jM,defaultParseWidth:"any"}),day:or({matchPatterns:kM,defaultMatchWidth:"wide",parsePatterns:NM,defaultParseWidth:"any"}),dayPeriod:or({matchPatterns:SM,defaultMatchWidth:"any",parsePatterns:CM,defaultParseWidth:"any"})},_M={code:"en-US",formatDistance:X4,formatLong:nM,formatRelative:sM,localize:fM,match:EM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LM(t,e,n){const s=B4(),i=(n==null?void 0:n.locale)??s.locale??_M,l=2520,u=Vl(t,e);if(isNaN(u))throw new RangeError("Invalid time value");const d=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:u});let f,p;u>0?(f=Ht(e),p=Ht(t)):(f=Ht(t),p=Ht(e));const g=J4(p,f),x=(x0(p)-x0(f))/1e3,b=Math.round((g-x)/60);let y;if(b<2)return n!=null&&n.includeSeconds?g<5?i.formatDistance("lessThanXSeconds",5,d):g<10?i.formatDistance("lessThanXSeconds",10,d):g<20?i.formatDistance("lessThanXSeconds",20,d):g<40?i.formatDistance("halfAMinute",0,d):g<60?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",1,d):b===0?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",b,d);if(b<45)return i.formatDistance("xMinutes",b,d);if(b<90)return i.formatDistance("aboutXHours",1,d);if(b<v0){const N=Math.round(b/60);return i.formatDistance("aboutXHours",N,d)}else{if(b<l)return i.formatDistance("xDays",1,d);if(b<$l){const N=Math.round(b/v0);return i.formatDistance("xDays",N,d)}else if(b<$l*2)return y=Math.round(b/$l),i.formatDistance("aboutXMonths",y,d)}if(y=Z4(p,f),y<12){const N=Math.round(b/$l);return i.formatDistance("xMonths",N,d)}else{const N=y%12,k=Math.trunc(y/12);return N<3?i.formatDistance("aboutXYears",k,d):N<9?i.formatDistance("overXYears",k,d):i.formatDistance("almostXYears",k+1,d)}}function PM(t,e){return LM(t,F4(t),e)}const MM={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},TM=(t,e,n)=>{let s;const i=MM[t];return typeof i=="string"?s=i:e===1?s=i.one:s=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+s:"hace "+s:s},OM={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},RM={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},IM={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DM={date:Ra({formats:OM,defaultWidth:"full"}),time:Ra({formats:RM,defaultWidth:"full"}),dateTime:Ra({formats:IM,defaultWidth:"full"})},AM={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},zM={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},$M=(t,e,n,s)=>e.getHours()!==1?zM[t]:AM[t],UM={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},BM={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},FM={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},WM={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},VM={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},HM={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},qM=(t,e)=>Number(t)+"",GM={ordinalNumber:qM,era:ar({values:UM,defaultWidth:"wide"}),quarter:ar({values:BM,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:ar({values:FM,defaultWidth:"wide"}),day:ar({values:WM,defaultWidth:"wide"}),dayPeriod:ar({values:VM,defaultWidth:"wide",formattingValues:HM,defaultFormattingWidth:"wide"})},KM=/^(\d+)()?/i,ZM=/\d+/i,JM={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},YM={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},XM={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},QM={any:[/1/i,/2/i,/3/i,/4/i]},e3={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},t3={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},n3={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},r3={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},s3={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},a3={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},o3={ordinalNumber:Rb({matchPattern:KM,parsePattern:ZM,valueCallback:function(t){return parseInt(t,10)}}),era:or({matchPatterns:JM,defaultMatchWidth:"wide",parsePatterns:YM,defaultParseWidth:"any"}),quarter:or({matchPatterns:XM,defaultMatchWidth:"wide",parsePatterns:QM,defaultParseWidth:"any",valueCallback:t=>t+1}),month:or({matchPatterns:e3,defaultMatchWidth:"wide",parsePatterns:t3,defaultParseWidth:"any"}),day:or({matchPatterns:n3,defaultMatchWidth:"wide",parsePatterns:r3,defaultParseWidth:"any"}),dayPeriod:or({matchPatterns:s3,defaultMatchWidth:"any",parsePatterns:a3,defaultParseWidth:"any"})},i3={code:"es",formatDistance:TM,formatLong:DM,formatRelative:$M,localize:GM,match:o3,options:{weekStartsOn:1,firstWeekContainsDate:1}},Ib=({post:t})=>{const[e,n]=h.useState(!1);return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden max-w-xs w-full mx-auto p-2",children:[a.jsxs("div",{className:"p-2 flex items-center space-x-2",children:[a.jsx(vt,{to:`/negocio/${t.business_id}`,children:a.jsx("img",{src:t.business_logo,alt:t.business_name,className:"w-8 h-8 rounded-full object-cover"})}),a.jsxs("div",{children:[a.jsx(vt,{to:`/negocio/${t.business_id}`,className:"font-semibold text-gray-900 hover:text-blue-600 text-sm",children:t.business_name}),a.jsx("p",{className:"text-xs text-gray-500",children:PM(new Date(t.created_at),{addSuffix:!0,locale:i3})})]})]}),a.jsxs("div",{className:"px-2 pb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1 text-base line-clamp-1",children:t.title}),a.jsx("p",{className:"text-gray-600 text-xs line-clamp-2",children:t.content})]}),t.image&&a.jsx("div",{className:"relative aspect-video",children:a.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover rounded"})}),a.jsx("div",{className:"px-2 py-2 border-t border-gray-100",children:a.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(ie,{variant:"ghost",size:"icon",className:"p-1",disabled:!0,children:[a.jsx(Yo,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-1",children:t.likes_count||0})]}),a.jsxs(ie,{variant:"ghost",size:"icon",className:"p-1",disabled:!0,children:[a.jsx(dE,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-1",children:t.comments_count||0})]})]})})})]})},Id={defaultCenter:{lat:16.3156,lng:-86.5889},defaultZoom:10,mapStyle:[{featureType:"water",elementType:"geometry",stylers:[{color:"#1e3a8a"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f3f4f6"}]}]},l3={north:16.5,south:16,east:-85.8,west:-86.9},c3=({businesses:t})=>{const[e,n]=h.useState(null),[s,i]=h.useState(!1),[l,u]=h.useState(null),d={styles:Id.mapStyle,restriction:{latLngBounds:l3,strictBounds:!1},mapTypeControl:!0,streetViewControl:!0,fullscreenControl:!0,zoomControl:!0,scrollwheel:!0,gestureHandling:"cooperative"},f=h.useCallback(b=>{u(b)},[]),p=h.useCallback(()=>{u(null)},[]),g=b=>{const N={"Hoteles y Alojamiento":"#EF4444",Restaurantes:"#F97316","Tours y Actividades":"#10B981","Bares y Vida Nocturna":"#8B5CF6","Bienestar y Spa":"#EC4899","Tiendas y Comercios":"#F59E0B",Cafeteras:"#6B7280","Alquiler Vacacional":"#3B82F6"}[b.category]||"#6B7280";return{url:`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(`
        <svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
          <circle cx="20" cy="20" r="18" fill="${N}" stroke="white" stroke-width="2"/>
          <circle cx="20" cy="20" r="8" fill="white"/>
        </svg>
      `)}`,scaledSize:new google.maps.Size(40,40),anchor:new google.maps.Point(20,20)}},x=b=>{n(b),i(!0)};return a.jsxs("div",{className:"relative",children:[a.jsxs(jf,{mapContainerStyle:{width:"100%",height:"600px"},center:Id.defaultCenter,zoom:Id.defaultZoom,onLoad:f,onUnmount:p,options:d,children:[t.map(b=>a.jsx(mc,{position:{lat:b.coordinates.lat,lng:b.coordinates.lng},icon:g(b),onClick:()=>n(b),title:b.name},b.id)),e&&a.jsx(X0,{position:{lat:e.coordinates.lat,lng:e.coordinates.lng},onCloseClick:()=>n(null),options:{pixelOffset:new google.maps.Size(0,-40)},children:a.jsxs("div",{className:"max-w-sm p-2",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("img",{src:e.logo,alt:e.name,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:e.name}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Qt,{className:"h-3 w-3 mr-1"}),a.jsx("span",{children:e.location})]})]})]}),a.jsx("img",{src:e.coverImage,alt:e.name,className:"w-full h-32 object-cover rounded-lg mb-3"}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(xt,{variant:"outline",className:"text-blue-600 border-blue-600",children:e.category}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(vE,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),a.jsx("span",{className:"text-sm font-medium",children:e.rating}),a.jsxs("span",{className:"text-sm text-gray-500",children:[" ",e.priceRange]})]})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(jn,{className:"h-3 w-3 mr-2"}),a.jsx("a",{href:`tel:${e.contact.phone}`,className:"text-blue-600 hover:underline",children:e.contact.phone})]}),e.contact.website&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(cr,{className:"h-3 w-3 mr-2"}),a.jsx("a",{href:`https://${e.contact.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Sitio web"})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ie,{size:"sm",onClick:()=>x(e),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"Contactar"}),e.contact.website&&a.jsx(ie,{variant:"outline",size:"sm",onClick:()=>window.open(`https://${e.contact.website}`,"_blank"),className:"flex-1",children:"Sitio Web"})]})]})})]}),a.jsxs("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg p-4 max-w-xs",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Categoras"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),a.jsx("span",{children:"Hoteles y Alojamiento"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full bg-orange-500"}),a.jsx("span",{children:"Restaurantes"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"}),a.jsx("span",{children:"Tours y Actividades"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full bg-purple-500"}),a.jsx("span",{children:"Vida Nocturna"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full bg-pink-500"}),a.jsx("span",{children:"Spa y Bienestar"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full bg-yellow-500"}),a.jsx("span",{children:"Tiendas"})]})]})]}),e&&a.jsx($f,{business:e,isOpen:s,onClose:()=>i(!1)})]})},Db=()=>{const[t,e]=h.useState([]),[n,s]=h.useState(!0),[i,l]=h.useState(null);return h.useEffect(()=>{(async()=>{s(!0),l(null);const{data:d,error:f}=await ve.from("posts").select("*, businesses(name, logo), likes(count), comments(count), views(count)").order("created_at",{ascending:!1}).limit(10);if(f){l(f.message),e([]),s(!1);return}const p=(d||[]).map(g=>{var x,b,y,N,k,j,M,_;return{id:g.id,business_id:g.business_id,title:g.title,content:g.content,image:g.image,created_at:g.created_at,business_name:((x=g.businesses)==null?void 0:x.name)||"",business_logo:((b=g.businesses)==null?void 0:b.logo)||"",likes_count:((N=(y=g.likes)==null?void 0:y[0])==null?void 0:N.count)||0,comments_count:((j=(k=g.comments)==null?void 0:k[0])==null?void 0:j.count)||0,views_count:((_=(M=g.views)==null?void 0:M[0])==null?void 0:_.count)||0}});e(p),s(!1)})()},[]),{posts:t,loading:n,error:i}};var u3="Separator",y0="horizontal",d3=["horizontal","vertical"],Ab=h.forwardRef((t,e)=>{const{decorative:n,orientation:s=y0,...i}=t,l=f3(s)?s:y0,d=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return a.jsx(Ve.div,{"data-orientation":l,...d,...i,ref:e})});Ab.displayName=u3;function f3(t){return d3.includes(t)}var zb=Ab;const $b=h.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...s},i)=>a.jsx(zb,{ref:i,decorative:n,orientation:e,className:Je("shrink-0 bg-zinc-200 dark:bg-zinc-800",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...s}));$b.displayName=zb.displayName;var Dd="rovingFocusGroup.onEntryFocus",h3={bubbles:!1,cancelable:!0},pi="RovingFocusGroup",[pf,Ub,m3]=ky(pi),[p3,Bb]=xs(pi,[m3]),[g3,v3]=p3(pi),Fb=h.forwardRef((t,e)=>a.jsx(pf.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(pf.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(x3,{...t,ref:e})})}));Fb.displayName=pi;var x3=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...x}=t,b=h.useRef(null),y=ht(e,b),N=Uf(l),[k,j]=Aa({prop:u,defaultProp:d??null,onChange:f,caller:pi}),[M,_]=h.useState(!1),L=Lr(p),S=Ub(n),P=h.useRef(!1),[R,O]=h.useState(0);return h.useEffect(()=>{const F=b.current;if(F)return F.addEventListener(Dd,L),()=>F.removeEventListener(Dd,L)},[L]),a.jsx(g3,{scope:n,orientation:s,dir:N,loop:i,currentTabStopId:k,onItemFocus:h.useCallback(F=>j(F),[j]),onItemShiftTab:h.useCallback(()=>_(!0),[]),onFocusableItemAdd:h.useCallback(()=>O(F=>F+1),[]),onFocusableItemRemove:h.useCallback(()=>O(F=>F-1),[]),children:a.jsx(Ve.div,{tabIndex:M||R===0?-1:0,"data-orientation":s,...x,ref:y,style:{outline:"none",...t.style},onMouseDown:Ge(t.onMouseDown,()=>{P.current=!0}),onFocus:Ge(t.onFocus,F=>{const W=!P.current;if(F.target===F.currentTarget&&W&&!M){const A=new CustomEvent(Dd,h3);if(F.currentTarget.dispatchEvent(A),!A.defaultPrevented){const Q=S().filter(q=>q.focusable),J=Q.find(q=>q.active),re=Q.find(q=>q.id===k),T=[J,re,...Q].filter(Boolean).map(q=>q.ref.current);Hb(T,g)}}P.current=!1}),onBlur:Ge(t.onBlur,()=>_(!1))})})}),Wb="RovingFocusGroupItem",Vb=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:l,children:u,...d}=t,f=ds(),p=l||f,g=v3(Wb,n),x=g.currentTabStopId===p,b=Ub(n),{onFocusableItemAdd:y,onFocusableItemRemove:N,currentTabStopId:k}=g;return h.useEffect(()=>{if(s)return y(),()=>N()},[s,y,N]),a.jsx(pf.ItemSlot,{scope:n,id:p,focusable:s,active:i,children:a.jsx(Ve.span,{tabIndex:x?0:-1,"data-orientation":g.orientation,...d,ref:e,onMouseDown:Ge(t.onMouseDown,j=>{s?g.onItemFocus(p):j.preventDefault()}),onFocus:Ge(t.onFocus,()=>g.onItemFocus(p)),onKeyDown:Ge(t.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){g.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const M=w3(j,g.orientation,g.dir);if(M!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let L=b().filter(S=>S.focusable).map(S=>S.ref.current);if(M==="last")L.reverse();else if(M==="prev"||M==="next"){M==="prev"&&L.reverse();const S=L.indexOf(j.currentTarget);L=g.loop?j3(L,S+1):L.slice(S+1)}setTimeout(()=>Hb(L))}}),children:typeof u=="function"?u({isCurrentTabStop:x,hasTabStop:k!=null}):u})})});Vb.displayName=Wb;var y3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function b3(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function w3(t,e,n){const s=b3(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return y3[s]}function Hb(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function j3(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var k3=Fb,N3=Vb,Sc="Tabs",[S3,ST]=xs(Sc,[Bb]),qb=Bb(),[C3,Qf]=S3(Sc),Gb=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:l,orientation:u="horizontal",dir:d,activationMode:f="automatic",...p}=t,g=Uf(d),[x,b]=Aa({prop:s,onChange:i,defaultProp:l??"",caller:Sc});return a.jsx(C3,{scope:n,baseId:ds(),value:x,onValueChange:b,orientation:u,dir:g,activationMode:f,children:a.jsx(Ve.div,{dir:g,"data-orientation":u,...p,ref:e})})});Gb.displayName=Sc;var Kb="TabsList",Zb=h.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...i}=t,l=Qf(Kb,n),u=qb(n);return a.jsx(k3,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:s,children:a.jsx(Ve.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:e})})});Zb.displayName=Kb;var Jb="TabsTrigger",Yb=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...l}=t,u=Qf(Jb,n),d=qb(n),f=ew(u.baseId,s),p=tw(u.baseId,s),g=s===u.value;return a.jsx(N3,{asChild:!0,...d,focusable:!i,active:g,children:a.jsx(Ve.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":p,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f,...l,ref:e,onMouseDown:Ge(t.onMouseDown,x=>{!i&&x.button===0&&x.ctrlKey===!1?u.onValueChange(s):x.preventDefault()}),onKeyDown:Ge(t.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&u.onValueChange(s)}),onFocus:Ge(t.onFocus,()=>{const x=u.activationMode!=="manual";!g&&!i&&x&&u.onValueChange(s)})})})});Yb.displayName=Jb;var Xb="TabsContent",Qb=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:i,children:l,...u}=t,d=Qf(Xb,n),f=ew(d.baseId,s),p=tw(d.baseId,s),g=s===d.value,x=h.useRef(g);return h.useEffect(()=>{const b=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(b)},[]),a.jsx(fi,{present:i||g,children:({present:b})=>a.jsx(Ve.div,{"data-state":g?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!b,id:p,tabIndex:0,...u,ref:e,style:{...t.style,animationDuration:x.current?"0s":void 0},children:b&&l})})});Qb.displayName=Xb;function ew(t,e){return`${t}-trigger-${e}`}function tw(t,e){return`${t}-content-${e}`}var E3=Gb,nw=Zb,rw=Yb,sw=Qb;const _3=E3,aw=h.forwardRef(({className:t,...e},n)=>a.jsx(nw,{ref:n,className:Je("inline-flex h-9 items-center justify-center rounded-lg bg-zinc-100 p-1 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400",t),...e}));aw.displayName=nw.displayName;const gf=h.forwardRef(({className:t,...e},n)=>a.jsx(rw,{ref:n,className:Je("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-zinc-950 data-[state=active]:shadow dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 dark:data-[state=active]:bg-zinc-950 dark:data-[state=active]:text-zinc-50",t),...e}));gf.displayName=rw.displayName;const vf=h.forwardRef(({className:t,...e},n)=>a.jsx(sw,{ref:n,className:Je("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",t),...e}));vf.displayName=sw.displayName;const b0=({value:t,onChange:e,onInputChange:n,options:s,placeholder:i="Selecciona...",inputValue:l="",clearable:u=!1})=>{const[d,f]=h.useState(!1),p=h.useRef(null);return h.useEffect(()=>{d&&p.current&&p.current.focus()},[d]),a.jsxs("div",{className:"relative",children:[a.jsx("input",{ref:p,type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:i,value:l!==void 0?l:t,onFocus:()=>f(!0),onChange:g=>{n==null||n(g.target.value),f(!0)},readOnly:!!n&&!n,autoComplete:"off"}),u&&t&&a.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-red-600",onClick:()=>{e(""),n==null||n("")},children:""}),d&&a.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-56 overflow-auto",children:s.length===0?a.jsx("div",{className:"px-4 py-2 text-gray-500",children:"Sin resultados"}):s.map(g=>a.jsx("div",{className:`px-4 py-2 cursor-pointer hover:bg-blue-50 ${g===t?"bg-blue-100 text-blue-700":""}`,onMouseDown:()=>{e(g),f(!1),n==null||n("")},children:g},g))})]})},L3=()=>{var O;const{businesses:t,categories:e,islands:n,filters:s,loading:i,error:l,updateFilters:u,clearFilters:d,filteredCount:f,totalBusinesses:p}=Fs(),{posts:g,loading:x,error:b}=Db(),[y,N]=h.useState("grid"),[k,j]=h.useState(!1),[M,_]=h.useState(""),[L,S]=h.useState(""),P=[{value:"$",label:"Econmico ($)"},{value:"$$",label:"Moderado ($$)"},{value:"$$$",label:"Caro ($$$)"},{value:"$$$$",label:"Muy Caro ($$$$)"}],R=s.query||s.category||s.island||s.priceRange;return l?a.jsxs("div",{className:"min-h-screen",children:[a.jsx(kn,{}),a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error al cargar"}),a.jsx("p",{className:"text-gray-600",children:l}),a.jsx(ie,{onClick:()=>window.location.reload(),className:"mt-4",children:"Reintentar"})]})}),a.jsx(Qo,{})]}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(kn,{}),a.jsx("div",{className:"container mx-auto px-4 py-6",children:a.jsxs(_3,{defaultValue:"businesses",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs(aw,{children:[a.jsxs(gf,{value:"businesses",className:"flex items-center gap-2",children:[a.jsx(hE,{className:"h-4 w-4"}),"Negocios"]}),a.jsxs(gf,{value:"posts",className:"flex items-center gap-2",children:[a.jsx($v,{className:"h-4 w-4"}),"Publicaciones Recientes"]})]})}),a.jsxs(vf,{value:"businesses",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Directorio de Negocios"}),a.jsxs("p",{className:"text-gray-600",children:["Descubre ",p," negocios nicos en las Islas de la Baha"]})]}),a.jsxs("div",{className:"flex gap-2 mt-4 lg:mt-0",children:[a.jsxs(ie,{variant:y==="grid"?"default":"outline",onClick:()=>N("grid"),className:y==="grid"?"bg-blue-600 text-white":"",children:[a.jsx(iE,{className:"h-4 w-4 mr-1"})," Grid"]}),a.jsxs(ie,{variant:y==="list"?"default":"outline",onClick:()=>N("list"),className:y==="list"?"bg-blue-600 text-white":"",children:[a.jsx($v,{className:"h-4 w-4 mr-1"})," Lista"]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:a.jsx(Xo,{className:"h-4 w-4 text-gray-400"})}),a.jsx(Cr,{type:"text",placeholder:"Buscar negocios, restaurantes, hoteles...",value:s.query,onChange:F=>u({query:F.target.value}),className:"pl-10 py-3 text-base"})]}),a.jsx("div",{className:"lg:hidden",children:a.jsxs(ie,{variant:"outline",onClick:()=>j(!k),className:"w-full",children:[a.jsx(gE,{className:"h-4 w-4 mr-2"}),"Filtros ",R&&"(activos)"]})}),a.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-4 gap-4 ${k||"hidden lg:grid"}`,children:[a.jsx(b0,{value:s.island,onInputChange:_,onChange:F=>{u({island:F}),_("")},options:n.filter(F=>F.toLowerCase().includes(M.toLowerCase())),placeholder:"Todas las islas",inputValue:M,clearable:!0}),a.jsx(b0,{value:s.category,onInputChange:S,onChange:F=>{u({category:F}),S("")},options:e.filter(F=>F.toLowerCase().includes(L.toLowerCase())),placeholder:"Todas las categoras",inputValue:L,clearable:!0}),a.jsxs(Pb,{value:s.priceRange||"all",onValueChange:F=>u({priceRange:F==="all"?"":F}),children:[a.jsx(Yf,{children:a.jsx(Mb,{placeholder:"Todos los precios"})}),a.jsxs(Xf,{children:[a.jsx(Sr,{value:"all",children:"Todos los precios"}),P.map(F=>a.jsx(Sr,{value:F.value,children:F.label},F.value))]})]}),R&&a.jsx(ie,{variant:"outline",onClick:d,className:"text-red-600 border-red-200 hover:bg-red-50",children:"Limpiar Filtros"})]}),R&&a.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.query&&a.jsxs(xt,{variant:"secondary",className:"gap-1",children:['Bsqueda: "',s.query,'"',a.jsx("button",{onClick:()=>u({query:""}),className:"ml-1 hover:text-red-600",children:""})]}),s.island&&a.jsxs(xt,{variant:"secondary",className:"gap-1",children:["Isla: ",s.island,a.jsx("button",{onClick:()=>u({island:""}),className:"ml-1 hover:text-red-600",children:""})]}),s.category&&a.jsxs(xt,{variant:"secondary",className:"gap-1",children:["Categora: ",s.category,a.jsx("button",{onClick:()=>u({category:""}),className:"ml-1 hover:text-red-600",children:""})]}),s.priceRange&&a.jsxs(xt,{variant:"secondary",className:"gap-1",children:["Precio:"," ",(O=P.find(F=>F.value===s.priceRange))==null?void 0:O.label,a.jsx("button",{onClick:()=>u({priceRange:""}),className:"ml-1 hover:text-red-600",children:""})]})]})]}),a.jsx($b,{className:"my-4"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["Mostrando ",f," de ",p," negocios"]}),f===0&&s.query&&a.jsxs("p",{className:"text-sm text-orange-600",children:["No encuentras lo que buscas?"," ",a.jsx("button",{className:"underline",children:"Contctanos"})]})]})]}),i?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(9)].map((F,W)=>a.jsxs("div",{className:"bg-white rounded-lg p-6 animate-pulse",children:[a.jsx("div",{className:"h-48 bg-gray-300 rounded-lg mb-4"}),a.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),a.jsx("div",{className:"h-4 bg-gray-300 rounded w-2/3 mb-4"}),a.jsx("div",{className:"h-3 bg-gray-300 rounded mb-1"}),a.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]},W))}):a.jsxs(a.Fragment,{children:[y==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(F=>a.jsx(by,{business:F},F.id))}):y==="list"?a.jsx("div",{className:"flex flex-col gap-4",children:t.map(F=>a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 flex flex-col md:flex-row md:items-center md:gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold text-blue-800 mb-1",children:F.name}),a.jsxs("p",{className:"text-gray-600 mb-1",children:[F.category,"  ",F.island]}),a.jsx("p",{className:"text-gray-500 text-sm mb-2",children:F.location}),a.jsx("p",{className:"text-gray-700 text-sm line-clamp-2",children:F.description})]}),a.jsx(ie,{asChild:!0,className:"mt-2 md:mt-0",children:a.jsx("a",{href:`/negocio/${F.id}`,children:"Ver Perfil"})})]},F.id))}):a.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:a.jsx(c3,{businesses:t})}),f===0&&!i&&a.jsx("div",{className:"text-center py-12",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx(Qt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No se encontraron negocios"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Intenta ajustar tus filtros o realizar una bsqueda diferente."}),a.jsx(ie,{onClick:d,children:"Limpiar todos los filtros"})]})})]})]}),a.jsx(vf,{value:"posts",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Publicaciones Recientes"}),a.jsx("p",{className:"text-gray-600",children:"Descubre las ltimas novedades de los negocios en las Islas de la Baha"})]}),x?a.jsx("div",{className:"space-y-6",children:[...Array(3)].map((F,W)=>a.jsxs("div",{className:"bg-white rounded-lg p-6 animate-pulse",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/4 mb-2"}),a.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/5"})]})]}),a.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),a.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"})]},W))}):b?a.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:a.jsx("p",{className:"text-red-600",children:b})}):g.length===0?a.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:a.jsx("p",{className:"text-gray-600",children:"No hay publicaciones recientes"})}):a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:g.map(F=>a.jsx(Ib,{post:{...F}},F.id))})]})})]})}),a.jsx(Qo,{})]})};function P3(t){const e=String(t).trim(),[n,s]=h.useState([]),[i,l]=h.useState(!0),[u,d]=h.useState(null);async function f(){const{data:g,error:x}=await ve.from("posts").select("*, likes(count), comments(count)").eq("business_id",e).order("created_at",{ascending:!1});if(x){d(x.message),s([]),l(!1);return}const b=(g||[]).map(y=>{var N,k,j,M;return{...y,likes_count:((k=(N=y.likes)==null?void 0:N[0])==null?void 0:k.count)||0,comments_count:((M=(j=y.comments)==null?void 0:j[0])==null?void 0:M.count)||0}});s(b),l(!1)}h.useEffect(()=>{e&&(l(!0),d(null),f())},[e]);async function p({title:g,content:x,image:b=null,user_id:y}){l(!0),d(null);const{data:N,error:k}=await ve.from("posts").insert([{business_id:e,title:g,content:x,image:b,user_id:y}]).select();return k?(d(k.message),console.error("Supabase post insert error:",k),l(!1),null):(await f(),l(!1),N?N[0]:null)}return{posts:n,loading:i,error:u,createPost:p,refetch:f}}function ow(t,e){const[n,s]=h.useState(!1),[i,l]=h.useState(0),[u,d]=h.useState(!0),[f,p]=h.useState(null);async function g(){d(!0),p(null);const{count:b,error:y}=await ve.from("followers").select("*",{count:"exact",head:!0}).eq("business_id",t);if(y){p(y.message),d(!1);return}if(l(b||0),e){const{data:N,error:k}=await ve.from("followers").select("id").eq("business_id",t).eq("user_id",e).maybeSingle();if(k&&k.code!=="PGRST116"){p(k.message),d(!1);return}s(!!N)}else s(!1);d(!1)}h.useEffect(()=>{t&&g()},[t,e]);async function x(){if(d(!0),p(null),n){const b=ve.from("followers").delete().eq("business_id",t),y=e?b.eq("user_id",e):b.is("user_id",null),{error:N}=await y;if(N)return p(N.message),d(!1),!1}else{const b={business_id:t};e?b.user_id=e:b.user_id=null;const{error:y}=await ve.from("followers").insert([b]);if(y)return p(y.message),d(!1),!1}return await g(),d(!1),!0}return{isFollowing:n,followersCount:i,loading:u,error:f,toggleFollow:x}}function iw({businessId:t,postId:e,userId:n}){const[s,i]=h.useState(0),[l,u]=h.useState(!0),[d,f]=h.useState(null);async function p(){u(!0),f(null);let x=ve.from("views").select("*",{count:"exact",head:!0});t&&(x=x.eq("business_id",t)),e&&(x=x.eq("post_id",e));const{count:b,error:y}=await x;if(y){f(y.message),u(!1);return}i(b||0),u(!1)}h.useEffect(()=>{!t&&!e||p()},[t,e]);async function g(){u(!0),f(null);const{error:x}=await ve.from("views").insert([{business_id:t||null,post_id:e||null,user_id:n||null}]);return x?(f(x.message),u(!1),!1):(await p(),u(!1),!0)}return{viewsCount:s,loading:l,error:d,addView:g}}function lw(t,e){const[n,s]=h.useState(null),[i,l]=h.useState(null),[u,d]=h.useState(!0),[f,p]=h.useState(null);async function g(){d(!0),p(null);const{data:b,error:y}=await ve.from("ratings").select("rating").eq("business_id",t);if(y){p(y.message),d(!1);return}if(b&&b.length>0){const j=b.reduce((M,_)=>M+(_.rating||0),0);s(j/b.length)}else s(null);const{data:N,error:k}=await ve.from("ratings").select("rating").eq("business_id",t).eq("user_id",e).maybeSingle();if(k&&k.code!=="PGRST116"){p(k.message),d(!1);return}l((N==null?void 0:N.rating)??null),d(!1)}h.useEffect(()=>{!t||!e||g()},[t,e]);async function x(b){d(!0),p(null);const{error:y}=await ve.from("ratings").upsert([{business_id:t,user_id:e,rating:b}],{onConflict:"business_id,user_id"});return y?(p(y.message),d(!1),!1):(await g(),d(!1),!0)}return{average:n,userRating:i,loading:u,error:f,rate:x}}function M3(t){const[e,n]=h.useState([]),[s,i]=h.useState(!0),[l,u]=h.useState(null);async function d(){i(!0),u(null);const{data:g,error:x}=await ve.from("amenities").select("amenity").eq("business_id",t);if(x){u(x.message),n([]),i(!1);return}n((g||[]).map(b=>b.amenity)),i(!1)}h.useEffect(()=>{t&&d()},[t]);async function f(g){i(!0),u(null);const{error:x}=await ve.from("amenities").insert([{business_id:t,amenity:g}]);return x?(u(x.message),i(!1),!1):(await d(),i(!1),!0)}async function p(g){i(!0),u(null);const{error:x}=await ve.from("amenities").delete().eq("business_id",t).eq("amenity",g);return x?(u(x.message),i(!1),!1):(await d(),i(!1),!0)}return{amenities:e,loading:s,error:l,addAmenity:f,removeAmenity:p}}function T3(t){const[e,n]=h.useState([]),[s,i]=h.useState(!0),[l,u]=h.useState(null);async function d(){i(!0),u(null);const{data:g,error:x}=await ve.from("gallery").select("image").eq("business_id",t);if(x){u(x.message),n([]),i(!1);return}n((g||[]).map(b=>b.image)),i(!1)}h.useEffect(()=>{t&&d()},[t]);async function f(g){i(!0),u(null);const{error:x}=await ve.from("gallery").insert([{business_id:t,image:g}]);return x?(u(x.message),i(!1),!1):(await d(),i(!1),!0)}async function p(g){i(!0),u(null);const{error:x}=await ve.from("gallery").delete().eq("business_id",t).eq("image",g);return x?(u(x.message),i(!1),!1):(await d(),i(!1),!0)}return{images:e,loading:s,error:l,addImage:f,removeImage:p}}const O3=async t=>{if(!t)return{success:!1,error:"No se seleccion ningn archivo"};if(!t.type.startsWith("image/"))return{success:!1,error:"El archivo debe ser una imagen"};if(t.size>5*1024*1024)return{success:!1,error:"La imagen debe ser menor a 5MB"};const e=t.name.split(".").pop(),n=`${Date.now()}_${Math.random().toString(36).substr(2,9)}.${e}`,{data:s,error:i}=await ve.storage.from("uploads").upload(n,t,{cacheControl:"3600",upsert:!1});if(i)return{success:!1,error:i.message};const{data:l}=ve.storage.from("uploads").getPublicUrl(n);return{success:!0,url:l.publicUrl}},R3=(t,e=800,n=.8)=>new Promise(s=>{const i=document.createElement("canvas"),l=i.getContext("2d"),u=new Image;u.onload=()=>{let{width:d,height:f}=u;d>e&&(f=f*e/d,d=e),i.width=d,i.height=f,l==null||l.drawImage(u,0,0,d,f),i.toBlob(p=>{if(p){const g=new File([p],t.name,{type:"image/jpeg",lastModified:Date.now()});s(g)}else s(t)},"image/jpeg",n)},u.onerror=()=>s(t),u.src=URL.createObjectURL(t)}),Kn=({onImageUploaded:t,onImageRemoved:e,currentImage:n,label:s="Subir imagen",accept:i="image/*",maxSize:l=5,compress:u=!0,className:d=""})=>{const[f,p]=h.useState(!1),[g,x]=h.useState(!1),b=h.useRef(null),y=async P=>{if(P){if(!P.type.startsWith("image/")){Ce.error("Por favor selecciona un archivo de imagen vlido");return}if(P.size>l*1024*1024){Ce.error(`La imagen debe ser menor a ${l}MB`);return}p(!0);try{let R=P;u&&P.size>500*1024&&(R=await R3(P),Ce.success("Imagen optimizada automticamente"));const O=await O3(R);O.success&&O.url?(t(O.url),Ce.success("Imagen subida exitosamente")):Ce.error(O.error||"Error al subir la imagen")}catch{Ce.error("Error inesperado al subir la imagen")}finally{p(!1)}}},N=P=>{var O;const R=(O=P.target.files)==null?void 0:O[0];R&&y(R),P.target.value=""},k=P=>{P.preventDefault(),P.stopPropagation()},j=P=>{P.preventDefault(),P.stopPropagation(),x(!0)},M=P=>{P.preventDefault(),P.stopPropagation(),x(!1)},_=P=>{var O;P.preventDefault(),P.stopPropagation(),x(!1);const R=(O=P.dataTransfer.files)==null?void 0:O[0];R&&y(R)},L=()=>{n&&e&&e(n)},S=()=>{var P;(P=b.current)==null||P.click()};return a.jsxs("div",{className:`space-y-4 ${d}`,children:[a.jsx("input",{ref:b,type:"file",accept:i,onChange:N,className:"hidden"}),n?a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:n,alt:"Imagen actual",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-200"}),a.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-lg flex items-center justify-center space-x-2",children:[a.jsxs(ie,{type:"button",size:"sm",onClick:S,disabled:f,className:"bg-blue-600 hover:bg-blue-700",children:[f?a.jsx(Uv,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(nf,{className:"h-4 w-4 mr-2"}),"Cambiar"]}),e&&a.jsxs(ie,{type:"button",size:"sm",variant:"destructive",onClick:L,disabled:f,children:[a.jsx(ur,{className:"h-4 w-4 mr-2"}),"Eliminar"]})]})]}):a.jsx("div",{className:`
            border-2 border-dashed rounded-lg p-8 text-center transition-colors duration-200 cursor-pointer
            ${g?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}
            ${f?"opacity-50 cursor-not-allowed":""}
          `,onDragEnter:j,onDragLeave:M,onDragOver:k,onDrop:_,onClick:f?void 0:S,children:f?a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(Uv,{className:"h-12 w-12 text-blue-600 animate-spin mb-4"}),a.jsx("p",{className:"text-gray-600 font-medium",children:"Subiendo imagen..."})]}):a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(uE,{className:"h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-600 font-medium mb-2",children:s}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Arrastra una imagen aqu o haz clic para seleccionar"}),a.jsxs(ie,{type:"button",variant:"outline",children:[a.jsx(nf,{className:"h-4 w-4 mr-2"}),"Seleccionar Imagen"]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["PNG, JPG hasta ",l,"MB"]})]})})]})};var Ad={exports:{}},zd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function I3(){if(w0)return zd;w0=1;var t=fc();function e(x,b){return x===b&&(x!==0||1/x===1/b)||x!==x&&b!==b}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,i=t.useEffect,l=t.useLayoutEffect,u=t.useDebugValue;function d(x,b){var y=b(),N=s({inst:{value:y,getSnapshot:b}}),k=N[0].inst,j=N[1];return l(function(){k.value=y,k.getSnapshot=b,f(k)&&j({inst:k})},[x,y,b]),i(function(){return f(k)&&j({inst:k}),x(function(){f(k)&&j({inst:k})})},[x]),u(y),y}function f(x){var b=x.getSnapshot;x=x.value;try{var y=b();return!n(x,y)}catch{return!0}}function p(x,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return zd.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,zd}var j0;function D3(){return j0||(j0=1,Ad.exports=I3()),Ad.exports}var A3=D3();function z3(){return A3.useSyncExternalStore($3,()=>!0,()=>!1)}function $3(){return()=>{}}var eh="Avatar",[U3,CT]=xs(eh),[B3,cw]=U3(eh),uw=h.forwardRef((t,e)=>{const{__scopeAvatar:n,...s}=t,[i,l]=h.useState("idle");return a.jsx(B3,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:l,children:a.jsx(Ve.span,{...s,ref:e})})});uw.displayName=eh;var dw="AvatarImage",fw=h.forwardRef((t,e)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...l}=t,u=cw(dw,n),d=F3(s,l),f=Lr(p=>{i(p),u.onImageLoadingStatusChange(p)});return Ot(()=>{d!=="idle"&&f(d)},[d,f]),d==="loaded"?a.jsx(Ve.img,{...l,ref:e,src:s}):null});fw.displayName=dw;var hw="AvatarFallback",mw=h.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:s,...i}=t,l=cw(hw,n),[u,d]=h.useState(s===void 0);return h.useEffect(()=>{if(s!==void 0){const f=window.setTimeout(()=>d(!0),s);return()=>window.clearTimeout(f)}},[s]),u&&l.imageLoadingStatus!=="loaded"?a.jsx(Ve.span,{...i,ref:e}):null});mw.displayName=hw;function k0(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function F3(t,{referrerPolicy:e,crossOrigin:n}){const s=z3(),i=h.useRef(null),l=s?(i.current||(i.current=new window.Image),i.current):null,[u,d]=h.useState(()=>k0(l,t));return Ot(()=>{d(k0(l,t))},[l,t]),Ot(()=>{const f=x=>()=>{d(x)};if(!l)return;const p=f("loaded"),g=f("error");return l.addEventListener("load",p),l.addEventListener("error",g),e&&(l.referrerPolicy=e),typeof n=="string"&&(l.crossOrigin=n),()=>{l.removeEventListener("load",p),l.removeEventListener("error",g)}},[l,n,e]),u}var pw=uw,gw=fw,vw=mw;const ni=h.forwardRef(({className:t,...e},n)=>a.jsx(pw,{ref:n,className:Je("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));ni.displayName=pw.displayName;const ri=h.forwardRef(({className:t,...e},n)=>a.jsx(gw,{ref:n,className:Je("aspect-square h-full w-full",t),...e}));ri.displayName=gw.displayName;const si=h.forwardRef(({className:t,...e},n)=>a.jsx(vw,{ref:n,className:Je("flex h-full w-full items-center justify-center rounded-full bg-zinc-100 dark:bg-zinc-800",t),...e}));si.displayName=vw.displayName;const W3=({className:t="",size:e=20})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor",className:t,children:a.jsx("path",{d:"M22.675 0h-21.35C.595 0 0 .592 0 1.326v21.348C0 23.408.595 24 1.325 24h11.495v-9.294H9.692v-3.622h3.128V8.413c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.797.143v3.24l-1.918.001c-1.504 0-1.797.715-1.797 1.763v2.313h3.587l-.467 3.622h-3.12V24h6.116C23.406 24 24 23.408 24 22.674V1.326C24 .592 23.406 0 22.675 0"})}),V3=({className:t="",size:e=20})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor",className:t,children:a.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 1.366.062 2.633.334 3.608 1.308.974.974 1.246 2.241 1.308 3.608.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.062 1.366-.334 2.633-1.308 3.608-.974.974-2.241 1.246-3.608 1.308-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.366-.062-2.633-.334-3.608-1.308-.974-.974-1.246-2.241-1.308-3.608C2.175 15.647 2.163 15.267 2.163 12s.012-3.584.07-4.85c.062-1.366.334-2.633 1.308-3.608.974-.974 2.241-1.246 3.608-1.308C8.416 2.175 8.796 2.163 12 2.163zm0-2.163C8.741 0 8.332.013 7.052.072 5.775.13 4.602.402 3.635 1.37 2.668 2.337 2.396 3.51 2.338 4.788 2.279 6.068 2.266 6.477 2.266 12c0 5.523.013 5.932.072 7.212.058 1.278.33 2.451 1.297 3.418.967.967 2.14 1.239 3.418 1.297C8.332 23.987 8.741 24 12 24s3.668-.013 4.948-.072c1.278-.058 2.451-.33 3.418-1.297.967-.967 1.239-2.14 1.297-3.418.059-1.28.072-1.689.072-7.212 0-5.523-.013-5.932-.072-7.212-.058-1.278-.33-2.451-1.297-3.418C19.399.402 18.226.13 16.948.072 15.668.013 15.259 0 12 0zm0 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zm0 10.162a3.999 3.999 0 1 1 0-7.998 3.999 3.999 0 0 1 0 7.998zm6.406-11.845a1.44 1.44 0 1 0 0 2.88 1.44 1.44 0 0 0 0-2.88z"})}),H3=({className:t="",size:e=20})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor",className:t,children:a.jsx("path",{d:"M17.53 2.47A.75.75 0 0 1 18.28 3.22l-5.25 5.25 5.25 5.25a.75.75 0 0 1-1.06 1.06l-5.25-5.25-5.25 5.25a.75.75 0 0 1-1.06-1.06l5.25-5.25-5.25-5.25A.75.75 0 0 1 7.03 2.47l5.25 5.25 5.25-5.25a.75.75 0 0 1 1.06 0z"})}),q3=({facebook:t,instagram:e,twitter:n,tiktok:s,whatsapp:i})=>{const[l,u]=h.useState(!1),d=[e&&{name:"Instagram",icon:ui,url:e,color:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",delay:"delay-100"},t&&{name:"Facebook",icon:ci,url:t,color:"bg-blue-600 hover:bg-blue-700",delay:"delay-150"},s&&{name:"TikTok",icon:fE,url:s,color:"bg-black hover:bg-neutral-800",delay:"delay-200"},n&&{name:"Twitter (X)",icon:di,url:n,color:"bg-black hover:bg-gray-800",delay:"delay-[250ms]"}].filter(Boolean),f=()=>u(!l);return a.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[a.jsx("div",{className:`flex flex-col space-y-3 mb-4 transition-all duration-500 ${l?"opacity-100 translate-y-0":"opacity-0 translate-y-8 pointer-events-none"}`,children:d.map(p=>a.jsx("a",{href:p.url,target:"_blank",rel:"noopener noreferrer",className:`
              w-12 h-12 rounded-full ${p.color} text-white
              flex items-center justify-center shadow-lg
              transform transition-all duration-300 hover:scale-110
              ${l?`animate-bounce-in ${p.delay}`:""}
            `,title:p.name,children:a.jsx(p.icon,{className:"h-5 w-5"})},p.name))}),a.jsx("button",{onClick:f,className:`
          w-14 h-14 rounded-full shadow-lg transition-all duration-300
          flex items-center justify-center text-white font-semibold
          ${l?"bg-red-500 hover:bg-red-600 transform rotate-180":"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 hover:scale-110"}
        `,title:l?"Cerrar":"Redes Sociales",children:l?a.jsx(ur,{className:"h-6 w-6"}):a.jsx(Px,{className:"h-6 w-6"})}),!l&&a.jsx("div",{className:"absolute inset-0 w-14 h-14 rounded-full bg-blue-400 animate-ping opacity-20"})]})},N0=({post:t,business:e,user:n,comments:s,likes:i,setAllComments:l,setAllLikes:u})=>{var U;const[d,f]=h.useState(!1),[p,g]=h.useState(""),[x,b]=h.useState(!1),[y,N]=h.useState({title:t.title,content:t.content,image:t.image}),[k,j]=h.useState(!1),[M,_]=h.useState(!1),[L,S]=h.useState(!1),P=s||[],R=i||[],O=P.slice(-2),F=R.length,W=!!(n&&R.find(D=>D.user_id===n.id)),A=async()=>{if(!window.confirm("Seguro que deseas eliminar esta publicacin?"))return;const{error:D}=await ve.from("posts").delete().eq("id",t.id);if(D)return Ce.error("Error al eliminar publicacin");Ce.success("Publicacin eliminada")},Q=async D=>{D.preventDefault(),j(!0);const{error:V}=await ve.from("posts").update({title:y.title,content:y.content,image:y.image}).eq("id",t.id);if(j(!1),V)return Ce.error("Error al editar publicacin");b(!1),Ce.success("Publicacin actualizada")},J=async D=>{if(!window.confirm("Eliminar este comentario?"))return;const{error:V}=await ve.from("comments").delete().eq("id",D);if(V)return Ce.error("Error al eliminar comentario");l(E=>E.filter(z=>z.id!==D)),Ce.success("Comentario eliminado")},re=async()=>{if(!p.trim())return;_(!0);const{error:D}=await ve.from("comments").insert([{user_id:(n==null?void 0:n.id)||null,business_id:e.id,post_id:t.id,content:p}]);if(_(!1),D)return Ce.error("Error al agregar comentario");g("");const{data:V}=await ve.from("comments").select("*, users(id, name, avatar)").eq("post_id",t.id);l(E=>[...E.filter(z=>z.post_id!==t.id),...(V||[]).map(z=>({...z,user:z.users}))]),Ce.success("Comentario agregado")},ee=async()=>{S(!0),W?await ve.from("likes").delete().eq("post_id",t.id).eq("user_id",(n==null?void 0:n.id)||null):await ve.from("likes").insert([{post_id:t.id,user_id:(n==null?void 0:n.id)||null}]),S(!1);const{data:D}=await ve.from("likes").select("*").eq("post_id",t.id);u(V=>[...V.filter(E=>E.post_id!==t.id),...D||[]])},T=D=>{var V,E;return((V=D.user)==null?void 0:V.name)||((E=D.user)==null?void 0:E.id)||"Usuario"},q=D=>{var V;return((V=D.user)==null?void 0:V.avatar)||void 0},K=D=>{var V,E;return(V=D.user)!=null&&V.name?D.user.name.charAt(0):(((E=D.user)==null?void 0:E.id)||"U").charAt(0)};return a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[n&&n.type==="business"&&((U=n.businessData)==null?void 0:U.id)===e.id&&a.jsxs("div",{className:"flex justify-end p-2 gap-2",children:[a.jsx(ie,{size:"sm",variant:"outline",onClick:()=>b(!0),children:"Editar"}),a.jsx(ie,{size:"sm",variant:"destructive",onClick:A,children:"Eliminar"})]}),a.jsx("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:e.logo,alt:"Profile",className:"w-10 h-10 rounded-full object-cover"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:e.name}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-2",children:[a.jsx(kx,{className:"h-3 w-3"}),a.jsx("span",{children:t.created_at?new Date(t.created_at).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"}):""})]})]})]})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h4",{className:"font-semibold text-lg mb-2",children:t.title}),a.jsx("p",{className:"text-gray-800 mb-4",children:t.content}),t.image&&a.jsx("img",{src:t.image,alt:"Post content",className:"w-full h-64 object-cover object-center rounded-lg cursor-pointer hover:opacity-95 transition-opacity bg-white",style:{backgroundColor:"#fff",display:"block"}})]}),a.jsx("div",{className:"px-4 py-3 border-t border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("button",{className:`flex items-center text-gray-600 hover:text-red-500 transition-colors ${W?"text-red-500":""}`,onClick:ee,children:[a.jsx(Yo,{className:`h-5 w-5 mr-2 ${W?"fill-current":""}`}),a.jsx("span",{children:F})]}),a.jsxs("button",{className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors",onClick:()=>f(!0),children:[a.jsx(sc,{className:"h-5 w-5 mr-2"}),a.jsx("span",{children:Array.isArray(s)?s.length:0})]})]})}),x&&a.jsx(Er,{open:x,onOpenChange:b,children:a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-40",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Editar publicacin"}),a.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[a.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2",placeholder:"Ttulo",value:y.title,onChange:D=>N(V=>({...V,title:D.target.value}))}),a.jsx("textarea",{className:"w-full border rounded px-3 py-2",placeholder:"Contenido",value:y.content,onChange:D=>N(V=>({...V,content:D.target.value}))}),a.jsx(Kn,{onImageUploaded:D=>N(V=>({...V,image:D})),onImageRemoved:()=>N(D=>({...D,image:""})),currentImage:y.image,label:"Subir imagen para la publicacin",maxSize:5}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[a.jsx(ie,{variant:"outline",type:"button",onClick:()=>b(!1),children:"Cancelar"}),a.jsx(ie,{type:"submit",disabled:k,children:k?"Guardando...":"Guardar"})]})]})]})})}),O.length>0&&a.jsx("div",{className:"px-4 py-2 border-t border-gray-100",children:O.map(D=>{var V;return a.jsxs("div",{className:"flex items-start space-x-3 py-2",children:[a.jsxs(ni,{className:"w-8 h-8",children:[a.jsx(ri,{src:q(D),alt:T(D)}),a.jsx(si,{children:K(D)})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-sm text-gray-900",children:T(D)}),a.jsx("p",{className:"text-sm text-gray-700",children:D.content}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:D.created_at?new Date(D.created_at).toLocaleDateString():""})]}),n&&(n.id===D.user_id||n.type==="business"&&((V=n.businessData)==null?void 0:V.id)===e.id)&&a.jsx(ie,{size:"sm",variant:"destructive",onClick:()=>J(D.id),children:"Eliminar"})]},D.id)})}),a.jsx("div",{className:"px-4 py-3 border-t border-gray-100",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:p,onChange:D=>g(D.target.value),placeholder:"Escribe un comentario...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:D=>D.key==="Enter"&&re()}),a.jsx(ie,{size:"sm",onClick:re,disabled:!p.trim(),children:"Comentar"})]})}),d&&a.jsx(Er,{open:!0,onOpenChange:()=>f(!1),children:a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-40",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-0 max-w-lg w-full max-h-[80vh] flex flex-col",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 z-10 flex justify-between items-center",children:[a.jsx("h2",{className:"text-lg font-bold",children:"Comentarios"}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>f(!1),children:"Cerrar"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4 bg-gray-50",children:Array.isArray(s)&&s.length===0?a.jsx("div",{className:"text-gray-400 text-center py-8",children:"An no hay comentarios."}):Array.isArray(s)&&s.map(D=>{var V;return a.jsxs("div",{className:"flex items-start space-x-3 py-3 border-b last:border-b-0",children:[a.jsxs(ni,{className:"w-8 h-8",children:[a.jsx(ri,{src:q(D),alt:T(D)}),a.jsx(si,{children:K(D)})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-sm text-gray-900",children:T(D)}),a.jsx("p",{className:"text-sm text-gray-700",children:D.content}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:D.created_at?new Date(D.created_at).toLocaleDateString():""})]}),n&&(n.id===D.user_id||n.type==="business"&&((V=n.businessData)==null?void 0:V.id)===e.id)&&a.jsx(ie,{size:"sm",variant:"destructive",onClick:()=>J(D.id),children:"Eliminar"})]},D.id)})}),a.jsxs("form",{className:"border-t bg-white px-6 py-4 flex gap-2",onSubmit:D=>{D.preventDefault(),p.trim()&&re()},children:[a.jsx("input",{type:"text",value:p,onChange:D=>g(D.target.value),placeholder:"Escribe un comentario...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),a.jsx(ie,{size:"sm",type:"submit",disabled:!p.trim(),children:"Comentar"})]})]})})})]})},G3=()=>{var X,se,H,me,te,le,xe,ce,oe,Ee,Ue,Ye,De,bt,mt,kt,dt,Nt,Ne,nt;const{id:t}=I0(),{user:e}=Tr(),{getBusinessById:n}=Fs(),[s,i]=h.useState(null),[l,u]=h.useState(!0),[d,f]=h.useState(!1);h.useEffect(()=>{(async()=>{const Re=n(t);if(Re)i(Re),u(!1);else{const{data:tt}=await ve.from("businesses").select("*").eq("id",t).single();i(tt||null),u(!1)}})()},[t,n]);const p=String(t??""),{posts:g,loading:x}=P3(p),{isFollowing:b,followersCount:y,toggleFollow:N}=ow(t,(e==null?void 0:e.id)||""),{viewsCount:k,addView:j}=iw({businessId:t,userId:e==null?void 0:e.id});lw(t,(e==null?void 0:e.id)||""),M3(t),T3(t),yy(t);const[M,_]=h.useState(!1),[L,S]=h.useState(!1),[P,R]=h.useState(!1),[O,F]=h.useState({title:"",content:"",image:""}),[W,A]=h.useState(!1),[Q,J]=h.useState({postId:null}),re=we=>Array.isArray(we)?we:[],ee={Roatn:"bg-blue-100 text-blue-800",Utila:"bg-green-100 text-green-800",Guanaja:"bg-purple-100 text-purple-800"},T=async()=>{await N()?Ce.success(b?"Has dejado de seguir este negocio":"Ahora sigues este negocio"):Ce.error("No se pudo actualizar el seguimiento. Intenta de nuevo.")},[q,K]=h.useState([]),[U,D]=h.useState([]);h.useEffect(()=>{async function we(){if(!g.length)return;const{data:Re}=await ve.from("comments").select("*, users(id, name, avatar)").in("post_id",g.map(Be=>Be.id));K(Re||[]);const{data:tt}=await ve.from("likes").select("*").in("post_id",g.map(Be=>Be.id));D(tt||[])}we()},[g]);const V=h.useMemo(()=>{const we={};return q.forEach(Re=>{we[Re.post_id]||(we[Re.post_id]=[]),we[Re.post_id].push({...Re,user:Re.users})}),we},[q]),E=h.useMemo(()=>{const we={};return U.forEach(Re=>{we[Re.post_id]||(we[Re.post_id]=[]),we[Re.post_id].push(Re)}),we},[U]);if(h.useEffect(()=>{t&&j()},[t]),h.useEffect(()=>{window.scrollTo({top:0,behavior:"auto"})},[t]),x||l)return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(kn,{}),a.jsx("div",{className:"flex items-center justify-center py-16",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})]});if(!s)return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(kn,{}),a.jsxs("div",{className:"text-center py-16",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Negocio no encontrado"}),a.jsx(vt,{to:"/directorio",className:"text-blue-600 hover:underline",children:"Volver al directorio"})]})]});const z=["Lunes","Martes","Mircoles","Jueves","Viernes","Sbado","Domingo"];return re(g).length===0||re(g).map(we=>a.jsx(N0,{post:we,business:s,user:e,comments:V[we.id]||[],likes:E[we.id]||[],setAllComments:K,setAllLikes:D},we.id)),a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(kn,{}),a.jsxs("div",{className:"container mx-auto px-2 sm:px-4 md:px-8 lg:px-24 xl:px-40 2xl:px-64 py-4 w-full",children:[a.jsx("div",{className:"mb-6",children:a.jsxs(vt,{to:"/directorio",className:"flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[a.jsx(gc,{className:"h-4 w-4 mr-2"}),"Volver al directorio"]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[a.jsxs("div",{className:"relative h-64 md:h-80 bg-white",children:[a.jsx("img",{src:s.coverImage,alt:s.name,className:"w-full h-full object-cover object-center bg-white",onClick:()=>S(!0),style:{backgroundColor:"#fff",display:"block"}}),a.jsxs("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 w-full flex flex-col items-center text-white",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2 text-center",children:s.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[a.jsx(xt,{className:ee[s.island],children:s.island}),a.jsx(xt,{variant:"outline",className:"bg-white bg-opacity-20 text-white border-white",children:s.category})]})]}),Array.isArray(s.gallery)&&s.gallery.length>1&&a.jsxs(ie,{className:"absolute bottom-6 right-6 bg-black bg-opacity-50 hover:bg-opacity-70",onClick:()=>S(!0),children:[a.jsx(hs,{className:"h-4 w-4 mr-2"}),"Ver galera (",s.gallery.length,")"]})]}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:s.logo,alt:`${s.name} logo`,className:"w-16 h-16 rounded-full object-cover border-4 border-white shadow-lg -mt-8"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s.name}),a.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[a.jsx(Qt,{className:"h-4 w-4 mr-1"}),a.jsxs("span",{children:[s.location,", ",s.island]})]})]})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-2 w-full items-stretch px-6 pb-4",children:[a.jsxs(ie,{variant:b?"default":"outline",onClick:T,className:"flex-1 min-w-[120px] w-full h-full",children:[a.jsx(Yo,{className:"h-4 w-4 mr-2"}),b?"Dejar de seguir":"Seguir",a.jsxs("span",{className:"ml-2",children:["(",y,")"]})]}),a.jsxs(ie,{onClick:()=>_(!0),className:"flex-1 min-w-[120px] bg-blue-600 hover:bg-blue-700 w-full h-full",children:[a.jsx(sc,{className:"h-4 w-4 mr-2"}),"Contactar"]}),((X=s.contact)==null?void 0:X.phone)&&a.jsxs(ie,{onClick:()=>{var Re;const we=(((Re=s.contact)==null?void 0:Re.phone)||"").replace(/\D/g,"");window.open(`https://wa.me/${we}`)},className:"flex-1 min-w-[120px] w-full h-full flex items-center justify-center gap-2 bg-[#25D366] hover:bg-[#1DA851] text-white",style:{},children:[a.jsx("svg",{viewBox:"0 0 32 32",width:"20",height:"20",fill:"currentColor",children:a.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.637.86 5.08 2.34 7.09L4 29l7.18-2.31A12.93 12.93 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 22c-1.98 0-3.89-.52-5.54-1.5l-.39-.23-4.27 1.37 1.4-4.15-.25-.4A9.93 9.93 0 0 1 6 15c0-5.514 4.486-10 10-10s10 4.486 10 10-4.486 10-10 10zm5.07-7.75c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.34.42-.51.14-.17.18-.29.28-.48.09-.19.05-.36-.02-.5-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.62-.47-.16-.01-.36-.01-.56-.01-.19 0-.5.07-.76.36-.26.28-1 1-.97 2.43.03 1.43 1.03 2.81 1.18 3.01.15.2 2.03 3.1 4.93 4.22.69.3 1.23.48 1.65.61.69.22 1.32.19 1.82.12.56-.08 1.65-.67 1.88-1.32.23-.65.23-1.2.16-1.32-.07-.12-.25-.19-.53-.33z"})}),"WhatsApp"]})]}),M&&a.jsx($f,{isOpen:M,onClose:()=>_(!1),business:s,contacts:s.contact}),a.jsx(q3,{facebook:s.facebook,instagram:s.instagram,twitter:s.twitter,tiktok:s.tiktok,whatsapp:(se=s.contact)==null?void 0:se.whatsapp}),a.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-2",children:[a.jsx(hs,{className:"h-4 w-4 mr-1"}),a.jsxs("span",{children:[k," visualizaciones"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[a.jsxs("div",{className:"md:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Acerca de nosotros"}),a.jsx("p",{className:"text-gray-600 mb-4",children:s.description}),a.jsx("h3",{className:"text-xl font-bold text-blue-600 border-b-4 border-blue-300 pb-1 mb-4 drop-shadow-sm tracking-wide",children:"Nuestros Servicios"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:Array.isArray(s.amenities)&&s.amenities.length>0?s.amenities.map((we,Re)=>a.jsx(xt,{variant:"secondary",className:"justify-center",children:we},Re)):a.jsx("span",{className:"text-xs text-gray-400",children:"Sin amenidades"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-semibold",children:"Publicaciones"}),e&&e.type==="business"&&((H=e.businessData)==null?void 0:H.id)===s.id&&a.jsxs("div",{className:"mb-4",children:[a.jsx(ie,{onClick:()=>R(!0),className:"bg-green-600 hover:bg-green-700",disabled:g.length>=3,children:"+ Crear publicacin"}),g.length>=3&&a.jsx("div",{className:"text-red-500 text-sm mt-2 font-semibold",children:"Solo puedes tener hasta 3 publicaciones activas."})]}),re(g).length===0?a.jsx("div",{className:"text-gray-500 text-center py-8",children:"No hay publicaciones an."}):re(g).map(we=>a.jsx(N0,{post:we,business:s,user:e,comments:V[we.id]||[],likes:E[we.id]||[],setAllComments:K,setAllLikes:D},we.id))]})]}),a.jsxs("div",{className:"md:col-span-1 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informacin de Contacto"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jn,{className:"h-5 w-5 text-gray-400 mr-3"}),a.jsx("a",{href:`tel:${((me=s.contact)==null?void 0:me.phone)||""}`,className:"text-blue-600 hover:underline",children:((te=s.contact)==null?void 0:te.phone)||"No disponible"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(fn,{className:"h-5 w-5 text-gray-400 mr-3"}),a.jsxs("div",{children:[a.jsx("a",{href:`mailto:${((le=s.contact)==null?void 0:le.email)||""}`,className:"text-blue-600 hover:underline",children:((xe=s.contact)==null?void 0:xe.email)||"No disponible"}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:((ce=s.contact)==null?void 0:ce.email)||""})]})]}),((oe=s.contact)==null?void 0:oe.website)&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(cr,{className:"h-5 w-5 text-gray-400 mr-3"}),a.jsx("a",{href:s.contact.website.startsWith("http")?s.contact.website:`https://${s.contact.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:s.contact.website})]}),(((Ee=s.contact)==null?void 0:Ee.facebook)||((Ue=s.contact)==null?void 0:Ue.instagram)||((Ye=s.contact)==null?void 0:Ye.twitter)||((De=s.contact)==null?void 0:De.tiktok))&&a.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Redes sociales"}),a.jsxs("div",{className:"flex gap-4",children:[((bt=s.contact)==null?void 0:bt.facebook)&&a.jsx("a",{href:s.contact.facebook,target:"_blank",rel:"noopener noreferrer",className:"transition-transform hover:scale-110 hover:shadow-lg rounded-full p-2 bg-[#f3f4f6] text-[#1877f3] hover:bg-[#e7f0fd] hover:text-[#1456a0]",title:"Facebook",children:a.jsx(W3,{size:28})}),((mt=s.contact)==null?void 0:mt.instagram)&&a.jsx("a",{href:s.contact.instagram,target:"_blank",rel:"noopener noreferrer",className:"transition-transform hover:scale-110 hover:shadow-lg rounded-full p-2 bg-[#f3f4f6] text-[#e1306c] hover:bg-[#fce4ef] hover:text-[#a81d4d]",title:"Instagram",children:a.jsx(V3,{size:28})}),((kt=s.contact)==null?void 0:kt.twitter)&&a.jsx("a",{href:s.contact.twitter,target:"_blank",rel:"noopener noreferrer",className:"transition-transform hover:scale-110 hover:shadow-lg rounded-full p-2 bg-[#f3f4f6] text-[#1da1f2] hover:bg-[#e5f6fd] hover:text-[#0d6fa1]",title:"X (Twitter)",children:a.jsx(H3,{size:28})}),((dt=s.contact)==null?void 0:dt.tiktok)&&a.jsx("a",{href:s.contact.tiktok,target:"_blank",rel:"noopener noreferrer",className:"transition-transform hover:scale-110 hover:shadow-lg rounded-full p-2 bg-[#f3f4f6] text-black hover:bg-[#eaeaea] hover:text-[#ff0050]",title:"TikTok",children:a.jsx(hi,{size:28})})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Qt,{className:"h-5 w-5 mr-3 text-gray-500"}),a.jsxs("span",{className:"text-gray-700",children:[s.location,", ",s.island]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Datos"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center justify-between"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(_r,{className:"h-5 w-5 text-green-500 mr-2"}),a.jsx("span",{className:"text-gray-700",children:"Seguidores"})]}),a.jsx("span",{className:"font-semibold text-gray-900",children:y})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Horarios"}),a.jsx("div",{className:"space-y-2 text-sm",children:s.schedule&&s.schedule.length>0?z.map(we=>{const Re=s.schedule.find(tt=>tt.day===we);return Re?a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-700",children:Re.day}),a.jsx("span",{className:"text-gray-900",children:Re.open&&Re.close?`${Re.open} - ${Re.close}`:"Cerrado"})]},Re.day):null}):z.map((we,Re)=>a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-700",children:we}),a.jsx("span",{className:"text-gray-900",children:Re<5?"8:00 AM - 6:00 PM":"9:00 AM - 8:00 PM"})]},we))}),a.jsxs("div",{className:"mt-3 flex items-center text-green-600",children:[a.jsx(Ex,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Abierto ahora"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Contacto y Ubicacin"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(jn,{className:"h-5 w-5 mr-2 text-gray-500"}),a.jsx("span",{children:((Nt=s==null?void 0:s.contact)==null?void 0:Nt.phone)||"No disponible"})]}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(fn,{className:"h-5 w-5 mr-2 text-gray-500"}),a.jsx("span",{children:((Ne=s==null?void 0:s.contact)==null?void 0:Ne.email)||"No disponible"})]}),((nt=s==null?void 0:s.contact)==null?void 0:nt.website)&&a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(cr,{className:"h-5 w-5 mr-2 text-gray-500"}),a.jsx("a",{href:`https://${s.contact.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:s.contact.website})]}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Qt,{className:"h-5 w-5 mr-2 text-gray-500"}),a.jsx("span",{className:"text-gray-700",children:(s==null?void 0:s.location)||"No disponible"})]})]}),(s==null?void 0:s.coordinates)&&a.jsxs("div",{className:"w-full rounded overflow-hidden relative flex flex-col items-center justify-center",children:[a.jsx("span",{className:"text-gray-600 mb-2",children:"Ubicacin en el mapa:"}),a.jsx("div",{className:"w-full h-56 md:h-64 rounded-lg overflow-hidden border border-gray-300",children:a.jsx(jf,{mapContainerStyle:{width:"100%",height:"100%"},center:{lat:s.coordinates.lat,lng:s.coordinates.lng},zoom:16,options:{disableDefaultUI:!0,draggable:!1,scrollwheel:!1,mapTypeId:"satellite"},children:a.jsx(mc,{position:{lat:s.coordinates.lat,lng:s.coordinates.lng},icon:{url:"https://maps.gstatic.com/mapfiles/api-3/images/spotlight-poi2_hdpi.png",scaledSize:window.google&&window.google.maps?new window.google.maps.Size(40,40):void 0},draggable:!1})})}),a.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${s.coordinates.lat},${s.coordinates.lng}`,target:"_blank",rel:"noopener noreferrer",className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded shadow hover:bg-blue-700 transition-colors text-sm font-semibold",children:"Ver en Google Maps"})]})]})]})]})]})]})},th=["Servicios legales","Contadores","Notaras","Consultores empresariales","Recursos Humanos","Traductores","Arquitectos","Ingenieros","Asesora migratoria","Hoteles","Hostales","Casas vacacionales","Tours","Agencias de viajes","Operadores tursticos","Rentas vacacionales","Bares","Discotecas","Parques y atracciones","Transporte turstico","Restaurantes","Cafeteras","Comida rpida","Panaderas","Supermercados","Catering","Tiendas de abarrotes","Tiendas de ropa","Tiendas de zapatos","Electrnica","Libreras","Papeleras","Tiendas de conveniencia","Ferreteras","Muebleras","Floristeras","Joyeras","Tiendas de souvenirs","Plomera","Electricistas","Albailes","Carpintera","Aire acondicionado","Jardinera","Cerrajera","Reparacin de electrodomsticos","Talleres mecnicos","Repuestos automotrices","Lavado de autos","Transporte privado","Taxi","Moto taxi","Alquiler de vehculos","Estacionamientos","Transporte martimo","Barberas","Salones de belleza","Spa","Masajes","Yoga","Gimnasios","Farmacias","Clnicas","Mdicos generales","Dentistas","Psiclogos","Inmobiliarias","Agentes de bienes races","Venta de propiedades","Alquiler de propiedades","Decoracin de interiores","Mudanzas","Escuelas","Colegios","Centros de idiomas","Tutoras","Capacitacin tcnica","Universidades","Cursos online","Academias de arte","Academias de msica","Tiendas de celulares","Reparacin de computadoras","Servicios de internet","Cibercafs","Diseo web","Marketing digital","Soporte tcnico","Agencias de publicidad","Veterinarias","Tiendas de mascotas","Peluquera canina","Adiestramiento de mascotas","Galeras","Estudios de arte","Escuelas de msica","Grupos de danza","Organizadores de eventos","Fotografa","Servicios de video","Alquiler de sonido","Alquiler de luces"],K3=()=>{const t=Jn(),[e,n]=h.useState(1),[s,i]=h.useState(!1),[l,u]=h.useState(""),[d,f]=h.useState({name:"",category:"",island:"",location:"",description:"",email:"",phone:"",website:"",facebook:"",instagram:"",twitter:"",tiktok:"",whatsapp:"",priceRange:"",amenities:[],coverImage:"",logo:""}),p=["Roatn","Utila","Guanaja","Jose Santos Guardiola"],g=[{value:"$",label:"$ - Econmico"},{value:"$$",label:"$$ - Moderado"},{value:"$$$",label:"$$$ - Caro"},{value:"$$$$",label:"$$$$ - Muy Caro"}],x=th,b=4,y=(A,Q)=>{f(J=>({...J,[A]:Q}))},N=()=>{l.trim()&&!d.amenities.includes(l.trim())&&(f(A=>({...A,amenities:[...A.amenities,l.trim()]})),u(""))},k=A=>{f(Q=>({...Q,amenities:Q.amenities.filter(J=>J!==A)}))},j=A=>{f(Q=>({...Q,coverImage:A}))},M=()=>{f(A=>({...A,coverImage:""}))},_=A=>{f(Q=>({...Q,logo:A}))},L=()=>{f(A=>({...A,logo:""}))},S=A=>{switch(A){case 1:return!!(d.name&&d.category&&d.island&&d.location);case 2:return!!(d.description&&d.email&&d.phone);case 3:return d.amenities.length>0;case 4:return!0;default:return!1}},P=()=>{S(e)?n(A=>Math.min(A+1,b)):Ce.error("Por favor completa todos los campos obligatorios")},R=()=>{n(A=>Math.max(A-1,1))},O=async()=>{if(!S(e)){Ce.error("Por favor completa todos los campos requeridos");return}i(!0);try{const A={name:d.name,category:d.category,island:d.island,location:d.location,description:d.description,contact:{email:d.email,phone:d.phone,website:d.website,facebook:d.facebook,instagram:d.instagram,twitter:d.twitter,tiktok:d.tiktok,whatsapp:d.whatsapp},priceRange:d.priceRange,amenities:d.amenities,coverImage:d.coverImage,logo:d.logo,is_public:!0},Q={name:d.name,category:d.category,island:d.island,location:d.location,description:d.description,contact:{email:d.email,phone:d.phone,website:d.website,facebook:d.facebook,instagram:d.instagram,twitter:d.twitter,tiktok:d.tiktok,whatsapp:d.whatsapp},price_range:d.priceRange,amenities:d.amenities,cover_image:d.coverImage,logo:d.logo,is_public:!0};let J=null;try{const re=await ve.from("businesses").insert([A]).select().single();if(re.error)throw re.error;J=re.data}catch(re){const ee=String((re==null?void 0:re.message)||re);if(ee.includes("cover_image")||ee.includes("coverImage")||ee.includes("could not find")||ee.includes("column")){const T=await ve.from("businesses").insert([Q]).select().single();if(T.error)throw T.error;J=T.data}else throw re}if(!J){Ce.error("Error al crear el negocio"),i(!1);return}Ce.success("Negocio registrado exitosamente"),setTimeout(()=>t("/editar-negocio"),1200)}catch(A){Ce.error("Error al registrar el negocio: "+((A==null?void 0:A.message)||"Intenta nuevamente."))}finally{i(!1)}},F=A=>{switch(A){case 1:return"Informacin Bsica";case 2:return"Descripcin y Contacto";case 3:return"Servicios y Precios";case 4:return"Imgenes del Negocio";default:return""}},W=()=>a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:Array.from({length:b},(A,Q)=>{const J=Q+1,re=J<e,ee=J===e;return a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`
                flex items-center justify-center w-10 h-10 rounded-full text-sm font-medium
                ${re?"bg-green-600 text-white":ee?"bg-blue-600 text-white":"bg-gray-300 text-gray-500"}
              `,children:re?a.jsx(Nx,{className:"h-5 w-5"}):J}),J<b&&a.jsx("div",{className:`
                  flex-1 h-1 mx-2 
                  ${J<e?"bg-green-600":"bg-gray-300"}
                `})]},J)})}),a.jsx("div",{className:"text-center",children:a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Paso ",e," de ",b,": ",F(e)]})})]});return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",children:[a.jsx(kn,{}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs(vt,{to:"/directorio",className:"flex items-center text-blue-600 hover:text-blue-800 mb-6 transition-colors duration-300",children:[a.jsx(gc,{className:"h-4 w-4 mr-2"}),"Volver al directorio"]}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-2 drop-shadow-md animate-fade-in",children:"Registra tu Negocio"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"nete al directorio ms importante de las Islas de la Baha y conecta con miles de visitantes"})]}),W()]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 transition-shadow duration-300 hover:shadow-xl",children:[e===1&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Negocio *"}),a.jsxs("div",{className:"relative",children:[a.jsx(rc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",value:d.name,onChange:A=>y("name",A.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-4 focus:ring-blue-500 focus:border-transparent transition-shadow duration-300 shadow-sm hover:shadow-md",placeholder:"Ej: Hotel Paradise Bay"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categora *"}),a.jsx("input",{list:"categories-list",value:d.category,onChange:A=>y("category",A.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-4 focus:ring-blue-500 focus:border-transparent transition-shadow duration-300 shadow-sm hover:shadow-md",placeholder:"Escribe o selecciona una categora",required:!0}),a.jsx("datalist",{id:"categories-list",children:x.map(A=>a.jsx("option",{value:A},A))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Isla *"}),a.jsxs("select",{value:d.island,onChange:A=>y("island",A.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-4 focus:ring-blue-500 focus:border-transparent transition-shadow duration-300 shadow-sm hover:shadow-md",children:[a.jsx("option",{value:"",children:"Selecciona una isla"}),p.map(A=>a.jsx("option",{value:A,children:A},A))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ubicacin Especfica *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",value:d.location,onChange:A=>y("location",A.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-4 focus:ring-blue-500 focus:border-transparent transition-shadow duration-300 shadow-sm hover:shadow-md",placeholder:"Ej: West Bay Beach"})]})]})]})}),e===2&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin del Negocio *"}),a.jsx("textarea",{value:d.description,onChange:A=>y("description",A.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-4 focus:ring-blue-500 focus:border-transparent transition-shadow duration-300 shadow-sm hover:shadow-md",placeholder:"Describe tu negocio, servicios especiales, lo que te hace nico..."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email de Contacto *"}),a.jsxs("div",{className:"relative",children:[a.jsx(fn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"email",value:d.email,onChange:A=>y("email",A.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-4 focus:ring-blue-500 focus:border-transparent transition-shadow duration-300 shadow-sm hover:shadow-md",placeholder:"contacto@tunegocio.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono *"}),a.jsxs("div",{className:"relative",children:[a.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"tel",value:d.phone,onChange:A=>y("phone",A.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-4 focus:ring-blue-500 focus:border-transparent transition-shadow duration-300 shadow-sm hover:shadow-md",placeholder:"+504 2445-1234"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sitio Web (opcional)"}),a.jsxs("div",{className:"relative",children:[a.jsx(cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"url",value:d.website,onChange:A=>y("website",A.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-4 focus:ring-blue-500 focus:border-transparent transition-shadow duration-300 shadow-sm hover:shadow-md",placeholder:"www.tunegocio.com"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(ci,{className:"h-4 w-4 text-blue-600"})," Facebook"]}),a.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:d.facebook||"",onChange:A=>y("facebook",A.target.value),placeholder:"URL de Facebook"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(ui,{className:"h-4 w-4 text-pink-500"})," Instagram"]}),a.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:d.instagram||"",onChange:A=>y("instagram",A.target.value),placeholder:"URL de Instagram"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(di,{className:"h-4 w-4 text-blue-400"})," X (Twitter)"]}),a.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:d.twitter||"",onChange:A=>y("twitter",A.target.value),placeholder:"URL de X"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(hi,{className:"h-4 w-4 text-black"})," TikTok"]}),a.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:d.tiktok||"",onChange:A=>y("tiktok",A.target.value),placeholder:"URL de TikTok"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:"WhatsApp"}),a.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:d.whatsapp||"",onChange:A=>y("whatsapp",A.target.value),placeholder:"Nmero o link de WhatsApp"})]})]})]}),e===3&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rango de Precios"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:g.map(A=>a.jsxs("button",{type:"button",onClick:()=>y("priceRange",A.value),className:`
                        p-3 rounded-lg border text-center transition-colors
                        ${d.priceRange===A.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"}
                      `,children:[a.jsx("div",{className:"font-medium",children:A.value}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:A.label.split(" - ")[1]})]},A.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Servicios y Amenidades *"}),a.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Agrega los servicios que ofreces (ej: WiFi, Piscina, Aire Acondicionado, etc.)"}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx("input",{type:"text",value:l,onChange:A=>u(A.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Escribe un servicio o amenidad",onKeyPress:A=>A.key==="Enter"&&(A.preventDefault(),N())}),a.jsx(ie,{type:"button",onClick:N,className:"px-4",children:a.jsx(us,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2 min-h-[100px] p-4 border border-gray-200 rounded-lg",children:d.amenities.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No hay servicios agregados an"}):d.amenities.map((A,Q)=>a.jsxs(xt,{variant:"secondary",className:"bg-blue-100 text-blue-800 px-3 py-1 flex items-center gap-2",children:[A,a.jsx("button",{type:"button",onClick:()=>k(A),className:"text-blue-600 hover:text-blue-800",children:a.jsx(ur,{className:"h-3 w-3"})})]},Q))})]})]}),e===4&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Imgenes de tu Negocio"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Las imgenes son opcionales pero recomendadas para atraer ms clientes"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Imagen Principal (opcional)"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Esta ser la imagen de portada que vern los usuarios"}),a.jsx(Kn,{onImageUploaded:j,onImageRemoved:M,currentImage:d.coverImage,label:"Imagen de portada",maxSize:5})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Logo del Negocio (opcional)"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"El logo aparecer en tu perfil y publicaciones"}),a.jsx(Kn,{onImageUploaded:_,onImageRemoved:L,currentImage:d.logo,label:"Logo del negocio",maxSize:2})]})]}),(d.coverImage||d.logo)&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Vista Previa"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.coverImage&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Imagen Principal:"}),a.jsx("img",{src:d.coverImage,alt:"Imagen principal",className:"w-full h-32 object-cover rounded-lg border"})]}),d.logo&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Logo:"}),a.jsx("img",{src:d.logo,alt:"Logo",className:"w-24 h-24 object-cover rounded-full border mx-auto"})]})]})]})]}),a.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[e>1?a.jsx(ie,{type:"button",variant:"outline",onClick:R,children:"Anterior"}):a.jsx("div",{}),e<b?a.jsx(ie,{type:"button",onClick:P,children:"Siguiente"}):a.jsx(ie,{type:"button",onClick:O,disabled:s,className:"bg-green-600 hover:bg-green-700",children:s?"Registrando...":"Registrar Negocio"})]})]}),a.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-8 shadow-md hover:shadow-lg transition-shadow duration-300",children:[a.jsx("h3",{className:"text-xl font-semibold text-center text-gray-900 mb-6",children:"Por qu registrar tu negocio con nosotros?"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-blue-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 shadow-lg",children:a.jsx(hs,{className:"h-8 w-8 text-white"})}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Ms Visibilidad"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Aparece en bsquedas de miles de turistas que visitan las islas"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-green-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 shadow-lg",children:a.jsx(_r,{className:"h-8 w-8 text-white"})}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Ms Clientes"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Conecta directamente con turistas y locales interesados"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-purple-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 shadow-lg",children:a.jsx(rc,{className:"h-8 w-8 text-white"})}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Presencia Digital"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Perfil profesional con toda la informacin de tu negocio"})]})]})]})]})]})},xw=()=>a.jsxs("div",{className:"max-w-2xl mx-auto py-12 px-4 bg-white rounded shadow",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6 text-blue-700",children:"Poltica de Privacidad"}),a.jsx("p",{className:"mb-4",children:"En RoaBusiness, valoramos la privacidad de nuestros usuarios y nos comprometemos a proteger la informacin personal que nos confan. Al utilizar nuestro sitio, aceptas las condiciones descritas a continuacin."}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"1. Informacin Pblica"}),a.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[a.jsx("li",{children:"Nombre del negocio o usuario."}),a.jsx("li",{children:"Ubicacin (ciudad o isla)."}),a.jsx("li",{children:"Categora del negocio."}),a.jsx("li",{children:"Informacin de contacto (como correo electrnico, sitio web, telfono)."}),a.jsx("li",{children:"Fotografas, descripciones, servicios y promociones publicadas."})]}),a.jsx("p",{className:"mb-4 text-yellow-700 font-semibold",children:" Toda la informacin publicada en perfiles y anuncios es responsabilidad exclusiva del usuario."}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"2. Informacin Privada"}),a.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[a.jsx("li",{children:"Correo electrnico de acceso."}),a.jsx("li",{children:"Contrasea (encriptada)."}),a.jsx("li",{children:"Direccin IP y registros de actividad para seguridad."})]}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"3. Contenido Prohibido"}),a.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[a.jsx("li",{children:"Lenguaje ofensivo, difamatorio o discriminatorio."}),a.jsx("li",{children:"Imgenes no autorizadas o protegidas por derechos de autor."}),a.jsx("li",{children:"Informacin falsa, engaosa o malintencionada."}),a.jsx("li",{children:"Promociones de actividades ilegales."}),a.jsx("li",{children:"Contenido sexual explcito o violento."})]}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"4. Moderacin y Consecuencias"}),a.jsx("p",{className:"mb-2",children:"RoaBusiness se reserva el derecho de editar, ocultar o eliminar cualquier contenido que incumpla nuestras normas comunitarias o condiciones de uso, sin previo aviso."}),a.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[a.jsx("li",{children:"Advertencia directa al usuario."}),a.jsx("li",{children:"Eliminacin de contenido inapropiado."}),a.jsx("li",{children:"Suspensin temporal o bloqueo permanente de la cuenta infractora."}),a.jsx("li",{children:"Reporte a autoridades en casos graves o ilegales."})]}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"5. Seguridad de los Usuarios"}),a.jsx("p",{className:"mb-4",children:"Utilizamos medidas de seguridad para proteger los datos personales de nuestros usuarios. Sin embargo, te recomendamos:"}),a.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[a.jsx("li",{children:"No compartir contraseas con terceros."}),a.jsx("li",{children:"No divulgar informacin confidencial pblicamente."})]}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"6. Contacto"}),a.jsx("p",{className:"mb-4",children:"Si tienes preguntas o necesitas reportar una publicacin o cuenta inapropiada, puedes contactarnos en:"}),a.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[a.jsx("li",{children:" info@roabusiness.com"}),a.jsx("li",{children:" Islas de la Baha, Honduras"})]}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"7. Cambios a esta Poltica"}),a.jsx("p",{children:"RoaBusiness puede actualizar esta poltica en cualquier momento. Se notificar a los usuarios sobre cambios significativos a travs del sitio o por correo electrnico."})]}),Z3=()=>{const[t,e]=h.useState({name:"",email:"",avatar:""}),[n,s]=h.useState(!1),[i,l]=h.useState(!0),u=Jn(),d=()=>l(!1),f=()=>u("/"),p=async y=>{if(y.preventDefault(),!t.name||!t.email){Ce.error("Por favor completa todos los campos obligatorios");return}s(!0);try{const N=await fetch("/api/register-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:t})}),k=await N.json();N.ok?(Ce.success("Registro de usuario completado"),u("/")):Ce.error((k==null?void 0:k.message)||"Error al registrar usuario")}catch{Ce.error("Error inesperado. Intenta nuevamente.")}finally{s(!1)}},g=(y,N)=>{e(k=>({...k,[y]:N}))},x=y=>{e(N=>({...N,avatar:y}))},b=()=>{e(y=>({...y,avatar:""}))};return i?a.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"w-full max-w-2xl bg-white rounded shadow p-8",children:[a.jsx(xw,{}),a.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[a.jsx(ie,{variant:"outline",onClick:f,children:"Rechazar"}),a.jsx(ie,{onClick:d,children:"Aceptar y continuar"})]})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(kn,{}),a.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-16",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs(vt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800 mb-6",children:[a.jsx(gc,{className:"h-4 w-4 mr-2"}),"Volver"]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Registrarse como Usuario"}),a.jsx("p",{className:"text-gray-600",children:"Crea tu cuenta para interactuar con los negocios"})]})]}),a.jsx("form",{onSubmit:p,className:"bg-white rounded-lg shadow-md p-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Foto de Perfil (opcional)"}),a.jsx(Kn,{onImageUploaded:x,onImageRemoved:b,currentImage:t.avatar,label:"Sube tu foto de perfil",maxSize:2,className:"max-w-xs mx-auto"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Fv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",value:t.name,onChange:y=>g("name",y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Juan Prez",disabled:n})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),a.jsxs("div",{className:"relative",children:[a.jsx(fn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"email",value:t.email,onChange:y=>g("email",y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"tu@email.com",disabled:n})]})]}),a.jsx(ie,{type:"submit",disabled:n,className:"w-full bg-green-600 hover:bg-green-700 py-3",children:n?"Creando cuenta...":"Crear Cuenta de Usuario"})]})}),a.jsx("div",{className:"mt-8 text-center",children:a.jsx("p",{className:"text-gray-600 text-sm",children:"Registro creado correctamente."})}),a.jsxs("div",{className:"mt-12 bg-green-50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-center text-gray-900 mb-4",children:"Por qu crear una cuenta de usuario?"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-green-600 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-2",children:a.jsx(Fv,{className:"h-6 w-6 text-white"})}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Interacta"}),a.jsx("p",{className:"text-gray-600 text-sm",children:'Comenta y da "me gusta" a los negocios'})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-blue-600 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-2",children:a.jsx(fn,{className:"h-6 w-6 text-white"})}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Contacta Fcil"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Contacta directamente con los negocios"})]})]})]}),a.jsxs("div",{className:"mt-12 text-center border-t border-gray-200 pt-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:a.jsx("h3",{className:"font-bold text-lg",children:"VISONIXRO"})}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Desarrollo y soluciones digitales para las Islas de la Baha"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 mt-3 text-xs text-gray-400",children:[a.jsx("div",{children:" info@visonixro.com"}),a.jsx("div",{children:" +504 88632788"}),a.jsx("div",{children:" Roatn, Islas de la Baha"})]})]})]})]})};var Cc="Switch",[J3,ET]=xs(Cc),[Y3,X3]=J3(Cc),yw=h.forwardRef((t,e)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:l,required:u,disabled:d,value:f="on",onCheckedChange:p,form:g,...x}=t,[b,y]=h.useState(null),N=ht(e,L=>y(L)),k=h.useRef(!1),j=b?g||!!b.closest("form"):!0,[M,_]=Aa({prop:i,defaultProp:l??!1,onChange:p,caller:Cc});return a.jsxs(Y3,{scope:n,checked:M,disabled:d,children:[a.jsx(Ve.button,{type:"button",role:"switch","aria-checked":M,"aria-required":u,"data-state":kw(M),"data-disabled":d?"":void 0,disabled:d,value:f,...x,ref:N,onClick:Ge(t.onClick,L=>{_(S=>!S),j&&(k.current=L.isPropagationStopped(),k.current||L.stopPropagation())})}),j&&a.jsx(jw,{control:b,bubbles:!k.current,name:s,value:f,checked:M,required:u,disabled:d,form:g,style:{transform:"translateX(-100%)"}})]})});yw.displayName=Cc;var bw="SwitchThumb",ww=h.forwardRef((t,e)=>{const{__scopeSwitch:n,...s}=t,i=X3(bw,n);return a.jsx(Ve.span,{"data-state":kw(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})});ww.displayName=bw;var Q3="SwitchBubbleInput",jw=h.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:s=!0,...i},l)=>{const u=h.useRef(null),d=ht(u,l),f=Gy(n),p=Dy(e);return h.useEffect(()=>{const g=u.current;if(!g)return;const x=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(x,"checked").set;if(f!==n&&y){const N=new Event("click",{bubbles:s});y.call(g,n),g.dispatchEvent(N)}},[f,n,s]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:d,style:{...i.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});jw.displayName=Q3;function kw(t){return t?"checked":"unchecked"}var Nw=yw,eT=ww;const Sw=h.forwardRef(({className:t,...e},n)=>a.jsx(Nw,{className:Je("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-zinc-900 data-[state=unchecked]:bg-zinc-200 dark:focus-visible:ring-zinc-300 dark:focus-visible:ring-offset-zinc-950 dark:data-[state=checked]:bg-zinc-50 dark:data-[state=unchecked]:bg-zinc-800",t),...e,ref:n,children:a.jsx(eT,{className:Je("pointer-events-none block h-4 w-4 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0 dark:bg-zinc-950")})}));Sw.displayName=Nw.displayName;const tT=()=>{var kt,dt,Nt;const{user:t,logout:e,login:n}=Tr(),s=(kt=t==null?void 0:t.businessData)==null?void 0:kt.id,i=t==null?void 0:t.id,{viewsCount:l}=iw({businessId:s}),{followersCount:u}=ow(s,i);lw(s,i);const[d,f]=h.useState([]),[p,g]=h.useState(((dt=t==null?void 0:t.businessData)==null?void 0:dt.is_public)??!0),[x,b]=h.useState(!1),y=d.reduce((Ne,nt)=>Ne+(nt.likes_count||0),0),N=d.reduce((Ne,nt)=>Ne+(nt.comments_count||0),0),k=d.length>0?Math.round(y/d.length):0,j=Jn(),[M,_]=h.useState(!1),[L,S]=h.useState(!1),[P,R]=h.useState("analytics"),[O,F]=h.useState({}),[W,A]=h.useState(!1),[Q,J]=h.useState(!1),[re,ee]=h.useState(!1),[T,q]=h.useState(!1),[K,U]=h.useState(""),[D,V]=h.useState(""),[E,z]=h.useState(!1),[X,se]=h.useState(""),[H,me]=h.useState(!1),[te,le]=h.useState(""),[xe,ce]=h.useState(""),[oe,Ee]=h.useState(""),[Ue,Ye]=h.useState("");h.useEffect(()=>{var nt;if(!t||t.type!=="business"||!((nt=t.businessData)!=null&&nt.id))return;(async()=>{const{data:we,error:Re}=await ve.from("posts").select("*, likes(count), comments(count)").eq("business_id",t.businessData.id).order("created_at",{ascending:!1});if(!Re&&we){const tt=we.map(Be=>{var at,ae,he,Oe;return{...Be,likes_count:((ae=(at=Be.likes)==null?void 0:at[0])==null?void 0:ae.count)||0,comments_count:((Oe=(he=Be.comments)==null?void 0:he[0])==null?void 0:Oe.count)||0}});f(tt)}})()},[t]);const De=async()=>{var nt;if(!oe.trim()||!((nt=t==null?void 0:t.businessData)!=null&&nt.id))return;const{error:Ne}=await ve.from("posts").insert([{business_id:t.businessData.id,content:oe,image:Ue||null}]);if(Ne)Ce.error("Error al crear la publicacin");else{Ee(""),Ye(""),_(!1),Ce.success("Publicacin creada exitosamente");const{data:we,error:Re}=await ve.from("posts").select("*, likes(count), comments(count)").eq("business_id",t.businessData.id).order("created_at",{ascending:!1});if(!Re&&we){const tt=we.map(Be=>{var at,ae,he,Oe;return{...Be,likes_count:((ae=(at=Be.likes)==null?void 0:at[0])==null?void 0:ae.count)||0,comments_count:((Oe=(he=Be.comments)==null?void 0:he[0])==null?void 0:Oe.count)||0}});f(tt)}}},bt=async Ne=>{if(window.confirm("Ests seguro de que quieres eliminar esta publicacin?")){const{error:nt}=await ve.from("posts").delete().eq("id",Ne);if(nt)Ce.error("Error al eliminar la publicacin");else{Ce.success("Publicacin eliminada");const{data:we,error:Re}=await ve.from("posts").select("*, likes(count), comments(count)").eq("business_id",t.businessData.id).order("created_at",{ascending:!1});if(!Re&&we){const tt=we.map(Be=>{var at,ae,he,Oe;return{...Be,likes_count:((ae=(at=Be.likes)==null?void 0:at[0])==null?void 0:ae.count)||0,comments_count:((Oe=(he=Be.comments)==null?void 0:he[0])==null?void 0:Oe.count)||0}});f(tt)}}}},mt=async()=>{b(!0);const{error:Ne}=await ve.from("businesses").update({is_public:!p}).eq("id",t.businessData.id);Ne?Ce.error("Error al actualizar visibilidad"):(g(!p),t&&t.businessData&&(t.businessData.is_public=!p,localStorage.setItem("currentUser",JSON.stringify(t))),Ce.success(p?"Tu perfil ahora est oculto del directorio.":"Tu perfil ahora es pblico y visible en el directorio.")),b(!1)};return h.useEffect(()=>{var Ne;((Ne=t==null?void 0:t.businessData)==null?void 0:Ne.is_public)!==void 0&&g(t.businessData.is_public)},[(Nt=t==null?void 0:t.businessData)==null?void 0:Nt.is_public]),h.useEffect(()=>{(async()=>{var nt;if((nt=t==null?void 0:t.businessData)!=null&&nt.id){const tt=(await(await fetch("http://localhost:3001/api/businesses")).json()).find(Be=>String(Be.id)===String(t.businessData.id));tt&&(t.businessData.name=tt.name,t.businessData.category=tt.category,t.businessData.location=tt.location,t.businessData.island=tt.island,t.businessData.logo=tt.logo,t.businessData.coverImage=tt.coverImage,t.businessData.contact=tt.contact)}})()},[]),!t||t.type!=="business"||!t.businessData?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(kn,{}),a.jsxs("div",{className:"text-center py-16",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Acceso no autorizado"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Esta pgina es solo para negocios registrados"})]})]}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(kn,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 bg-white rounded-lg shadow-md p-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4 md:mb-0",children:[a.jsx("img",{src:t.businessData.logo||"https://via.placeholder.com/80x80",alt:"Logo",className:"w-20 h-20 rounded-full object-cover border-4 border-blue-200"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.businessData.name}),a.jsx("p",{className:"text-gray-600",children:t.businessData.category}),a.jsxs("p",{className:"text-sm text-gray-500",children:[t.businessData.location,", ",t.businessData.island]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ie,{variant:"outline",onClick:()=>{var Ne;return j(`/negocio/${(Ne=t.businessData)==null?void 0:Ne.id}`)},children:a.jsx(hs,{className:"h-4 w-4 mr-2"})}),a.jsx(ie,{variant:"outline",onClick:()=>{var Ne;return j(`/negocio/${(Ne=t.businessData)==null?void 0:Ne.id}/configuracion`)},children:a.jsx(pE,{className:"h-4 w-4 mr-2"})}),a.jsx(ie,{variant:"outline",onClick:()=>A(!0),children:a.jsx(ef,{className:"h-4 w-4 mr-2"})})]})]}),a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Perfil pblico"}),a.jsx(Sw,{checked:p,onCheckedChange:mt,disabled:x}),a.jsx("span",{className:"text-xs text-gray-500",children:p?"Visible en el directorio":"Oculto del directorio"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(hs,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Visualizaciones"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(_r,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Seguidores"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yo,{className:"h-8 w-8 text-red-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Me Gusta"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(sc,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Comentarios"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-8",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"flex space-x-8 px-6",children:a.jsx("button",{onClick:()=>R("analytics"),className:`py-4 px-1 border-b-2 font-medium text-sm ${P==="analytics"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Estadsticas"})})}),a.jsxs("div",{className:"p-6",children:[P==="posts"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsx("img",{src:t.businessData.logo||"https://via.placeholder.com/50x50",alt:"Logo",className:"w-12 h-12 rounded-full object-cover"}),a.jsx("button",{onClick:()=>_(!0),className:"flex-1 bg-white rounded-full px-4 py-2 text-left text-gray-500 hover:bg-gray-100 border",children:"Qu quieres compartir con tus clientes?"})]}),M&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("textarea",{value:oe,onChange:Ne=>Ee(Ne.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 resize-none",rows:3,placeholder:"Escribe tu publicacin..."}),a.jsx("div",{children:a.jsx(Kn,{onImageUploaded:Ne=>Ye(Ne),onImageRemoved:()=>Ye(""),currentImage:Ue,label:"Agregar imagen a la publicacin",maxSize:5})}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(ie,{variant:"outline",onClick:()=>{_(!1),Ee(""),Ye("")},children:"Cancelar"}),a.jsxs(ie,{onClick:De,disabled:!oe.trim(),children:[a.jsx(us,{className:"h-4 w-4 mr-2"}),"Publicar"]})]})]})]}),d.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(us,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tienes publicaciones"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Crea tu primera publicacin para conectar con tus clientes"}),a.jsx(ie,{onClick:()=>_(!0),children:"Crear Primera Publicacin"})]}):a.jsx("div",{className:"space-y-6",children:d.map(Ne=>a.jsxs("div",{className:"bg-white border rounded-lg",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:t.businessData.logo||"https://via.placeholder.com/50x50",alt:"Profile",className:"w-10 h-10 rounded-full object-cover"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:t.businessData.name}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-2",children:[a.jsx(kx,{className:"h-3 w-3"}),a.jsx("span",{children:new Date(Ne.created_at).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>bt(Ne.id),className:"text-gray-400 hover:text-red-600",children:a.jsx(ac,{className:"h-4 w-4"})})]})}),a.jsxs("div",{className:"p-4",children:[a.jsx("p",{className:"text-gray-800 mb-4",children:Ne.content}),Ne.image&&a.jsx("img",{src:Ne.image,alt:"Post content",className:"w-full h-64 object-cover rounded-lg mb-4"})]}),a.jsx("div",{className:"px-4 py-3 border-t border-gray-100",children:a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex space-x-6",children:[a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx(Yo,{className:"h-5 w-5 mr-2"}),a.jsx("span",{children:Ne.likes_count||0})]}),a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx(sc,{className:"h-5 w-5 mr-2"}),a.jsx("span",{children:Ne.comments_count||0})]})]})})})]},Ne.id))})]}),P==="analytics"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Estadsticas del Negocio"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-4",children:"Rendimiento de Publicaciones"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-700",children:"Total de publicaciones:"}),a.jsx("span",{className:"font-semibold text-blue-900",children:d.length})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-700",children:"Me gusta totales:"}),a.jsx("span",{className:"font-semibold text-blue-900",children:y})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-700",children:"Comentarios totales:"}),a.jsx("span",{className:"font-semibold text-blue-900",children:N})]})]})]}),a.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[a.jsx("h4",{className:"font-semibold text-green-900 mb-4",children:"Alcance y Visibilidad"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-green-700",children:"Visualizaciones del perfil:"}),a.jsx("span",{className:"font-semibold text-green-900",children:l})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-green-700",children:"Seguidores:"}),a.jsx("span",{className:"font-semibold text-green-900",children:u})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-green-700",children:"Promedio likes/post:"}),a.jsx("span",{className:"font-semibold text-green-900",children:k})]})]})]})]}),a.jsx("div",{className:"block md:hidden mt-6",children:a.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-red-600 text-white font-semibold shadow hover:bg-red-700 transition",onClick:()=>A(!0),children:[a.jsx(ef,{className:"w-5 h-5"}),"Cerrar sesin"]})})]})]})]}),a.jsx(Er,{open:W,onOpenChange:A,children:a.jsxs(ls,{children:[a.jsxs(Us,{children:[a.jsx(Bs,{children:"Cerrar sesin?"}),a.jsx(qo,{children:"Ests seguro de que deseas cerrar tu sesin?"})]}),a.jsxs(Ho,{children:[a.jsx(ie,{variant:"outline",onClick:()=>A(!1),children:"Cancelar"}),a.jsx(ie,{variant:"destructive",onClick:()=>{A(!1),q(!0),setTimeout(()=>{e(),j("/"),q(!1)},1e3)},children:"S, cerrar sesin"})]})]})}),a.jsx(Er,{open:Q,onOpenChange:J,children:a.jsxs(ls,{children:[a.jsxs(Us,{children:[a.jsx(Bs,{children:"Eliminar cuenta?"}),a.jsx(qo,{children:"Esta accin eliminar tu cuenta y todos los datos asociados (negocio, publicaciones, likes, comentarios, seguidores, etc). Ests seguro?"})]}),a.jsxs(Ho,{children:[a.jsx(ie,{variant:"outline",onClick:()=>J(!1),children:"Cancelar"}),a.jsx(ie,{variant:"destructive",onClick:()=>{J(!1),le(""),ce(""),me(!0)},disabled:E,children:"S, eliminar cuenta"})]})]})}),a.jsx(Er,{open:H,onOpenChange:me,children:a.jsxs(ls,{children:[a.jsxs(Us,{children:[a.jsx(Bs,{children:"Confirma con tu contrasea"}),a.jsx(qo,{children:"Ingresa tu contrasea para confirmar la eliminacin de tu cuenta."})]}),a.jsx("input",{type:"password",className:"w-full border rounded px-3 py-2 mb-2",placeholder:"Contrasea",value:te,onChange:Ne=>le(Ne.target.value)}),xe&&a.jsx("div",{className:"text-red-500 text-sm mb-2",children:xe}),a.jsxs(Ho,{children:[a.jsx(ie,{variant:"outline",onClick:()=>me(!1),children:"Cancelar"}),a.jsx(ie,{variant:"destructive",onClick:async()=>{if(ce(""),!(await n(t.email,te)).success){ce("Contrasea incorrecta");return}me(!1),q(!0),setTimeout(async()=>{await ve.from("likes").delete().eq("user_id",i),await ve.from("likes").delete().eq("business_id",s),await ve.from("comments").delete().eq("user_id",i),await ve.from("comments").delete().eq("business_id",s),await ve.from("followers").delete().eq("user_id",i),await ve.from("followers").delete().eq("business_id",s),await ve.from("views").delete().eq("user_id",i),await ve.from("views").delete().eq("business_id",s),await ve.from("posts").delete().eq("business_id",s),await ve.from("businesses").delete().eq("id",s),await ve.from("users").delete().eq("id",i),q(!1),Ce.success("Cuenta eliminada correctamente"),e(),j("/")},5e3)},children:"Confirmar y eliminar"})]})]})}),a.jsx(Er,{open:T,children:a.jsxs(ls,{children:[a.jsx(Us,{children:a.jsx(Bs,{children:"Eliminando cuenta..."})}),a.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[a.jsxs("svg",{className:"animate-spin h-10 w-10 text-red-600 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),a.jsx("span",{className:"text-gray-700 font-semibold",children:"Eliminando todos tus datos..."})]})]})}),a.jsxs("div",{className:"mt-12 text-center border-t border-gray-100 pt-6 text-sm",children:[a.jsxs("div",{className:"text-center mt-12",children:[a.jsx("a",{href:"https://visonixro.com",target:"_blank",rel:"noopener noreferrer",className:"inline-block mb-2",children:a.jsx("img",{src:"https://i.imgur.com/6Ua5WQl.png",alt:"VISONIXRO Logo",className:"h-10 w-10 mx-auto object-contain"})}),a.jsx("a",{href:"https://visonixro.com",target:"_blank",rel:"noopener noreferrer",className:"block text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 font-bold text-lg hover:underline transition-all duration-200",children:"VISONIXRO"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Desarrollo y soluciones digitales"}),a.jsxs("div",{className:"flex justify-center items-center space-x-4 mt-2 text-xs text-gray-400",children:[a.jsx("span",{children:"Miguel ngel Romero"}),a.jsx("span",{children:""}),a.jsx("span",{children:"info@visonixro.com"})]})]})]})]})};async function fs(t,e){return await ve.auth.signInWithPassword({email:t,password:e})}async function ai(t){return await ve.auth.updateUser({password:t})}const nT=({className:t=""})=>{const e=h.useRef(null),n=h.useRef(null);return h.useEffect(()=>{const s=i=>{const l=document.getElementById("robot-mascot");if(!l)return;const u=l.getBoundingClientRect(),d=u.left+u.width/2,f=u.top+u.height/2,p=i.clientX-d,g=i.clientY-f,x=Math.atan2(g,p),b=7,y=Math.cos(x)*b,N=Math.sin(x)*b;e.current&&(e.current.setAttribute("cx",String(38+y)),e.current.setAttribute("cy",String(52+N))),n.current&&(n.current.setAttribute("cx",String(62+y)),n.current.setAttribute("cy",String(52+N)))};return window.addEventListener("mousemove",s),()=>window.removeEventListener("mousemove",s)},[]),a.jsxs("svg",{id:"robot-mascot",className:t,width:120,height:120,viewBox:"0 0 120 120",fill:"none",style:{display:"block"},children:[a.jsx("rect",{x:"20",y:"30",width:"80",height:"60",rx:"20",fill:"#f3f4f6",stroke:"#d1d5db",strokeWidth:"3"}),a.jsx("rect",{x:"40",y:"15",width:"40",height:"20",rx:"8",fill:"#e5e7eb",stroke:"#d1d5db",strokeWidth:"2"}),a.jsx("circle",{cx:"38",cy:"52",r:"12",fill:"#fff",stroke:"#9ca3af",strokeWidth:"2"}),a.jsx("circle",{cx:"62",cy:"52",r:"12",fill:"#fff",stroke:"#9ca3af",strokeWidth:"2"}),a.jsx("circle",{ref:e,cx:"38",cy:"52",r:"5",fill:"#1e293b"}),a.jsx("circle",{ref:n,cx:"62",cy:"52",r:"5",fill:"#1e293b"}),a.jsx("rect",{x:"50",y:"70",width:"20",height:"8",rx:"4",fill:"#d1d5db"}),a.jsx("rect",{x:"30",y:"90",width:"10",height:"10",rx:"3",fill:"#d1d5db"}),a.jsx("rect",{x:"80",y:"90",width:"10",height:"10",rx:"3",fill:"#d1d5db"})]})},Ao=["Lunes","Martes","Mircoles","Jueves","Viernes","Sbado","Domingo"],rT=[{key:"name",label:"Nombre del Negocio"},{key:"location",label:"Ubicacin"},{key:"island",label:"Isla"},{key:"contact",label:"Contacto"},{key:"category",label:"Categora"},{key:"priceRange",label:"Rango de Precios"},{key:"images",label:"Imgenes"},{key:"description",label:"Descripcin"},{key:"schedule",label:"Horario"},{key:"amenities",label:"Amenidades"},{key:"security",label:"Seguridad"},{key:"deactivate",label:"Desactivar tu cuenta"}];function sT(){var kt,dt,Nt,Ne,nt,we,Re,tt,Be,at;const{id:t}=I0(),{user:e,updateProfile:n,logout:s}=Tr(),i=Jn(),[l,u]=h.useState(null),[d,f]=h.useState(!0),[p,g]=h.useState(!1),[x,b]=h.useState(!1),[y,N]=h.useState(""),[k,j]=h.useState(!1),[M,_]=h.useState(""),[L,S]=h.useState(""),[P,R]=h.useState(((kt=l==null?void 0:l.contact)==null?void 0:kt.email)||""),[O,F]=h.useState(""),[W,A]=h.useState(""),[Q,J]=h.useState(""),[re,ee]=h.useState(""),[T,q]=h.useState(!1),[K,U]=h.useState(""),[D,V]=h.useState("name"),[E,z]=h.useState(!1),[X,se]=h.useState(!1),[H,me]=h.useState(""),[te,le]=h.useState(""),[xe,ce]=h.useState("");h.useEffect(()=>{(async()=>{f(!0);const{data:he,error:Oe}=await ve.from("businesses").select("*").eq("id",t).single();if(!he){Ce.error("No se encontr el negocio"),f(!1);return}if(!he.schedule||he.schedule.length!==Ao.length?he.schedule=Ao.map(rt=>{var Ut;return((Ut=he.schedule)==null?void 0:Ut.find(Bt=>Bt.day===rt))||{day:rt,open:"",close:""}}):he.schedule=Ao.map(rt=>he.schedule.find(Lt=>Lt.day===rt)||{day:rt,open:"",close:""}),he.contact||(he.contact={phone:"",email:"",website:""}),he.contact.phone&&(!he.contact.countryCode||!he.contact.phoneNumber)){const rt=he.contact.phone.match(/^(\+\d{1,4})?(\d{6,})$/);rt?(he.contact.countryCode=rt[1]||"",he.contact.phoneNumber=rt[2]||""):(he.contact.countryCode="",he.contact.phoneNumber=he.contact.phone)}he.facebook===void 0&&(he.facebook=""),he.instagram===void 0&&(he.instagram=""),he.twitter===void 0&&(he.twitter=""),he.tiktok===void 0&&(he.tiktok=""),u(he),f(!1)})()},[t]);const oe=(ae,he)=>{u(ae==="phone"?Oe=>({...Oe,contact:{...Oe.contact,phone:he}}):Oe=>({...Oe,[ae]:he}))},Ee=(ae,he,Oe)=>{u(rt=>{const Lt=[...rt.schedule||[]];return Lt[ae][he]=Oe,{...rt,schedule:Lt}})},Ue=(ae,he)=>{if(!he)return;const Oe=new FileReader;Oe.onload=rt=>{var Lt;oe(ae,(Lt=rt.target)==null?void 0:Lt.result)},Oe.readAsDataURL(he)},Ye=async()=>{var he,Oe,rt,Lt,Ut,Bt;if(J(""),!K){J("Debes ingresar tu contrasea actual para guardar cambios."),Ce.error("Debes ingresar tu contrasea actual para guardar cambios.");return}g(!0);const{error:ae}=await fs(e.email,K);if(ae){J("Contrasea actual incorrecta."),Ce.error("Contrasea actual incorrecta."),g(!1);return}try{const{open247:Sn,...en}=l,hn={...en,contact:{...l.contact,phone:`${((he=l.contact)==null?void 0:he.countryCode)||""}${((Oe=l.contact)==null?void 0:Oe.phoneNumber)||""}`,countryCode:((rt=l.contact)==null?void 0:rt.countryCode)||"",phoneNumber:((Lt=l.contact)==null?void 0:Lt.phoneNumber)||"",email:((Ut=l.contact)==null?void 0:Ut.email)||"",website:((Bt=l.contact)==null?void 0:Bt.website)||""},facebook:l.facebook||null,instagram:l.instagram||null,twitter:l.twitter||null,tiktok:l.tiktok||null},{error:mn}=await ve.from("businesses").update(hn).eq("id",t);mn?(Ce.error(mn.message||"Error al actualizar"),J(mn.message||"Error al actualizar"),console.error("Error al actualizar negocio:",mn)):(Ce.success("Datos actualizados"),e&&e.type==="business"&&await n(hn),b(!0),q(!1),setTimeout(()=>{i("/dashboard")},1e3))}catch(Sn){Ce.error("Error al actualizar"),J("Error inesperado al actualizar"),console.error("Error inesperado al actualizar negocio:",Sn)}finally{g(!1)}},De=async ae=>{if(ae.preventDefault(),ee(""),!L){ee("Debes ingresar tu contrasea actual.");return}if(O&&O.length<6){ee("La nueva contrasea debe tener al menos 6 caracteres.");return}if(O&&O!==W){ee("Las contraseas nuevas no coinciden.");return}g(!0);const{error:he}=await fs(e.email,L);if(he){ee("Contrasea actual incorrecta."),g(!1);return}if(P&&P!==e.email){const{error:Oe}=await ve.auth.updateUser({email:P});if(Oe){ee(Oe.message||"No se pudo actualizar el email."),g(!1);return}await ve.from("users").update({email:P}).eq("id",e.id),await ve.from("businesses").update({"contact.email":P}).eq("id",t)}if(O){const{error:Oe}=await ai(O);if(Oe){ee(Oe.message||"No se pudo actualizar la contrasea."),g(!1);return}}b(!0),setTimeout(()=>{b(!1),j(!1),S(""),F(""),A(""),ee(""),i("/dashboard")},1e3),g(!1)},bt=async()=>{if(ce(""),!H||!te){ce("Debes ingresar la contrasea dos veces.");return}if(H!==te){ce("Las contraseas no coinciden.");return}const{error:ae}=await fs(e.email,H);if(ae){ce("Contrasea incorrecta.");return}const he=Math.random().toString(36).slice(-12)+Date.now();await ve.from("businesses").update({is_public:!1}).eq("id",t),await ai(he),Ce.success("Cuenta desactivada correctamente. Si deseas volver a acceder, debers restablecer tu contrasea."),s(),setTimeout(()=>{window.location.href="/"},2500)};if(d||!l)return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:a.jsx("div",{className:"animate-pulse text-2xl font-semibold text-gray-600",children:"Cargando..."})});if(!e||String((dt=e.businessData)==null?void 0:dt.id)!==String(t))return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:a.jsx("div",{className:"text-red-600 text-xl font-semibold",children:"No autorizado"})});if(x)return a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-gray-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-600 mb-6"}),a.jsx("h2",{className:"text-4xl font-bold text-blue-700 mb-2 animate-pulse",children:"RoaBusiness"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"Guardando cambios..."})]});const mt=typeof window<"u"&&window.innerWidth<768;return a.jsxs("div",{className:"flex min-h-screen bg-gradient-to-br from-blue-50 to-gray-100",children:[a.jsxs("aside",{className:`bg-white shadow-lg w-72 p-6 fixed md:static top-0 left-0 h-full flex flex-col transition-transform duration-300 ease-in-out z-30 md:translate-x-0 ${E?"translate-x-0":"-translate-x-full"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx(nT,{className:"w-12 h-12 hidden md:block"}),a.jsx("button",{className:"md:hidden text-gray-600 hover:text-blue-600",onClick:()=>z(!1),children:a.jsx(Ul,{className:"h-6 w-6"})})]}),a.jsx("nav",{className:"space-y-2",children:rT.map(ae=>a.jsx("button",{className:`w-full text-left px-4 py-3 rounded-lg transition-all duration-200 ${D===ae.key?"bg-blue-600 text-white shadow-md":"text-gray-700 hover:bg-blue-50 hover:text-blue-600"} font-medium`,onClick:()=>{V(ae.key),z(!1)},children:ae.label},ae.key))})]}),mt?a.jsx("button",{className:"fixed bottom-20 right-4 z-50 md:hidden bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 transition-colors duration-200",onClick:()=>z(!0),"aria-label":"Abrir men",children:a.jsx(Ul,{className:"h-7 w-7"})}):a.jsx("button",{className:"fixed top-4 left-4 z-40 md:hidden bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700 transition-colors duration-200",onClick:()=>z(!0),"aria-label":"Abrir men",children:a.jsx(Ul,{className:"h-6 w-6"})}),a.jsxs("main",{className:"flex-1 p-6 md:p-10 ml-0 md:ml-72 max-w-4xl mx-auto",children:[D==="island"&&a.jsxs(h.Fragment,{children:[a.jsx("h2",{className:"text-3xl font-bold mb-6 text-blue-800",children:"Isla"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Selecciona la isla donde se ubica tu negocio"}),a.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:l.island||"",onChange:ae=>oe("island",ae.target.value),required:!0,children:[a.jsx("option",{value:"",children:"Selecciona una isla"}),a.jsx("option",{value:"Roatn",children:"Roatn"}),a.jsx("option",{value:"Utila",children:"Utila"}),a.jsx("option",{value:"Guanaja",children:"Guanaja"}),a.jsx("option",{value:"Jose Santos Guardiola",children:"Jose Santos Guardiola"})]}),a.jsx(ie,{onClick:()=>q(!0),disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors duration-200",children:"Guardar"})]})]}),D==="name"&&a.jsxs(h.Fragment,{children:[a.jsx("h2",{className:"text-3xl font-bold mb-6 text-blue-800",children:"Nombre del Negocio"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre"}),a.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:l.name,onChange:ae=>oe("name",ae.target.value),placeholder:"Nombre del negocio"}),a.jsx(ie,{onClick:()=>q(!0),disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors duration-200",children:"Guardar"})]})]}),D==="location"&&a.jsxs(h.Fragment,{children:[a.jsx("h2",{className:"text-3xl font-bold mb-6 text-blue-800",children:"Ubicacin"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ubicacin"}),a.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:l.location,onChange:ae=>oe("location",ae.target.value),placeholder:"Direccin del negocio"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Latitud"}),a.jsx("input",{type:"number",step:"any",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:((Nt=l.coordinates)==null?void 0:Nt.lat)||"",onChange:ae=>oe("coordinates",{...l.coordinates,lat:parseFloat(ae.target.value)}),placeholder:"Latitud"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Longitud"}),a.jsx("input",{type:"number",step:"any",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:((Ne=l.coordinates)==null?void 0:Ne.lng)||"",onChange:ae=>oe("coordinates",{...l.coordinates,lng:parseFloat(ae.target.value)}),placeholder:"Longitud"})]})]}),l.coordinates&&a.jsx("div",{className:"w-full h-64 rounded-lg overflow-hidden border border-gray-300",children:a.jsx(jf,{mapContainerStyle:{width:"100%",height:"100%"},center:{lat:l.coordinates.lat,lng:l.coordinates.lng},zoom:16,options:{disableDefaultUI:!0,draggable:!0,scrollwheel:!0,mapTypeId:"satellite"},onClick:ae=>{ae.latLng&&oe("coordinates",{lat:ae.latLng.lat(),lng:ae.latLng.lng()})},children:l.coordinates&&a.jsx(mc,{position:{lat:l.coordinates.lat,lng:l.coordinates.lng},icon:{url:"https://maps.google.com/mapfiles/ms/icons/red-dot.png",scaledSize:window.google&&window.google.maps?new window.google.maps.Size(40,40):void 0},draggable:!0,onDragEnd:ae=>{oe("coordinates",{lat:ae.latLng.lat(),lng:ae.latLng.lng()})}})})}),a.jsx(ie,{onClick:()=>q(!0),disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors duration-200",children:"Guardar"})]})]}),D==="contact"&&a.jsxs(h.Fragment,{children:[a.jsx("h2",{className:"text-3xl font-bold mb-6 text-blue-800",children:"Contacto"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(jn,{className:"h-4 w-4 text-blue-600"})," Telfono"]}),a.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:((nt=l.contact)==null?void 0:nt.phone)||"",onChange:ae=>oe("phone",ae.target.value),placeholder:"Telfono"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(fn,{className:"h-4 w-4 text-blue-600"})," Email"]}),a.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:((we=l.contact)==null?void 0:we.email)||"",onChange:ae=>u(he=>({...he,contact:{...he.contact,email:ae.target.value}})),placeholder:"Email"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(cr,{className:"h-4 w-4 text-blue-600"})," Sitio web"]}),a.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:((Re=l.contact)==null?void 0:Re.website)||"",onChange:ae=>u(he=>({...he,contact:{...he.contact,website:ae.target.value}})),placeholder:"Sitio web"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(ci,{className:"h-4 w-4 text-blue-600"})," Facebook"]}),a.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:l.facebook||"",onChange:ae=>u(he=>({...he,facebook:ae.target.value})),placeholder:"URL de Facebook"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(ui,{className:"h-4 w-4 text-pink-500"})," Instagram"]}),a.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:l.instagram||"",onChange:ae=>u(he=>({...he,instagram:ae.target.value})),placeholder:"URL de Instagram"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(di,{className:"h-4 w-4 text-blue-400"})," X (Twitter)"]}),a.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:l.twitter||"",onChange:ae=>u(he=>({...he,twitter:ae.target.value})),placeholder:"URL de X"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(hi,{className:"h-4 w-4 text-black"})," TikTok"]}),a.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:l.tiktok||"",onChange:ae=>u(he=>({...he,tiktok:ae.target.value})),placeholder:"URL de TikTok"})]}),a.jsx(ie,{onClick:()=>q(!0),disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors duration-200",children:"Guardar"})]})]}),D==="category"&&a.jsxs(h.Fragment,{children:[a.jsx("h2",{className:"text-3xl font-bold mb-6 text-blue-800",children:"Categora"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{list:"categories-list",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:l.category,onChange:ae=>oe("category",ae.target.value),placeholder:"Escribe o selecciona una categora",required:!0}),a.jsx("datalist",{id:"categories-list",children:th.map(ae=>a.jsx("option",{value:ae},ae))}),a.jsx(ie,{onClick:()=>q(!0),disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors duration-200",children:"Guardar"})]})]}),D==="priceRange"&&a.jsxs(h.Fragment,{children:[a.jsx("h2",{className:"text-3xl font-bold mb-6 text-blue-800",children:"Rango de Precios"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:l.priceRange,onChange:ae=>oe("priceRange",ae.target.value),children:[a.jsx("option",{value:"",children:"Selecciona un rango"}),a.jsx("option",{value:"$",children:"$ - Econmico"}),a.jsx("option",{value:"$$",children:"$$ - Moderado"}),a.jsx("option",{value:"$$$",children:"$$$ - Caro"}),a.jsx("option",{value:"$$$$",children:"$$$$ - Muy Caro"})]}),a.jsx(ie,{onClick:()=>q(!0),disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors duration-200",children:"Guardar"})]})]}),D==="images"&&a.jsxs(h.Fragment,{children:[a.jsx("h2",{className:"text-3xl font-bold mb-6 text-blue-800",children:"Imgenes"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:l.logo||"https://via.placeholder.com/80x80",alt:"Logo preview",className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200 shadow-sm"}),a.jsx("input",{type:"file",accept:"image/*",onChange:ae=>{var he;return Ue("logo",((he=ae.target.files)==null?void 0:he[0])||null)},className:"block text-sm text-gray-600"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagen Principal"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:l.coverImage||"https://via.placeholder.com/200x80",alt:"Cover preview",className:"w-40 h-20 object-cover rounded-lg border-2 border-gray-200 shadow-sm"}),a.jsx("input",{type:"file",accept:"image/*",onChange:ae=>{var he;return Ue("coverImage",((he=ae.target.files)==null?void 0:he[0])||null)},className:"block text-sm text-gray-600"})]})]}),a.jsx(ie,{onClick:()=>q(!0),disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors duration-200",children:"Guardar"})]})]}),D==="description"&&a.jsxs(h.Fragment,{children:[a.jsx("h2",{className:"text-3xl font-bold mb-6 text-blue-800",children:"Descripcin"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:l.description,onChange:ae=>oe("description",ae.target.value),placeholder:"Descripcin del negocio",rows:6}),a.jsx(ie,{onClick:()=>q(!0),disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors duration-200",children:"Guardar"})]})]}),D==="schedule"&&a.jsxs(h.Fragment,{children:[a.jsx("h2",{className:"text-3xl font-bold mb-6 text-blue-800",children:"Horario"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("input",{id:"open247",type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:l.open247||!1,onChange:ae=>{u(he=>({...he,open247:ae.target.checked,schedule:ae.target.checked?Ao.map(Oe=>({day:Oe,open:"00:00",close:"00:00"})):Ao.map(Oe=>({day:Oe,open:"07:00",close:"08:00"}))}))}}),a.jsx("label",{htmlFor:"open247",className:"text-blue-700 font-medium select-none cursor-pointer",children:"Abierto 24/7 todos los das"})]}),l.open247?(tt=l.schedule)==null?void 0:tt.map((ae,he)=>a.jsxs("div",{className:"flex items-center gap-3 opacity-70",children:[a.jsx("span",{className:"w-24 font-medium text-gray-700",children:ae.day}),a.jsx("input",{type:"time",className:"p-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-500 cursor-not-allowed",value:ae.open,disabled:!0}),a.jsx("span",{className:"text-gray-600",children:"a"}),a.jsx("input",{type:"time",className:"p-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-500 cursor-not-allowed",value:ae.close,disabled:!0}),a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(12:00 am a 12:00 am)"})]},ae.day)):(Be=l.schedule)==null?void 0:Be.map((ae,he)=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"w-24 font-medium text-gray-700",children:ae.day}),a.jsx("input",{type:"time",className:"p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:ae.open,onChange:Oe=>Ee(he,"open",Oe.target.value)}),a.jsx("span",{className:"text-gray-600",children:"a"}),a.jsx("input",{type:"time",className:"p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:ae.close,onChange:Oe=>Ee(he,"close",Oe.target.value)})]},ae.day)),a.jsx(ie,{onClick:()=>q(!0),disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors duration-200",children:"Guardar"})]})]}),D==="amenities"&&a.jsxs(h.Fragment,{children:[a.jsx("h2",{className:"text-3xl font-bold mb-6 text-blue-800",children:"Amenidades"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex flex-wrap gap-2",children:(at=l.amenities)==null?void 0:at.map(ae=>a.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-medium",children:ae},ae))}),a.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:y,onChange:ae=>N(ae.target.value),placeholder:"Agregar amenidad",onKeyDown:ae=>{ae.key==="Enter"&&(ae.preventDefault(),y.trim()&&(u(he=>({...he,amenities:[...he.amenities||[],y.trim()]})),N("")))}}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ie,{onClick:()=>{y.trim()&&(u(ae=>({...ae,amenities:[...ae.amenities||[],y.trim()]})),N(""))},disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors duration-200",children:"Agregar"}),a.jsx(ie,{onClick:()=>q(!0),disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors duration-200",children:"Guardar"})]})]})]}),D==="security"&&a.jsxs(h.Fragment,{children:[a.jsx("h2",{className:"text-3xl font-bold mb-6 text-blue-800",children:"Seguridad"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(ie,{onClick:()=>j(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors duration-200",children:"Cambiar Email o Contrasea"}),k&&a.jsxs("form",{onSubmit:De,className:"space-y-4",children:[a.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",type:"email",value:P,onChange:ae=>R(ae.target.value),placeholder:"Nuevo email"}),a.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",type:"password",value:L,onChange:ae=>S(ae.target.value),placeholder:"Contrasea actual"}),a.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",type:"password",value:O,onChange:ae=>F(ae.target.value),placeholder:"Nueva contrasea"}),a.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",type:"password",value:W,onChange:ae=>A(ae.target.value),placeholder:"Confirmar nueva contrasea"}),re&&a.jsx("div",{className:"text-red-500 text-sm",children:re}),a.jsx(ie,{type:"submit",disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors duration-200",children:"Guardar Cambios"})]})]})]}),D==="deactivate"&&a.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-red-600",children:"Desactivar tu cuenta"}),a.jsx("p",{className:"mb-4 text-gray-700",children:"Esta accin desactivar tu perfil pblico y cambiar tu contrasea para que no puedas acceder hasta restablecerla. Para confirmar, ingresa tu contrasea dos veces."}),a.jsx("input",{type:"password",className:"w-full mb-3 p-2 border rounded",placeholder:"Contrasea",value:H,onChange:ae=>me(ae.target.value)}),a.jsx("input",{type:"password",className:"w-full mb-3 p-2 border rounded",placeholder:"Repite la contrasea",value:te,onChange:ae=>le(ae.target.value)}),xe&&a.jsx("div",{className:"text-red-600 mb-2",children:xe}),a.jsx(ie,{className:"bg-red-600 hover:bg-red-700 text-white w-full",onClick:bt,children:"Desactivar la cuenta"})]})]}),a.jsx(Er,{open:T,onOpenChange:q,children:a.jsxs(ls,{className:"max-w-md rounded-xl shadow-xl bg-white border border-blue-200 p-6",children:[a.jsxs(Us,{children:[a.jsx(Bs,{className:"text-blue-700 text-xl font-bold",children:"Confirmar cambios"}),a.jsx(qo,{className:"text-gray-600",children:"Ingresa tu contrasea actual para guardar los cambios."})]}),a.jsx("input",{type:"password",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",placeholder:"Contrasea actual",value:K,onChange:ae=>U(ae.target.value),autoFocus:!0}),Q&&a.jsx("div",{className:"text-red-500 text-sm mt-2",children:Q}),a.jsxs(Ho,{className:"mt-4",children:[a.jsx(ie,{variant:"outline",onClick:()=>q(!1),className:"border-gray-300 text-gray-700 hover:bg-gray-100",children:"Cancelar"}),a.jsx(ie,{onClick:Ye,disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors duration-200",children:"Confirmar y Guardar"})]})]})})]})}const aT=()=>{Jn();const[t,e]=h.useState([]),[n,s]=h.useState(!0),[i,l]=h.useState(!1),[u,d]=h.useState(null),[f,p]=h.useState({name:"",category:"",island:"",location:"",description:"",email:"",phone:"",website:"",facebook:"",instagram:"",twitter:"",tiktok:"",whatsapp:"",priceRange:"",amenities:[],coverImage:"",logo:"",is_public:!0}),[g,x]=h.useState(""),[b,y]=h.useState(!1),[N,k]=h.useState(""),[j,M]=h.useState(""),[_,L]=h.useState(""),S=["Roatn","Utila","Guanaja","Jose Santos Guardiola"],P=[{value:"$",label:"$ - Econmico"},{value:"$$",label:"$$ - Moderado"},{value:"$$$",label:"$$$ - Caro"},{value:"$$$$",label:"$$$$ - Muy Caro"}],R=th;h.useEffect(()=>{O()},[]);const O=async()=>{s(!0);try{let T=ve.from("businesses").select("*");const{data:q,error:K}=await T;if(K)throw K;const D=(q||[]).map(V=>({...V,cover_image:V.cover_image||V.coverImage||"",coverImage:V.coverImage||V.cover_image||"",price_range:V.price_range||V.priceRange||"",priceRange:V.priceRange||V.price_range||"",created_at:V.created_at||new Date().toISOString()})).sort((V,E)=>V.created_at&&E.created_at?new Date(E.created_at).getTime()-new Date(V.created_at).getTime():V.name.localeCompare(E.name));e(D),console.log("Negocios cargados:",D.length)}catch(T){console.error("Error al cargar negocios:",T),Ce.error("Error al cargar los negocios: "+T.message)}finally{s(!1)}},F=T=>{var q,K,U,D,V,E,z,X;d(T),p({name:T.name||"",category:T.category||"",island:T.island||"",location:T.location||"",description:T.description||"",email:((q=T.contact)==null?void 0:q.email)||"",phone:((K=T.contact)==null?void 0:K.phone)||"",website:((U=T.contact)==null?void 0:U.website)||"",facebook:((D=T.contact)==null?void 0:D.facebook)||"",instagram:((V=T.contact)==null?void 0:V.instagram)||"",twitter:((E=T.contact)==null?void 0:E.twitter)||"",tiktok:((z=T.contact)==null?void 0:z.tiktok)||"",whatsapp:((X=T.contact)==null?void 0:X.whatsapp)||"",priceRange:T.price_range||T.priceRange||"",amenities:T.amenities||[],coverImage:T.cover_image||T.coverImage||"",logo:T.logo||"",is_public:T.is_public!==!1}),l(!0)},W=async(T,q)=>{if(confirm(`Ests seguro de que deseas eliminar el negocio "${q}"?`))try{const{error:K}=await ve.from("businesses").delete().eq("id",T);if(K)throw K;Ce.success("Negocio eliminado exitosamente"),O()}catch(K){Ce.error("Error al eliminar el negocio: "+K.message)}},A=async()=>{if(u){y(!0);try{const T={name:f.name,category:f.category,island:f.island,location:f.location,description:f.description,contact:{email:f.email,phone:f.phone,website:f.website,facebook:f.facebook,instagram:f.instagram,twitter:f.twitter,tiktok:f.tiktok,whatsapp:f.whatsapp},priceRange:f.priceRange,amenities:f.amenities,coverImage:f.coverImage,logo:f.logo,is_public:f.is_public},q={name:f.name,category:f.category,island:f.island,location:f.location,description:f.description,contact:{email:f.email,phone:f.phone,website:f.website,facebook:f.facebook,instagram:f.instagram,twitter:f.twitter,tiktok:f.tiktok,whatsapp:f.whatsapp},price_range:f.priceRange,amenities:f.amenities,cover_image:f.coverImage,logo:f.logo,is_public:f.is_public};try{const{error:K}=await ve.from("businesses").update(T).eq("id",u.id);if(K)throw K}catch(K){const U=String((K==null?void 0:K.message)||K);if(U.includes("cover_image")||U.includes("coverImage")||U.includes("could not find")||U.includes("column")){const{error:D}=await ve.from("businesses").update(q).eq("id",u.id);if(D)throw D}else throw K}Ce.success("Negocio actualizado exitosamente"),l(!1),O()}catch(T){Ce.error("Error al actualizar el negocio: "+T.message)}finally{y(!1)}}},Q=()=>{g.trim()&&!f.amenities.includes(g.trim())&&(p(T=>({...T,amenities:[...T.amenities,g.trim()]})),x(""))},J=T=>{p(q=>({...q,amenities:q.amenities.filter(K=>K!==T)}))},re=async T=>{try{const{error:q}=await ve.from("businesses").update({is_public:!T.is_public}).eq("id",T.id);if(q)throw q;Ce.success(`Negocio ${T.is_public?"ocultado":"publicado"} exitosamente`),O()}catch(q){Ce.error("Error al cambiar visibilidad: "+q.message)}},ee=t.filter(T=>{const q=T.name.toLowerCase().includes(N.toLowerCase()),K=j?T.island===j:!0,U=_?T.category===_:!0;return q&&K&&U});return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(kn,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs(vt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800 mb-6",children:[a.jsx(gc,{className:"h-4 w-4 mr-2"}),"Volver al inicio"]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gestionar Negocios"}),a.jsx("p",{className:"text-gray-600",children:"Administra todos los negocios registrados en la plataforma"})]}),a.jsx(vt,{to:"/registrar-negocio",children:a.jsxs(ie,{className:"bg-green-600 hover:bg-green-700",children:[a.jsx(us,{className:"h-4 w-4 mr-2"}),"Nuevo Negocio"]})})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar por nombre"}),a.jsx("input",{type:"text",value:N,onChange:T=>k(T.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Buscar negocio..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filtrar por isla"}),a.jsxs("select",{value:j,onChange:T=>M(T.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todas las islas"}),S.map(T=>a.jsx("option",{value:T,children:T},T))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filtrar por categora"}),a.jsxs("select",{value:_,onChange:T=>L(T.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todas las categoras"}),R.map(T=>a.jsx("option",{value:T,children:T},T))]})]})]})}),n?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Cargando negocios..."})]}):ee.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[a.jsx(rc,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No hay negocios"}),a.jsx("p",{className:"text-gray-600 mb-4",children:N||j||_?"No se encontraron negocios con los filtros aplicados":"Comienza registrando tu primer negocio"}),t.length>0&&a.jsx(ie,{variant:"outline",onClick:()=>{k(""),M(""),L("")},children:"Limpiar filtros"}),t.length===0&&a.jsx(vt,{to:"/registrar-negocio",children:a.jsxs(ie,{className:"bg-green-600 hover:bg-green-700",children:[a.jsx(us,{className:"h-4 w-4 mr-2"}),"Registrar Primer Negocio"]})})]}):a.jsx("div",{className:"space-y-2 mb-4",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Mostrando ",ee.length," de ",t.length," negocios"]})}),!n&&ee.length>0&&a.jsx("div",{className:"grid grid-cols-1 gap-4",children:ee.map(T=>{var q,K,U;return a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:T.logo||T.cover_image||"https://via.placeholder.com/150",alt:T.name,className:"w-24 h-24 rounded-lg object-cover"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex flex-wrap items-start justify-between gap-2 mb-3",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:T.name}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(xt,{variant:"secondary",children:T.category}),a.jsxs(xt,{variant:"outline",children:[a.jsx(Qt,{className:"h-3 w-3 mr-1"}),T.island]}),a.jsx(xt,{variant:T.is_public?"default":"destructive",children:T.is_public?"Pblico":"Oculto"})]})]})}),a.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:T.description}),a.jsxs("div",{className:"flex flex-wrap gap-2 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(fn,{className:"h-4 w-4 mr-1"}),((q=T.contact)==null?void 0:q.email)||"Sin email"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(jn,{className:"h-4 w-4 mr-1"}),((K=T.contact)==null?void 0:K.phone)||"Sin telfono"]}),((U=T.contact)==null?void 0:U.website)&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(cr,{className:"h-4 w-4 mr-1"}),T.contact.website]})]})]}),a.jsxs("div",{className:"flex md:flex-col gap-2",children:[a.jsx(ie,{variant:"outline",size:"sm",onClick:()=>re(T),title:T.is_public?"Ocultar negocio":"Publicar negocio",className:"flex items-center gap-1",children:T.is_public?a.jsxs(a.Fragment,{children:[a.jsx(Lx,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline text-xs",children:"Ocultar"})]}):a.jsxs(a.Fragment,{children:[a.jsx(hs,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline text-xs",children:"Publicar"})]})}),a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>F(T),className:"flex items-center gap-1",children:[a.jsx(tf,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline text-xs",children:"Editar"})]}),a.jsxs(ie,{variant:"destructive",size:"sm",onClick:()=>W(T.id,T.name),className:"flex items-center gap-1",children:[a.jsx(ac,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline text-xs",children:"Eliminar"})]})]})]})},T.id)})})]}),i&&u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Editar Negocio"}),a.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(ur,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Negocio *"}),a.jsx("input",{type:"text",value:f.name,onChange:T=>p({...f,name:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categora *"}),a.jsx("input",{list:"categories-list-edit",value:f.category,onChange:T=>p({...f,category:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),a.jsx("datalist",{id:"categories-list-edit",children:R.map(T=>a.jsx("option",{value:T},T))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Isla *"}),a.jsx("select",{value:f.island,onChange:T=>p({...f,island:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:S.map(T=>a.jsx("option",{value:T,children:T},T))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ubicacin *"}),a.jsx("input",{type:"text",value:f.location,onChange:T=>p({...f,location:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin *"}),a.jsx("textarea",{value:f.description,onChange:T=>p({...f,description:T.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),a.jsx("input",{type:"email",value:f.email,onChange:T=>p({...f,email:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono *"}),a.jsx("input",{type:"tel",value:f.phone,onChange:T=>p({...f,phone:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sitio Web"}),a.jsx("input",{type:"url",value:f.website,onChange:T=>p({...f,website:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp"}),a.jsx("input",{type:"text",value:f.whatsapp,onChange:T=>p({...f,whatsapp:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facebook"}),a.jsx("input",{type:"url",value:f.facebook,onChange:T=>p({...f,facebook:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram"}),a.jsx("input",{type:"url",value:f.instagram,onChange:T=>p({...f,instagram:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Twitter/X"}),a.jsx("input",{type:"url",value:f.twitter,onChange:T=>p({...f,twitter:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"TikTok"}),a.jsx("input",{type:"url",value:f.tiktok,onChange:T=>p({...f,tiktok:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rango de Precios"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:P.map(T=>a.jsxs("button",{type:"button",onClick:()=>p({...f,priceRange:T.value}),className:`p-3 rounded-lg border text-center transition-colors ${f.priceRange===T.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"}`,children:[a.jsx("div",{className:"font-medium",children:T.value}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:T.label.split(" - ")[1]})]},T.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Servicios y Amenidades"}),a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsx("input",{type:"text",value:g,onChange:T=>x(T.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Agregar amenidad",onKeyPress:T=>T.key==="Enter"&&(T.preventDefault(),Q())}),a.jsx(ie,{type:"button",onClick:Q,children:a.jsx(us,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:f.amenities.map((T,q)=>a.jsxs(xt,{variant:"secondary",className:"bg-blue-100 text-blue-800 px-3 py-1 flex items-center gap-2",children:[T,a.jsx("button",{type:"button",onClick:()=>J(T),className:"text-blue-600 hover:text-blue-800",children:a.jsx(ur,{className:"h-3 w-3"})})]},q))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagen Principal"}),a.jsx(Kn,{onImageUploaded:T=>p({...f,coverImage:T}),onImageRemoved:()=>p({...f,coverImage:""}),currentImage:f.coverImage,label:"Imagen de portada",maxSize:5})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo"}),a.jsx(Kn,{onImageUploaded:T=>p({...f,logo:T}),onImageRemoved:()=>p({...f,logo:""}),currentImage:f.logo,label:"Logo del negocio",maxSize:2})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",id:"is_public",checked:f.is_public,onChange:T=>p({...f,is_public:T.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),a.jsx("label",{htmlFor:"is_public",className:"text-sm font-medium text-gray-700",children:"Negocio pblico (visible en el directorio)"})]})]}),a.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t px-6 py-4 flex justify-end gap-3",children:[a.jsx(ie,{variant:"outline",onClick:()=>l(!1),disabled:b,children:"Cancelar"}),a.jsx(ie,{onClick:A,disabled:b,className:"bg-blue-600 hover:bg-blue-700",children:b?"Guardando...":"Guardar Cambios"})]})]})})]})},oT=()=>a.jsxs("div",{className:"max-w-2xl mx-auto py-12 px-4 bg-white rounded shadow",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6 text-blue-700",children:"Trminos de Uso"}),a.jsx("p",{className:"mb-4",children:"Al utilizar RoaBusiness, aceptas los siguientes trminos y condiciones. Si no ests de acuerdo con alguno de ellos, por favor no utilices este sitio."}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"1. Uso del Sitio"}),a.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[a.jsx("li",{children:"El usuario se compromete a utilizar RoaBusiness de manera responsable y conforme a la ley."}),a.jsx("li",{children:"No est permitido el uso del sitio para fines fraudulentos, ilegales o que perjudiquen a terceros."})]}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"2. Registro y Cuentas"}),a.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[a.jsx("li",{children:"El usuario es responsable de la veracidad de la informacin proporcionada al registrarse."}),a.jsx("li",{children:"Est prohibido crear cuentas falsas o suplantar la identidad de otras personas o negocios."}),a.jsx("li",{children:"El usuario debe mantener la confidencialidad de su contrasea y es responsable de toda actividad realizada desde su cuenta."})]}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"3. Contenido"}),a.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[a.jsx("li",{children:"El usuario es responsable del contenido que publique en RoaBusiness."}),a.jsx("li",{children:"No se permite publicar contenido ofensivo, ilegal, difamatorio, engaoso o que infrinja derechos de terceros."}),a.jsx("li",{children:"RoaBusiness se reserva el derecho de eliminar contenido que incumpla estas normas."})]}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"4. Propiedad Intelectual"}),a.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[a.jsx("li",{children:"Todo el contenido y diseo de RoaBusiness est protegido por derechos de autor."}),a.jsx("li",{children:"No est permitido copiar, reproducir o distribuir contenido del sitio sin autorizacin."})]}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"5. Modificaciones"}),a.jsx("p",{className:"mb-4",children:"RoaBusiness puede modificar estos trminos en cualquier momento. Los cambios sern notificados a travs del sitio o por correo electrnico."}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"6. Limitacin de Responsabilidad"}),a.jsx("p",{className:"mb-4",children:"RoaBusiness no se hace responsable por daos directos o indirectos derivados del uso del sitio o de la informacin publicada por los usuarios."}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"7. Contacto"}),a.jsxs("p",{children:["Para consultas o reportes, contctanos en"," ",a.jsx("a",{href:"mailto:info@roabusiness.com",className:"text-blue-600 underline",children:"info@roabusiness.com"}),"."]})]});async function Cw(t){var n,s;const{data:e}=await ve.auth.getUser();return e.user?((n=e.user.app_metadata)==null?void 0:n.provider)==="google"||((s=e.user.identities)==null?void 0:s.some(i=>i.provider==="google")):!1}const iT=()=>{var re,ee;const{user:t,updateProfile:e,isBusiness:n}=Tr(),s=Jn(),[i,l]=h.useState({name:((re=t==null?void 0:t.userData)==null?void 0:re.name)||"",avatar:((ee=t==null?void 0:t.userData)==null?void 0:ee.avatar)||""}),[u,d]=h.useState(!1),[f,p]=h.useState(!1),[g,x]=h.useState(!1),[b,y]=h.useState(""),[N,k]=h.useState(""),[j,M]=h.useState(""),[_,L]=h.useState(""),[S,P]=h.useState(""),[R,O]=h.useState(""),[F,W]=h.useState(!1);if(h.useEffect(()=>{t&&Cw(t.email).then(W)},[t]),!t||n)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-700 text-white",children:a.jsxs("div",{className:"bg-slate-800 p-10 rounded-3xl shadow-2xl text-center max-w-md w-full",children:[a.jsx("h2",{className:"text-3xl font-extrabold text-red-500 mb-6",children:"Acceso denegado"}),a.jsx(ie,{onClick:()=>s("/"),className:"bg-red-600 hover:bg-red-700 text-white rounded-full px-6 py-3 font-bold shadow-xl",children:"Volver al inicio"})]})});const A=T=>{l({...i,[T.target.name]:T.target.value})},Q=async T=>{if(T.preventDefault(),P(""),!F&&!b){P("Ingresa tu contrasea actual para continuar.");return}if(d(!0),!F){const{error:q}=await fs(t.email,b);if(q){P("Contrasea incorrecta."),d(!1);return}}await e(i),p(!0),setTimeout(()=>{p(!1),s("/")},1e3),d(!1)},J=async T=>{if(T.preventDefault(),O(""),!N){O("Debes ingresar tu contrasea actual.");return}if(!j||j.length<6){O("La nueva contrasea debe tener al menos 6 caracteres.");return}if(j!==_){O("Las contraseas no coinciden.");return}d(!0);const{error:q}=await fs(t.email,N);if(q){O("Contrasea incorrecta."),d(!1);return}const{error:K}=await ai(j);if(K){O(K.message||"Error al actualizar contrasea."),d(!1);return}p(!0),setTimeout(()=>{p(!1),x(!1),k(""),M(""),L(""),O(""),s("/")},1e3),d(!1)};return f?a.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-900 to-purple-900 text-white",children:[a.jsx("h1",{className:"text-5xl font-extrabold mb-4 animate-pulse",children:"RoaBusiness"}),a.jsx("p",{className:"text-lg",children:"Guardando cambios..."})]}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 to-blue-900 text-white py-16 px-4 sm:px-8 md:px-16",children:a.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"bg-slate-800 p-8 rounded-3xl shadow-2xl border border-slate-700",children:[a.jsx("h2",{className:"text-3xl font-extrabold mb-6",children:"Editar perfil"}),a.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col items-center",children:a.jsx(Kn,{currentImage:i.avatar,onImageUploaded:T=>l(q=>({...q,avatar:T})),onImageRemoved:()=>l(T=>({...T,avatar:""})),label:"Avatar",maxSize:2})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Nombre completo"}),a.jsx("input",{type:"text",name:"name",value:i.name,onChange:A,className:"w-full bg-slate-700 text-white border border-slate-600 rounded-xl px-4 py-3 focus:ring-2 focus:ring-purple-500 focus:outline-none",required:!0})]}),!F&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Contrasea actual"}),a.jsx("input",{type:"password",value:b,onChange:T=>y(T.target.value),className:"w-full bg-slate-700 text-white border border-slate-600 rounded-xl px-4 py-3"})]}),S&&a.jsx("p",{className:"text-red-400 text-sm",children:S}),a.jsx(ie,{type:"submit",disabled:u,className:"w-full py-3 text-lg font-bold bg-gradient-to-r from-purple-600 to-blue-600 hover:from-blue-600 hover:to-purple-600 rounded-xl transition-transform hover:scale-105",children:u?"Guardando...":"Guardar cambios"})]})]}),a.jsxs("div",{className:"bg-slate-800 p-8 rounded-3xl shadow-2xl border border-slate-700",children:[a.jsx("h2",{className:"text-2xl font-extrabold mb-4",children:"Actualizar contrasea"}),a.jsx(ie,{variant:"outline",onClick:()=>x(!g),className:"mb-4 w-full border border-purple-500 text-purple-300 hover:bg-purple-800 rounded-xl",children:g?"Cancelar":"Actualizar contrasea"}),g&&a.jsxs("form",{onSubmit:J,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Contrasea actual"}),a.jsx("input",{type:"password",value:N,onChange:T=>k(T.target.value),className:"w-full bg-slate-700 text-white border border-slate-600 rounded-xl px-4 py-3"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Nueva contrasea"}),a.jsx("input",{type:"password",value:j,onChange:T=>M(T.target.value),className:"w-full bg-slate-700 text-white border border-slate-600 rounded-xl px-4 py-3"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Confirmar nueva contrasea"}),a.jsx("input",{type:"password",value:_,onChange:T=>L(T.target.value),className:"w-full bg-slate-700 text-white border border-slate-600 rounded-xl px-4 py-3"})]}),R&&a.jsx("p",{className:"text-red-400 text-sm",children:R}),a.jsx(ie,{type:"submit",disabled:u,className:"w-full py-3 text-lg font-bold bg-gradient-to-r from-purple-600 to-blue-600 hover:from-blue-600 hover:to-purple-600 rounded-xl transition-transform hover:scale-105",children:u?"Guardando...":"Actualizar contrasea"})]})]})]})})},lT=()=>{var N,k,j,M;const[t,e]=h.useState(null),[n,s]=h.useState(""),[i,l]=h.useState(""),[u,d]=h.useState(!1),[f,p]=h.useState(!1),[g,x]=h.useState(""),b=Jn();h.useEffect(()=>{ve.auth.getUser().then(({data:_})=>{e(_.user)})},[]);const y=async _=>{if(_.preventDefault(),x(""),!n||n.length<6){x("La contrasea debe tener al menos 6 caracteres");return}if(n!==i){x("Las contraseas no coinciden");return}d(!0);const{error:L}=await ai(n);if(d(!1),L){x(L.message||"No se pudo actualizar la contrasea");return}p(!0),setTimeout(()=>{b("/")},1e3)};return f?a.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-blue-700 mb-4 animate-pulse",children:"RoaBusiness"}),a.jsx("p",{className:"text-gray-500",children:"Actualizando contrasea..."})]}):a.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"bg-white p-8 rounded shadow max-w-md w-full",children:[a.jsxs("div",{className:"flex flex-col items-center mb-6",children:[a.jsxs(ni,{className:"w-20 h-20 mb-2",children:[a.jsx(ri,{src:((N=t==null?void 0:t.user_metadata)==null?void 0:N.avatar)||void 0,alt:((k=t==null?void 0:t.user_metadata)==null?void 0:k.name)||(t==null?void 0:t.email)}),a.jsx(si,{children:(((j=t==null?void 0:t.user_metadata)==null?void 0:j.name)||(t==null?void 0:t.email)||"U").charAt(0)})]}),a.jsx("h2",{className:"text-xl font-bold",children:((M=t==null?void 0:t.user_metadata)==null?void 0:M.name)||(t==null?void 0:t.email)})]}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block font-semibold mb-1",children:"Nueva contrasea"}),a.jsx("input",{type:"password",className:"w-full border rounded px-3 py-2",value:n,onChange:_=>s(_.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block font-semibold mb-1",children:"Confirmar contrasea"}),a.jsx("input",{type:"password",className:"w-full border rounded px-3 py-2",value:i,onChange:_=>l(_.target.value),required:!0})]}),g&&a.jsx("div",{className:"text-red-500 text-sm",children:g}),a.jsx(ie,{type:"submit",disabled:u,className:"w-full",children:u?"Guardando...":"Actualizar contrasea"})]})]})})},cT=[{value:"recent",label:"Ms recientes"},{value:"likes",label:"Ms me gustas"},{value:"comments",label:"Ms comentarios"}];function uT(){const{posts:t,loading:e,error:n}=Db(),{businesses:s}=Fs(),[i,l]=h.useState("recent"),u=[...t].sort((f,p)=>i==="likes"?(p.likes_count||0)-(f.likes_count||0):i==="comments"?(p.comments_count||0)-(f.comments_count||0):new Date(p.created_at).getTime()-new Date(f.created_at).getTime()),d={};return(s||[]).forEach(f=>{d[f.id]=0}),a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(kn,{}),a.jsxs("div",{className:"container mx-auto px-4 py-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-2",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Publicaciones Recientes"}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Ordenar por:"}),a.jsx("select",{className:"border rounded px-2 py-1 text-sm",value:i,onChange:f=>l(f.target.value),children:cT.map(f=>a.jsx("option",{value:f.value,children:f.label},f.value))})]})]}),e?a.jsx("div",{className:"space-y-4",children:[...Array(6)].map((f,p)=>a.jsx("div",{className:"bg-white rounded-lg p-6 animate-pulse h-32"},p))}):n?a.jsx("div",{className:"text-center text-red-600 py-12",children:n}):t.length===0?a.jsx("div",{className:"text-center text-gray-600 py-12",children:"No hay publicaciones recientes"}):a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:u.map(f=>{const p=d[f.business_id]||f.views_count||0;return a.jsx(Ib,{post:{...f,views_count:p}},f.id)})})]}),a.jsx(Qo,{})]})}function dT(){const t=Jn(),{user:e,isUser:n}=Tr();return h.useEffect(()=>{async function s(){var i,l,u,d;try{const{data:{user:f}}=await ve.auth.getUser();if(!f){console.error("No user from supabase.auth.getUser()"),t("/");return}const{data:p,error:g}=await ve.from("users").select("*").eq("email",f.email).maybeSingle();if(g&&console.error("Error buscando usuario en tabla users:",g),p){const x={...p,userData:{name:p.name,avatar:p.avatar}};localStorage.setItem("currentUser",JSON.stringify(x)),window.location.href="/user/profile";return}else{const x=((i=f.user_metadata)==null?void 0:i.full_name)||((l=f.user_metadata)==null?void 0:l.name)||f.email,b=((u=f.user_metadata)==null?void 0:u.avatar_url)||((d=f.user_metadata)==null?void 0:d.picture)||null,{data:y,error:N}=await ve.from("users").insert([{email:f.email,type:"user",name:x,avatar:b}]).select().single();if(N){console.error("Error insertando usuario en tabla users:",N),alert("Error creando usuario en tabla users: "+N.message);return}const k={...y,userData:{name:y.name,avatar:y.avatar}};localStorage.setItem("currentUser",JSON.stringify(k)),window.location.href="/user/profile";return}}catch(f){console.error("Error en handleGoogleUser:",f),alert("Error inesperado en el registro con Google: "+((f==null?void 0:f.message)||f))}}s()},[t]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-600 mx-auto mb-6"}),a.jsx("h2",{className:"text-2xl font-bold text-blue-700 mb-2",children:"Iniciando sesin con Google..."}),a.jsx("p",{className:"text-gray-600",children:"Redirigiendo a tu perfil..."})]})})}const fT=()=>{var i,l,u,d;const{user:t,logout:e}=Tr(),[n,s]=h.useState([]);return h.useEffect(()=>{(async()=>{if(!t)return;const{supabase:p}=await Ba(async()=>{const{supabase:y}=await Promise.resolve().then(()=>YC);return{supabase:y}},void 0),{data:g,error:x}=await p.from("followers").select("businesses:business_id(*)").eq("user_id",t.id);if(x)return s([]);const b=(g||[]).map(y=>y.businesses).filter(Boolean);s(b)})()},[t]),t?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-white py-16 px-6",children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsxs("div",{className:"flex items-center space-x-6 mb-10",children:[a.jsxs(ni,{className:"w-24 h-24 shadow-xl border-4 border-white",children:[a.jsx(ri,{src:((i=t.userData)==null?void 0:i.avatar)||void 0,alt:((l=t.userData)==null?void 0:l.name)||t.email}),a.jsx(si,{className:"text-lg",children:(((u=t.userData)==null?void 0:u.name)||t.email||"U").charAt(0)})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-extrabold",children:((d=t.userData)==null?void 0:d.name)||t.email}),a.jsx("p",{className:"text-slate-400",children:t.email}),a.jsx(vt,{to:"/user/settings",children:a.jsx(ie,{className:"mt-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-blue-600 hover:to-purple-600 text-white font-semibold px-5 py-2 rounded-full shadow-lg transition-transform hover:scale-105",children:"Editar perfil"})})]})]}),a.jsx("div",{className:"flex gap-4 mb-8",children:a.jsx(vt,{to:"/",children:a.jsx(ie,{className:"bg-blue-700 hover:bg-blue-800 text-white px-6 py-2 rounded-full font-semibold shadow-md transition-transform hover:scale-105",children:"Ir al Directorio"})})}),t.type!=="business"&&a.jsx("div",{className:"block md:hidden mb-8",children:a.jsxs("button",{className:"w-full flex items-center justify-center gap-3 px-5 py-3 rounded-full bg-red-600 text-white font-semibold shadow-md hover:bg-red-700 transition-transform hover:scale-105",onClick:e,children:[a.jsx(ef,{className:"w-5 h-5"}),"Cerrar sesin"]})}),a.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl shadow-2xl border border-slate-700",children:[a.jsx("h2",{className:"text-xl font-bold mb-6 text-purple-400",children:"Negocios que sigues"}),n.length===0?a.jsx("p",{className:"text-slate-400",children:"No sigues ningn negocio an."}):a.jsx("ul",{className:"divide-y divide-slate-700",children:n.map(f=>a.jsxs("li",{className:"py-4 flex items-center space-x-4",children:[a.jsx("img",{src:f.logo,alt:f.name,className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-md"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(vt,{to:`/negocio/${f.id}`,className:"font-semibold text-blue-400 hover:underline",children:f.name}),a.jsxs("div",{className:"text-xs text-slate-400",children:[f.category," - ",f.island]})]})]},f.id))})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-800 to-slate-900 text-white",children:a.jsxs("div",{className:"bg-slate-800 p-10 rounded-3xl shadow-2xl text-center max-w-md w-full",children:[a.jsx("h2",{className:"text-2xl font-extrabold mb-6",children:"Debes iniciar sesin"}),a.jsx(vt,{to:"/registrar-usuario",children:a.jsx(ie,{className:"bg-blue-600 hover:bg-blue-700 text-white rounded-full px-6 py-3 font-bold shadow-lg",children:"Crear cuenta"})})]})})},hT=()=>{var T,q;const{user:t,updateProfile:e,isBusiness:n}=Tr(),s=Jn(),[i,l]=h.useState({name:((T=t==null?void 0:t.userData)==null?void 0:T.name)||"",avatar:((q=t==null?void 0:t.userData)==null?void 0:q.avatar)||""}),[u,d]=h.useState(!1),[f,p]=h.useState(!1),[g,x]=h.useState(!1),[b,y]=h.useState(!1),[N,k]=h.useState(""),[j,M]=h.useState(""),[_,L]=h.useState(""),[S,P]=h.useState(""),[R,O]=h.useState(""),[F,W]=h.useState(""),[A,Q]=h.useState(!1);if(h.useEffect(()=>{t&&(Cw(t.email).then(Q),(async()=>{if(t.email)try{const{error:K}=await fs(t.email,"contrasea_incorrecta_123456");y(K&&K.message==="Invalid login credentials")}catch{y(!1)}})())},[t]),!t||n)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-700 text-white",children:a.jsxs("div",{className:"bg-slate-800 p-10 rounded-3xl shadow-2xl text-center max-w-md w-full",children:[a.jsx("h2",{className:"text-3xl font-extrabold text-red-500 mb-6",children:"Acceso denegado"}),a.jsx(ie,{onClick:()=>s("/"),className:"bg-red-600 hover:bg-red-700 text-white rounded-full px-6 py-3 font-bold shadow-xl",children:"Volver al inicio"})]})});const J=K=>{l({...i,[K.target.name]:K.target.value})},re=async K=>{if(K.preventDefault(),O(""),!A&&!N){O("Ingresa tu contrasea actual para continuar.");return}if(d(!0),!A){const{error:U}=await fs(t.email,N);if(U){O("Contrasea incorrecta."),d(!1);return}}await e(i),p(!0),setTimeout(()=>{p(!1),s("/")},1e3),d(!1)},ee=async K=>{if(K.preventDefault(),W(""),!j){W("Debes ingresar tu contrasea actual.");return}if(!_||_.length<6){W("La nueva contrasea debe tener al menos 6 caracteres.");return}if(_!==S){W("Las contraseas no coinciden.");return}d(!0);const{error:U}=await fs(t.email,j);if(U){W("Contrasea incorrecta."),d(!1);return}const{error:D}=await ai(_);if(D){W(D.message||"Error al actualizar contrasea."),d(!1);return}p(!0),setTimeout(()=>{p(!1),x(!1),M(""),L(""),P(""),W(""),s("/")},1e3),d(!1)};return f?a.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-900 to-purple-900 text-white",children:[a.jsx("h1",{className:"text-5xl font-extrabold mb-4 animate-pulse",children:"RoaBusiness"}),a.jsx("p",{className:"text-lg",children:"Guardando cambios..."})]}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 to-blue-900 text-white py-16 px-4 sm:px-8 md:px-16",children:a.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"bg-slate-800 p-8 rounded-3xl shadow-2xl border border-slate-700",children:[a.jsx("h2",{className:"text-3xl font-extrabold mb-6",children:"Editar perfil"}),a.jsxs("form",{onSubmit:re,className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col items-center",children:a.jsx(Kn,{currentImage:i.avatar,onImageUploaded:K=>l(U=>({...U,avatar:K})),onImageRemoved:()=>l(K=>({...K,avatar:""})),label:"Avatar",maxSize:2})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Nombre completo"}),a.jsx("input",{type:"text",name:"name",value:i.name,onChange:J,className:"w-full bg-slate-700 text-white border border-slate-600 rounded-xl px-4 py-3 focus:ring-2 focus:ring-purple-500 focus:outline-none",required:!0})]}),!A&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Contrasea actual"}),a.jsx("input",{type:"password",value:N,onChange:K=>k(K.target.value),className:"w-full bg-slate-700 text-white border border-slate-600 rounded-xl px-4 py-3"})]}),R&&a.jsx("p",{className:"text-red-400 text-sm",children:R}),a.jsx(ie,{type:"submit",disabled:u,className:"w-full py-3 text-lg font-bold bg-gradient-to-r from-purple-600 to-blue-600 hover:from-blue-600 hover:to-purple-600 rounded-xl transition-transform hover:scale-105",children:u?"Guardando...":"Guardar cambios"})]})]}),a.jsxs("div",{className:"bg-slate-800 p-8 rounded-3xl shadow-2xl border border-slate-700",children:[a.jsx("h2",{className:"text-2xl font-extrabold mb-4",children:A&&!b?"Crear contrasea":"Actualizar contrasea"}),a.jsx(ie,{variant:"outline",onClick:()=>x(!g),className:"mb-4 w-full border border-purple-500 text-purple-300 hover:bg-purple-800 rounded-xl",children:g?"Cancelar":A&&!b?"Crear contrasea":"Actualizar contrasea"}),g&&a.jsxs("form",{onSubmit:ee,className:"space-y-5",children:[(!A||b)&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Contrasea actual"}),a.jsx("input",{type:"password",value:j,onChange:K=>M(K.target.value),className:"w-full bg-slate-700 text-white border border-slate-600 rounded-xl px-4 py-3"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-1",children:A&&!b?"Crear nueva contrasea":"Nueva contrasea"}),a.jsx("input",{type:"password",value:_,onChange:K=>L(K.target.value),className:"w-full bg-slate-700 text-white border border-slate-600 rounded-xl px-4 py-3"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Confirmar nueva contrasea"}),a.jsx("input",{type:"password",value:S,onChange:K=>P(K.target.value),className:"w-full bg-slate-700 text-white border border-slate-600 rounded-xl px-4 py-3"})]}),F&&a.jsx("p",{className:"text-red-400 text-sm",children:F}),a.jsx(ie,{type:"submit",disabled:u,className:"w-full py-3 text-lg font-bold bg-gradient-to-r from-purple-600 to-blue-600 hover:from-blue-600 hover:to-purple-600 rounded-xl transition-transform hover:scale-105",children:u?"Guardando...":A&&!b?"Crear contrasea":"Actualizar contrasea"})]})]})]})})},mT=()=>{const[t,e]=h.useState("users"),[n,s]=h.useState([]),[i,l]=h.useState([]),[u,d]=h.useState(!1),[f,p]=h.useState(""),[g,x]=h.useState(!1),[b,y]=h.useState(null),[N,k]=h.useState(null),[j,M]=h.useState("all"),[_,L]=h.useState({email:"",name:"",type:"user",business_id:""}),[S,P]=h.useState({name:"",category:"",island:"",location:"",description:"",email:"",phone:"",website:"",facebook:"",instagram:"",twitter:"",tiktok:"",whatsapp:"",price_range:"",amenities:[],cover_image:"",logo:"",is_public:!0}),[R,O]=h.useState("");h.useEffect(()=>{F()},[t]);const F=async()=>{d(!0);try{if(t==="users"){const{data:E,error:z}=await ve.from("users").select("*");if(z)throw z;s(E||[])}else{const{data:E,error:z}=await ve.from("businesses").select("*");if(z)throw z;l(E||[])}}catch(E){Ce.error("Error al cargar datos: "+E.message)}finally{d(!1)}},W=(E,z)=>{var X,se,H,me,te,le,xe,ce;if(y(E),k(z||null),E==="edit"&&z)if(t==="users"){const oe=z;L({email:oe.email,name:oe.name,type:oe.type,business_id:oe.business_id||""})}else{const oe=z;P({name:oe.name,category:oe.category,island:oe.island,location:oe.location,description:oe.description,email:((X=oe.contact)==null?void 0:X.email)||"",phone:((se=oe.contact)==null?void 0:se.phone)||"",website:((H=oe.contact)==null?void 0:H.website)||"",facebook:((me=oe.contact)==null?void 0:me.facebook)||"",instagram:((te=oe.contact)==null?void 0:te.instagram)||"",twitter:((le=oe.contact)==null?void 0:le.twitter)||"",tiktok:((xe=oe.contact)==null?void 0:xe.tiktok)||"",whatsapp:((ce=oe.contact)==null?void 0:ce.whatsapp)||"",price_range:oe.price_range||"",amenities:oe.amenities||[],cover_image:oe.cover_image||"",logo:oe.logo||"",is_public:oe.is_public??!0})}else Q();x(!0)},A=()=>{x(!1),y(null),k(null),Q()},Q=()=>{L({email:"",name:"",type:"user",business_id:""}),P({name:"",category:"",island:"",location:"",description:"",email:"",phone:"",website:"",facebook:"",instagram:"",twitter:"",tiktok:"",whatsapp:"",price_range:"",amenities:[],cover_image:"",logo:"",is_public:!0}),O("")},J=async()=>{try{if(!_.email||!_.name){Ce.error("Por favor completa todos los campos obligatorios");return}if(b==="add"){const{error:E}=await ve.from("users").insert([_]);if(E)throw E;Ce.success("Usuario creado exitosamente")}else if(b==="edit"&&N){const{error:E}=await ve.from("users").update(_).eq("id",N.id);if(E)throw E;Ce.success("Usuario actualizado exitosamente")}A(),F()}catch(E){Ce.error("Error: "+E.message)}},re=async()=>{try{if(!S.name||!S.category||!S.island){Ce.error("Por favor completa todos los campos obligatorios");return}const E={name:S.name,category:S.category,island:S.island,location:S.location,description:S.description,contact:{email:S.email,phone:S.phone,website:S.website,facebook:S.facebook,instagram:S.instagram,twitter:S.twitter,tiktok:S.tiktok,whatsapp:S.whatsapp},priceRange:S.price_range||S.price_range,amenities:S.amenities,coverImage:S.cover_image||S.cover_image,logo:S.logo,is_public:S.is_public},z={name:S.name,category:S.category,island:S.island,location:S.location,description:S.description,contact:{email:S.email,phone:S.phone,website:S.website,facebook:S.facebook,instagram:S.instagram,twitter:S.twitter,tiktok:S.tiktok,whatsapp:S.whatsapp},price_range:S.price_range||S.price_range,amenities:S.amenities,cover_image:S.cover_image||S.cover_image,logo:S.logo,is_public:S.is_public},X=async se=>b==="add"?await ve.from("businesses").insert([se]):await ve.from("businesses").update(se).eq("id",N==null?void 0:N.id);try{const{error:se}=await X(E);if(se)throw se;Ce.success(b==="add"?"Negocio creado exitosamente":"Negocio actualizado exitosamente")}catch(se){const H=String((se==null?void 0:se.message)||se);if(H.includes("cover_image")||H.includes("could not find the")||H.includes("column"))try{const{error:me}=await X(z);if(me)throw me;Ce.success(b==="add"?"Negocio creado exitosamente":"Negocio actualizado exitosamente")}catch(me){throw me}else throw se}A(),F()}catch(E){Ce.error("Error: "+E.message)}},ee=async E=>{if(confirm("Ests seguro de que deseas eliminar este elemento?"))try{const z=t==="users"?"users":"businesses",{error:X}=await ve.from(z).delete().eq("id",E);if(X)throw X;Ce.success("Elemento eliminado exitosamente"),F()}catch(z){Ce.error("Error al eliminar: "+z.message)}},T=()=>{R.trim()&&!S.amenities.includes(R.trim())&&(P(E=>({...E,amenities:[...E.amenities,R.trim()]})),O(""))},q=E=>{P(z=>({...z,amenities:z.amenities.filter(X=>X!==E)}))},K=n.filter(E=>{const z=E.name.toLowerCase().includes(f.toLowerCase())||E.email.toLowerCase().includes(f.toLowerCase()),X=j==="all"||E.type===j;return z&&X}),U=i.filter(E=>{const z=E.name.toLowerCase().includes(f.toLowerCase())||E.category.toLowerCase().includes(f.toLowerCase())||E.island.toLowerCase().includes(f.toLowerCase()),X=j==="all"||E.island===j||E.category===j;return z&&X}),D=["Roatn","Utila","Guanaja","Jose Santos Guardiola"],V=["$","$$","$$$","$$$$"];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[a.jsx("div",{className:"bg-white shadow-lg border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-600 p-3 rounded-xl shadow-lg",children:a.jsx(Ro,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Panel de Administracin"}),a.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Gestiona usuarios y negocios de Roabusiness"})]})]}),a.jsxs(ie,{onClick:()=>F(),variant:"outline",className:"flex items-center gap-2 hover:bg-blue-50 transition-colors",children:[a.jsx(Bv,{className:`h-4 w-4 ${u?"animate-spin":""}`}),"Actualizar"]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-2 mb-6 flex gap-2",children:[a.jsxs("button",{onClick:()=>e("users"),className:`flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all duration-300 ${t==="users"?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg scale-105":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(_r,{className:"h-5 w-5"}),"Usuarios (",n.length,")"]}),a.jsxs("button",{onClick:()=>e("businesses"),className:`flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all duration-300 ${t==="businesses"?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg scale-105":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(Ro,{className:"h-5 w-5"}),"Negocios (",i.length,")"]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Xo,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:`Buscar ${t==="users"?"usuarios":"negocios"}...`,value:f,onChange:E=>p(E.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),a.jsxs("select",{value:j,onChange:E=>M(E.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[a.jsx("option",{value:"all",children:"Todos"}),t==="users"?a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"user",children:"Usuarios"}),a.jsx("option",{value:"business",children:"Negocios"})]}):a.jsx(a.Fragment,{children:D.map(E=>a.jsx("option",{value:E,children:E},E))})]}),a.jsxs(ie,{onClick:()=>W("add"),className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-6 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2",children:[a.jsx(us,{className:"h-5 w-5"}),"Agregar ",t==="users"?"Usuario":"Negocio"]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[u?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(Bv,{className:"h-8 w-8 animate-spin text-blue-600"})}):a.jsx("div",{className:"overflow-x-auto",children:t==="users"?a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b-2 border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Nombre"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Tipo"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Fecha de Creacin"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:K.map(E=>a.jsxs("tr",{className:"hover:bg-blue-50 transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-400 to-indigo-500 flex items-center justify-center text-white font-semibold",children:E.name.charAt(0).toUpperCase()})}),a.jsx("div",{className:"ml-4",children:a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:E.name})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx(fn,{className:"h-4 w-4 text-gray-400"}),E.email]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx(xt,{className:`${E.type==="business"?"bg-purple-100 text-purple-800 border-purple-200":"bg-blue-100 text-blue-800 border-blue-200"} border px-3 py-1`,children:E.type==="business"?"Negocio":"Usuario"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:E.created_at?new Date(E.created_at).toLocaleDateString("es-ES"):"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>W("edit",E),className:"text-blue-600 hover:text-blue-800 p-2 hover:bg-blue-100 rounded-lg transition-all",children:a.jsx(tf,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>ee(E.id),className:"text-red-600 hover:text-red-800 p-2 hover:bg-red-100 rounded-lg transition-all",children:a.jsx(ac,{className:"h-4 w-4"})})]})})]},E.id))})]}):a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b-2 border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Negocio"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Categora"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Isla"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Contacto"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:U.map(E=>{var z,X;return a.jsxs("tr",{className:"hover:bg-blue-50 transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-12 w-12 flex-shrink-0",children:E.logo?a.jsx("img",{src:E.logo,alt:E.name,className:"h-12 w-12 rounded-full object-cover border-2 border-gray-200"}):a.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-purple-400 to-pink-500 flex items-center justify-center text-white font-semibold text-lg",children:E.name.charAt(0).toUpperCase()})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:E.name}),a.jsx("div",{className:"text-xs text-gray-500",children:E.location})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx(xt,{className:"bg-indigo-100 text-indigo-800 border-indigo-200 border",children:E.category})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx(Qt,{className:"h-4 w-4 text-gray-400"}),E.island]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(fn,{className:"h-3 w-3 text-gray-400"}),a.jsx("span",{className:"text-xs",children:(z=E.contact)==null?void 0:z.email})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jn,{className:"h-3 w-3 text-gray-400"}),a.jsx("span",{className:"text-xs",children:(X=E.contact)==null?void 0:X.phone})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx(xt,{className:`${E.is_public?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-800 border-gray-200"} border`,children:E.is_public?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(hs,{className:"h-3 w-3"}),"Pblico"]}):a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Lx,{className:"h-3 w-3"}),"Privado"]})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>W("edit",E),className:"text-blue-600 hover:text-blue-800 p-2 hover:bg-blue-100 rounded-lg transition-all",children:a.jsx(tf,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>ee(E.id),className:"text-red-600 hover:text-red-800 p-2 hover:bg-red-100 rounded-lg transition-all",children:a.jsx(ac,{className:"h-4 w-4"})})]})})]},E.id)})})]})}),!u&&(t==="users"&&K.length===0||t==="businesses"&&U.length===0)&&a.jsxs("div",{className:"text-center py-20",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-4",children:t==="users"?a.jsx(_r,{className:"h-8 w-8 text-gray-400"}):a.jsx(Ro,{className:"h-8 w-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No se encontraron resultados"}),a.jsx("p",{className:"text-gray-600",children:f?"Intenta con otros trminos de bsqueda":`No hay ${t==="users"?"usuarios":"negocios"} registrados`})]})]})]}),g&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[t==="users"?a.jsx(_r,{className:"h-6 w-6"}):a.jsx(Ro,{className:"h-6 w-6"}),b==="add"?"Agregar":"Editar"," ",t==="users"?"Usuario":"Negocio"]}),a.jsx("button",{onClick:A,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:a.jsx(ur,{className:"h-6 w-6"})})]}),a.jsx("div",{className:"p-6",children:t==="users"?a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nombre Completo *"}),a.jsx("input",{type:"text",value:_.name,onChange:E=>L({..._,name:E.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Ej: Juan Prez"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email *"}),a.jsxs("div",{className:"relative",children:[a.jsx(fn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"email",value:_.email,onChange:E=>L({..._,email:E.target.value}),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"correo@ejemplo.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tipo de Usuario *"}),a.jsxs("select",{value:_.type,onChange:E=>L({..._,type:E.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[a.jsx("option",{value:"user",children:"Usuario"}),a.jsx("option",{value:"business",children:"Negocio"})]})]}),_.type==="business"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ID del Negocio"}),a.jsx("input",{type:"text",value:_.business_id,onChange:E=>L({..._,business_id:E.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"ID del negocio asociado"})]})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(Ro,{className:"h-5 w-5 text-blue-600"}),"Informacin Bsica"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nombre del Negocio *"}),a.jsx("input",{type:"text",value:S.name,onChange:E=>P({...S,name:E.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Ej: Hotel Paradise Bay"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Categora *"}),a.jsx("input",{type:"text",value:S.category,onChange:E=>P({...S,category:E.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Ej: Hotel"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Isla *"}),a.jsxs("select",{value:S.island,onChange:E=>P({...S,island:E.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[a.jsx("option",{value:"",children:"Selecciona una isla"}),D.map(E=>a.jsx("option",{value:E,children:E},E))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Ubicacin *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",value:S.location,onChange:E=>P({...S,location:E.target.value}),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Ej: West Bay Beach"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Rango de Precios"}),a.jsxs("select",{value:S.price_range,onChange:E=>P({...S,price_range:E.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[a.jsx("option",{value:"",children:"Selecciona un rango"}),V.map(E=>a.jsx("option",{value:E,children:E},E))]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Descripcin *"}),a.jsx("textarea",{value:S.description,onChange:E=>P({...S,description:E.target.value}),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none",placeholder:"Describe el negocio..."})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:S.is_public,onChange:E=>P({...S,is_public:E.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Negocio Pblico (visible en el directorio)"})]})})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(jn,{className:"h-5 w-5 text-blue-600"}),"Informacin de Contacto"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(fn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"email",value:S.email,onChange:E=>P({...S,email:E.target.value}),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"contacto@negocio.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Telfono"}),a.jsxs("div",{className:"relative",children:[a.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"tel",value:S.phone,onChange:E=>P({...S,phone:E.target.value}),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"+504 2445-1234"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Sitio Web"}),a.jsxs("div",{className:"relative",children:[a.jsx(cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"url",value:S.website,onChange:E=>P({...S,website:E.target.value}),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"www.negocio.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"WhatsApp"}),a.jsx("input",{type:"text",value:S.whatsapp,onChange:E=>P({...S,whatsapp:E.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"+504 9999-9999"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[a.jsx(ci,{className:"h-4 w-4 text-blue-600"}),"Facebook"]}),a.jsx("input",{type:"url",value:S.facebook,onChange:E=>P({...S,facebook:E.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"URL de Facebook"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[a.jsx(ui,{className:"h-4 w-4 text-pink-500"}),"Instagram"]}),a.jsx("input",{type:"url",value:S.instagram,onChange:E=>P({...S,instagram:E.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"URL de Instagram"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[a.jsx(di,{className:"h-4 w-4 text-blue-400"}),"X (Twitter)"]}),a.jsx("input",{type:"url",value:S.twitter,onChange:E=>P({...S,twitter:E.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"URL de X"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[a.jsx(hi,{className:"h-4 w-4"}),"TikTok"]}),a.jsx("input",{type:"url",value:S.tiktok,onChange:E=>P({...S,tiktok:E.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"URL de TikTok"})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Servicios y Amenidades"}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx("input",{type:"text",value:R,onChange:E=>O(E.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Agregar servicio...",onKeyPress:E=>E.key==="Enter"&&(E.preventDefault(),T())}),a.jsx(ie,{type:"button",onClick:T,className:"bg-blue-600 hover:bg-blue-700 px-6",children:a.jsx(us,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2 min-h-[60px] p-4 border-2 border-dashed border-gray-300 rounded-lg",children:S.amenities.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No hay servicios agregados"}):S.amenities.map((E,z)=>a.jsxs(xt,{className:"bg-blue-100 text-blue-800 border-blue-200 border px-3 py-2 flex items-center gap-2",children:[E,a.jsx("button",{type:"button",onClick:()=>q(E),className:"text-blue-600 hover:text-blue-800",children:a.jsx(ur,{className:"h-3 w-3"})})]},z))})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(nf,{className:"h-5 w-5 text-blue-600"}),"Imgenes"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Imagen de Portada"}),a.jsx(Kn,{onImageUploaded:E=>P({...S,cover_image:E}),onImageRemoved:()=>P({...S,cover_image:""}),currentImage:S.cover_image,label:"Portada",maxSize:5})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Logo del Negocio"}),a.jsx(Kn,{onImageUploaded:E=>P({...S,logo:E}),onImageRemoved:()=>P({...S,logo:""}),currentImage:S.logo,label:"Logo",maxSize:2})]})]})]})]})}),a.jsxs("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 flex items-center justify-end gap-3 border-t border-gray-200 rounded-b-2xl",children:[a.jsx(ie,{onClick:A,variant:"outline",className:"px-6 py-3 border-2 hover:bg-gray-100",children:"Cancelar"}),a.jsx(ie,{onClick:t==="users"?J:re,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-8 py-3 shadow-lg hover:shadow-xl transition-all",children:b==="add"?"Crear":"Actualizar"})]})]})})]})},pT=["places"];function gT(){return h.useEffect(()=>{const t=n=>{n.ctrlKey&&(n.key==="u"||n.key==="U")&&(n.preventDefault(),n.stopPropagation())};window.addEventListener("keydown",t);const e=n=>{n.target&&n.target.tagName==="IMG"&&n.preventDefault()};return window.addEventListener("contextmenu",e),()=>{window.removeEventListener("keydown",t),window.removeEventListener("contextmenu",e)}},[]),a.jsx(XC,{children:a.jsx(eE,{children:a.jsx(q0,{googleMapsApiKey:"AIzaSyA-Jv8AMyTySXYsd8rY2kEdNhhotdNWolg",libraries:pT,loadingElement:a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}),children:a.jsx(L2,{children:a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs(j2,{children:[a.jsx(Et,{path:"/",element:a.jsx(DL,{})}),a.jsx(Et,{path:"/directorio",element:a.jsx(L3,{})}),a.jsx(Et,{path:"/negocio/:id",element:a.jsx(G3,{})}),a.jsx(Et,{path:"/negocio/:id/configuracion",element:a.jsx(sT,{})}),a.jsx(Et,{path:"/registrar-negocio",element:a.jsx(K3,{})}),a.jsx(Et,{path:"/editar-negocio",element:a.jsx(aT,{})}),a.jsx(Et,{path:"/registrar-usuario",element:a.jsx(Z3,{})}),a.jsx(Et,{path:"/dashboard",element:a.jsx(tT,{})}),a.jsx(Et,{path:"/sobre-las-islas",element:a.jsx(wy,{})}),a.jsx(Et,{path:"/contacto",element:a.jsx(z4,{})}),a.jsx(Et,{path:"/privacidad",element:a.jsx(xw,{})}),a.jsx(Et,{path:"/terminos",element:a.jsx(oT,{})}),a.jsx(Et,{path:"/user/full-settings",element:a.jsx(iT,{})}),a.jsx(Et,{path:"/set-new-password",element:a.jsx(lT,{})}),a.jsx(Et,{path:"/recent-posts",element:a.jsx(uT,{})}),a.jsx(Et,{path:"/google-callback",element:a.jsx(dT,{})}),a.jsx(Et,{path:"/user/profile",element:a.jsx(fT,{})}),a.jsx(Et,{path:"/user/settings",element:a.jsx(hT,{})}),a.jsx(Et,{path:"/adminroa",element:a.jsx(mT,{})})]}),a.jsx(ak,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#1e40af",color:"#ffffff"}}})]})})})})})}Lj.createRoot(document.getElementById("root")).render(a.jsx(h.StrictMode,{children:a.jsx(Mj,{children:a.jsx(gT,{})})}));
